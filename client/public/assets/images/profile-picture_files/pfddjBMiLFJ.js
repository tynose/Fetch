if (self.CavalryLogger) { CavalryLogger.start_js(["X6lgD"]); }

__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={search:function(a,b){__p&&__p();var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","joinClasses","loadImage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"Pixelz",propTypes:{width:a.number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){__p&&__p();a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){__p&&__p();var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return b("React").createElement("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:b("React").createElement("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle()},a)},getInsetBorder:function(){return!this.hasInsetBorder()?null:b("React").createElement("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var c=this.getInsetBorder();return b("React").createElement("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle()},a,c)},render:function(){var a=this.getSrcDimensions();return!a?b("React").createElement("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("FacebarResultStoreUtils",["FacebarGlobalOptions","FacebarJSConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getQueryFeatures:function(a){__p&&__p();var c={};if(b("FacebarGlobalOptions").enableBootstrapRanking){a.raw_text&&(c.FEATURE_QUERY_LENGTH=a.raw_text.length);if(a.tokens){c.FEATURE_QUERY_TOKENS=a.tokens.length;c.FEATURE_QUERY_TOKEN_LENGTH_SUM=0;for(var d=0;d<a.tokens.length;d++)c.FEATURE_QUERY_TOKEN_LENGTH_SUM+=a.tokens[d].length}}return c},addFeatures:function(a,b,c,d,e,f){__p&&__p();if(!a.features)return;a.features={FEATURE_QUERY_LENGTH:d.FEATURE_QUERY_LENGTH,FEATURE_QUERY_TOKENS:d.FEATURE_QUERY_TOKENS,FEATURE_QUERY_TOKEN_LENGTH_SUM:d.FEATURE_QUERY_TOKEN_LENGTH_SUM};a.features.FEATURE_IS_EXACT_NAME_MATCH=e;a.features.FEATURE_IS_STOP_WORD_MATCH=f;if(b&&b.length>0){d=b.split(" ").length;e=0;for(var f=0;f<a.termMatches.length;++f)b.search(a.termMatches[f])>=0&&e++;a.features.FEATURE_TITLE_TOKEN_MATCH_FRACTION=e/d}if(c.tokens&&c.tokens.length>0){f=b.search(c.tokens[0]);a.features.FEATURE_FIRST_TERM_MATCH_POSITION=f;a.features.FEATURE_FIRST_TERM_MATCH_TOKEN=b.substring(0,f+c.tokens[0].length).split(" ").length;a.termMatches.some(function(b){if(b.search(c.tokens[0])===0){a.features.FEATURE_FIRST_TERM_MATCH_TOKEN_FRACTION=c.tokens[0].length/b.length;return!0}return!1});a.features.FEATURE_IN_ORDER_MATCH=1;c.tokens.length>1&&(f=b.search(c.tokens[1]),a.features.FEATURE_SECOND_TERM_MATCH_POSITION=f,a.features.FEATURE_SECOND_TERM_MATCH_TOKEN=b.substring(0,f+c.tokens[1].length).split(" ").length,a.termMatches.some(function(b){if(b.search(c.tokens[1])===0){a.features.FEATURE_FIRST_TERM_MATCH_TOKEN_FRACTION=c.tokens[0].length/b.length;return!0}return!1}),a.features.FEATURE_SECOND_TERM_MATCH_TOKEN<a.features.FEATURE_FIRST_TERM_MATCH_POSITION&&(a.features.FEATURE_IN_ORDER_MATCH=0))}return a},processEntityResult:function(a,c,d,e,f,g,h,i,j){a={semantic:c.toString(),structure:[{type:a===b("FacebarJSConstants").keywordType?a:"ent:"+a,text:d,uid:c}],type:a,cost:e,cache_id_length:0,features:[]};a.tuid=JSON.stringify({semantic:a.semantic,structure:a.structure});b("FacebarGlobalOptions").enableBootstrapRanking&&(a.termMatches=h[c.toString()],a=this.addFeatures(a,d.toLowerCase(),f,g,i,j));return a},getRawTextFromStructured:function(a){a=a.map(function(a){return a.getText()});return a.join("")},getTextFromResult:function(a){a=a.structure;var b="";a.forEach(function(a){b+=a.text});return b}};e.exports=a}),null);
__d("HashtagParser",["URLMatcher","getHashtagRegex"],(function(a,b,c,d,e,f){__p&&__p();var g=100,h=30,i=/@\[([0-9]+):([0-9]+):((?:[^\\\]]*(?:\\.)*)*)\]/g;function a(a){var b=u(a),c=0,d=0;return j(a).map(function(a){while(c<b.length){var e=b[c],f=e.offset-d;if(f<a.offset)d+=e.token.length-e.name.length,c++;else break}return{marker:a.marker,tag:a.hashtag,rawOffset:a.offset+d,offset:a.offset}})}function c(a){return k(a,p(a))}function j(a){var b=w(a);return k(b,l(a,b))}function k(a,b){return n(a).slice(0,h).filter(function(a){var c=r(a.offset,a.hashtag.length,b);return!c&&a.hashtag.length<=g})}function l(a,b){return q(o(a),p(b))}var m=b("getHashtagRegex")();function n(a){var b=[];a.replace(m,function(a,c,d,e,f){b.push({marker:d,hashtag:e,offset:f+c.length})});return b}function o(a){return x(a).map(function(a){return[a.offset,a.name.length]})}function p(a){var c=[],d,e=0;while(d=b("URLMatcher").permissiveMatch(a)){var f=a.indexOf(d);c.push([e+f,d.length]);a=a.substring(f+d.length);e+=f+d.length}return c}function q(a,b){var c=[],d=0,e=0,f=0;while(d<a.length&&e<b.length)a[d][0]>b[e][0]?c[f++]=b[e++]:c[f++]=a[d++];return c.concat(a.slice(d),b.slice(e))}function r(a,b,c){if(!c)return!1;var d=t(c,a);return s(a,b,c,d)||s(a,b,c,d+1)}function s(a,b,c,d){if(!c[d])return!1;var e=c[d][0];c=c[d][1];return!(a+b-1<e||a>e+c-1)}function t(a,b){var c=0,d=a.length-1;while(c<=d){var e=Math.floor((c+d)/2),f=a[e][0];if(f==b)return e;else f<b?c=e+1:d=e-1}return d}function u(a){var b=[];a.replace(i,function(a,c,d,e,f){b.push({token:a,id:c,type:d,name:e,offset:f})});return b}function v(a){return a?a.replace(/\\([^\\])/g,"$1").replace(/\\\\/g,"\\"):null}function w(a){return a.replace(i,function(a,b,c,d,e){return v(d)})}function x(a){var b=0,c=0;return u(a).map(function(d){var e=a.indexOf(d.token,c);c=e+1;e-=b;var f=v(d.name);b+=d.token.length-f.length;if(e>=0)return{id:d.id,name:f,type:d.type,offset:e}})}d={};d.parse=a;d.parseWithoutMentions=c;e.exports=d}),null);
__d("HashtagSearchResultUtils",["fbt","FacebarResultStoreUtils","HashtagParser","HashtagSearchResultConfig","URI"],(function(a,b,c,d,e,f,g){__p&&__p();a={getHashtagFromQuery:function(a){a=b("HashtagParser").parse(a);return a&&a.length===1&&a[0].offset===0?a[0].tag:!1},makeTypeaheadResult:function(a){var c=g._("Hashtag");return{category:c,path:new(b("URI"))("/hashtag/"+a).toString(),photo:b("HashtagSearchResultConfig").image_url,rankType:null,replace_results:b("HashtagSearchResultConfig").boost_result?!0:!1,scaled_score:1,score:0,text:"#"+a,type:"hashtag_exact",uid:"hashtag:"+a}},makeFacebarEntry:function(a){var c=g._("Hashtag");return{category:c,path:new(b("URI"))("/hashtag/"+a).toString(),photo:b("HashtagSearchResultConfig").image_url,replace_results:b("HashtagSearchResultConfig").boost_result?!0:!1,text:"#"+a,type:"hashtag_exact",uid:"hashtag:"+a}},makeFacebarResult:function(a){var c=b("FacebarResultStoreUtils").processEntityResult("hashtag_exact","hashtag:"+a,"#"+a,b("HashtagSearchResultConfig").hashtag_cost);c.parse={display:[{type:"ent:hashtag_exact",uid:"hashtag:"+a}],remTokens:[],suffix:""};c.tags={hashtag:"hashtag"};return c}};e.exports=a}),null);
__d("MercuryParticipantsImage.react",["MessengerParticipants.bs","React","SplitImage.react","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=!0,this.state={participantImages:[]},b}a.prototype.componentDidMount=function(){this.$3(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};a.prototype.componentWillUnmount=function(){this.$2=!1,this.$1&&this.$1.remove()};a.prototype.shouldComponentUpdate=function(a,c){return a.size!==this.props.size||!b("areEqual")(c.participantImages,this.state.participantImages)};a.prototype.$4=function(){var a=this.props.participants;return!a||a.length===0?"":a.join("-")};a.prototype.render=function(){return this.state.participantImages.length>0?b("React").createElement(b("SplitImage.react"),{border:!0,className:this.props.className||"",halfView:this.props.halfView,srcs:this.state.participantImages,size:Number(this.props.size),key:this.$4()}):null};a.prototype.$3=function(a){this.$1&&this.$1.remove(),!a.participants||!a.participants.length?this.setState({participantImages:[]}):this.$1=b("MessengerParticipants.bs").getOrderedBigImageMulti(a.participants,function(b){a.partiesProfileImages&&(b=b.concat(a.partiesProfileImages)),this.$2&&this.setState({participantImages:b})}.bind(this))};e.exports=a}),null);
__d("MercuryThreadImage.react",["cx","ImmutableObject","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessagingThreadType","Pixelz.react","React","areEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a,c){return a.thread.image_src!==this.props.thread.image_src||!b("areEqual")(a.thread.participants,this.props.thread.participants)||a.size!==this.props.size||a.viewer!==this.props.viewer||a.useBackground!==this.props.useBackground};a.prototype.render=function(){__p&&__p();var a=this.props.thread,c=this.props.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,d=a.image_src;if(d)return this.props.useBackground?b("React").createElement("div",{style:{height:c,backgroundImage:"url("+d+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:c}}):b("React").createElement(b("Pixelz.react"),{alt:"",height:c,resizeMode:"cover",src:d,width:c});if(a.thread_type===b("MessagingThreadType").ROOM){d={height:c+"px",width:c+"px"};a.solid_color&&(d.background=a.solid_color);return b("React").createElement("span",{className:"_asv _asw",style:d},a.name[0])}d=b("MercuryIDs").isCanonical(a.thread_id);var e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=[];a.participants&&(a.participants.length===1&&a.participants[0]===e?f=[].concat(a.participants):(f=a.participants.filter(function(a){return a!==e}),d||(f=f.slice(0,3))));return b("React").createElement(b("MercuryParticipantsImage.react"),{className:this.props.className,halfView:this.props.halfView,participants:f,size:c})};function a(){h.apply(this,arguments)}a.propTypes={halfView:c.bool,thread:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired,size:c.number,useBackground:c.bool,className:c.string};e.exports=a}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("ReactDOMRe.bs",["React","ReactDOM","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").render(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function c(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").render(a,d);return 0}}function d(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").hydrate(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function e(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").hydrate(a,d);return 0}}function g(a,c,d){a=[a,c].concat(d);return b("React").createElement.apply(null,a)}function h(a,b){return Object.assign(Object.assign({},a),b)}function i(a,b,c){var d={};d[b]=c;return h(a,d)}i=[h,i];f.renderToElementWithClassName=a;f.renderToElementWithId=c;f.hydrateToElementWithClassName=d;f.hydrateToElementWithId=e;f.createElementVariadic=g;f.Style=i}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","ReactDOMRe.bs","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function j(a,c,d,e,f,g,h,j,k,l,m,n){__p&&__p();var o=l!==void 0?l:"",p=function(){__p&&__p();if(c!==void 0)return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon _67in"},b("bs_js_primitive").valFromOption(c)));else{var a;if(d!==void 0||e!==void 0||k!==void 0)a=1;else return null;if(a===1)if(m)if(e!==void 0)if(b("CurrentUser").isWorkUser())return null;else{a=e;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _1zvi":"")+(a?"":" _2poo")}))}else if(k!==void 0)if(b("CurrentUser").isWorkUser()){a=k;var f=j!==void 0?j>45:!1;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:(a&&!f?"_4rwy":"")+(a&&f?" _2zb5":"")})])))}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=d;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}))}else return null}};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var c=j!==void 0?""+(String(j)+"px"):"auto",d=g!==void 0?g===b("MessagingThreadType").ROOM:!1,e;if(h!==void 0){var i=h;if(i==="")e={};else{var k=b("getViewportDimensions")().width,l=parseInt("700px".replace("px",""),10);k=k<=l;l=k?"above":"left";e=Object.assign({},b("TooltipData").propsFor(i,l))}}else e={};k=d?{background:f!==void 0?f:"#0084ff",height:c,width:c}:{height:c,width:c};i={className:b("joinClasses")("_4ldz",o),style:{height:c,width:c}};a!==void 0&&(i["aria-hidden"]=b("bs_js_primitive").valFromOption(a));return b("React").cloneElement(b("React").createElement("div",i,b("ReactDOMRe.bs").createElementVariadic("div",{className:"_4ld-"+(d?" _180i":""),style:k},n),p(0)),e)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c=a.className;return j(b("bs_js_primitive").nullable_to_opt(a.ariaHidden),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),void 0,b("bs_js_primitive").nullable_to_opt(a.threadColor),b("bs_js_primitive").nullable_to_opt(a.threadType),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),b("bs_js_primitive").nullable_to_opt(a.size),a.isMultiCompany,c==null?"":c,a.showBadge,[].concat(a.children))});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("OptionType.bs",["bs_curry","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_js_primitive").valFromOption(a),b("bs_js_primitive").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_js_primitive").valFromOption(a)===b("bs_js_primitive").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","Utils.bs","MercuryIDs","OptionType.bs","ReasonReact.bs","bs_js_primitive","WorkForeignEntityInfo.bs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){__p&&__p();var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null||!(a&&e!==0))return!1;else{a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}}var i=b("ReasonReact.bs").statelessComponentWithRetainedProps("MessengerThreadImageReact");function j(a,c,d,e,f,g,j,k,l){__p&&__p();var m=c!==void 0?c:!1,n=d!==void 0?d:!1,o=e!==void 0?e:!1;return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],function(a){var c=a[1][2];a=a[0][2];if(a[0]!==c[0]||a[3]!==c[3]||!b("OptionType.bs").equalsReference(a[4],c[4])||a[5]!==c[5]||a[1]!==c[1]||a[2]!==c[2]||a[6]!==c[6])return!0;else return a[7]!==c[7]},function(){var c=!b("WorkForeignEntityInfo.bs").areAllCoworkers(g),d=c?void 0:n?b("bs_js_primitive").some(b("React").createElement("div",{className:"_466z"})):m?b("bs_js_primitive").some(b("React").createElement("div",{className:"_4670"})):void 0,e={};a!==void 0&&(e.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",e,b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(void 0,d,h(j,g),void 0,b("bs_js_primitive").nullable_to_opt(j.solid_color),b("bs_js_primitive").nullable_to_opt(j.thread_type),void 0,f,c,void 0,o&&b("MercuryIDs").isCanonical(j.thread_id)||c,[b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(f,j,!0,k,[]))])))},i[9],[a,m,n,o,f,h(j,g),j,k],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_js_primitive").nullable_to_opt(a.className),b("Utils.bs").isTruthy(a.isPresenceForWork),b("Utils.bs").isTruthy(a.isDoNotDisturb),b("Utils.bs").isTruthy(a.showBadge),b("bs_js_primitive").nullable_to_opt(a.size),a.participants,a.thread,a.viewer,[])});f.getIsMessengerUser=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("FacebarTypeaheadRefreshNullstate",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;function a(a){this.$1=a.getCore(),this.$2=this.$1.data}a.prototype.enable=function(){this.$1.subscribe("focus",function(){g&&(this.$2.refreshNullstate(),g=!1)}.bind(this))};a.prototype.disable=function(){};a.setIsNullstateStale=function(a){g=a};e.exports=a}),null);
__d("FacebarTypeaheadSeeMore",["cx","fbt","FacebarGlobalOptions","FacebarGSv2Echo","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarStructuredText"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$1=a.getCore(),this.$2=this.$1.view}a.prototype.enable=function(){this.$3=this.$2.subscribe("seeMore",this.$4.bind(this))};a.prototype.disable=function(){this.$3.unsubscribe()};a.prototype.$4=function(a,c){a=c.value.toString().trim();a=b("FacebarGSv2Echo").normalizeValue(a);c=b("FacebarKeywordSearchUtils").makeFacebarEntry(a);var d;b("FacebarGlobalOptions").hasKeywordOnlyTypeahead?d=h._("See all results for {query}",[h._param("query",a)]):d=h._("See all results for \"{query}\"",[h._param("query",a)]);return babelHelpers["extends"]({},c,{query_string:a,icon_class:"_5b1w",isSeeMore:!0,structure:b("FacebarStructuredText").fromString(a),displayStructure:b("FacebarStructuredText").fromString(String(d)),uri:c.uri,tags:{},isSingleState:this.$1.data.getSingleState(),keywordType:b("FacebarJSConstants").keywordTypes.escape,keywordSource:b("FacebarJSConstants").keywordTypes.escape})};e.exports=a}),null);
__d("SearchBootstrapCache",["AsyncRequest","AsyncResponse","CacheStorage","SearchBootstrapCacheConstants"],(function(a,b,c,d,e,f){__p&&__p();var g=1;a={get:function(a,c,d,e,f){__p&&__p();var g=this.getKey(a,c,d),h=this.getStorage(),i=h.get(g);h=b("SearchBootstrapCacheConstants")[c.type]||36e5;if(i==null||Date.now()-i.timestamp>h)f(d,a,c);else{g=new(b("AsyncRequest"))();g.getData=function(){return i.requestData};h=new(b("AsyncResponse"))(g,i.payload);e(h,c)}},set:function(a,b,c){var d=a.getRequest().getData();this.getStorage().set(this.getKey(d,b,c),{timestamp:Date.now(),payload:a.payload,requestData:d})},getKey:function(a,b,c){return JSON.stringify({filter:a.filter,context:a.context,viewer:a.viewer,lazy:a.lazy,token:a.token,type:b.type,bootstrapEndpoint:c})},getStorage:function(){return new(b("CacheStorage"))("localstorage","_SearchBootstrapCache_"+g)}};e.exports=a}),null);
__d("SearchSingleState",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,b,c,d){return{classNames:"grammar",groupIndex:0,indexInGroup:a,path:b,text:c,type:"grammar",uid:d}}a={getSuggestions:function(a,b,c){if(c==="ent:user")return this.getSuggestionsForUser(a,b);else if(c==="ent:page")return this.getSuggestionsForPage(a,b);else if(c==="ent:app")return this.getSuggestionsForApp(a,b);else if(c==="ent:group")return this.getSuggestionsForGroup(a,b)},getSuggestionsForUser:function(a,b){return[h(0,"/search/"+a+"/photos-of",g._("photos of {full name}",[g._param("full name",b)]),"photos_of_user"),h(1,"/search/"+a+"/friends",g._("friends of {full name}",[g._param("full name",b)]),"friends_of_user"),h(2,"/search/"+a+"/pages-liked",g._("favorite pages of {full name}",[g._param("full name",b)]),"pages_liked_user"),h(3,"/search/str/"+b+"/users-named",g._("find all people named \"{full name}\"",[g._param("full name",b)]),"people_named_text")]},getSuggestionsForPage:function(a,b){return[h(0,"/search/"+a+"/photos-of",g._("photos of {name of page}",[g._param("name of page",b)]),"photos_of_page"),h(1,"/search/"+a+"/likers",g._("people who like {name of page}",[g._param("name of page",b)]),"page_likers"),h(2,"/search/str/"+b+"/pages-named",g._("find all pages named \"{name of page}\"",[g._param("name of page",b)]),"pages_named_text")]},getSuggestionsForGroup:function(a,b){return[h(0,"/search/"+a+"/members",g._("{name of group} members",[g._param("name of group",b)]),"members_of_group"),h(1,"/search/"+a+"/photos-in",g._("photos in {name of groups}",[g._param("name of groups",b)]),"photos_in_group"),h(2,"/search/"+a+"/creators",g._("{name of group} creators",[g._param("name of group",b)]),"creators_of_group"),h(3,"/search/"+a+"/admins",g._("{name of group} administrators",[g._param("name of group",b)]),"admins_of_group")]},getSuggestionsForApp:function(a,b){return[h(0,"/search/"+a+"/apps-similar-to",g._("apps similar to {name of app}",[g._param("name of app",b)]),"similar_apps"),h(1,"/search/"+a+"/app-users",g._("people who use {name of app}",[g._param("name of app",b)]),"app_users"),h(2,"/search/str/"+b+"/pages-named",g._("find all apps named \"{name of page}\"",[g._param("name of page",b)]),"apps_named_text")]}};e.exports=a}),null);
__d("SearchDataSource",["Arbiter","AsyncResponse","CSRFGuard","CurrentUserInitialData","DataSource","Event","FacebarJSConstants","HashtagSearchResultUtils","PageTransitionsRegistrar","SearchBootstrapCache","SearchRegion","SearchSingleState","UnicodeCJK","XHRRequest","createArrayFromMixed","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=100,i="/typeahead/search/facebar/nullstate/";c=babelHelpers.inherits(a,b("DataSource"));g=c&&c.prototype;function a(a){__p&&__p();a.headerflags=new Map();(b("SearchRegion").sgp_fork_ss_at_proxygen||b("SearchRegion").sgp_fork_gs_at_proxygen)&&a.headerflags.set("X-FB-ForkingType","edge-sgp-search");g.constructor.call(this,a);this._updateMaxResults=function(){var a=window.innerHeight||document.documentElement.clientHeight;this.setMaxResults(Math.max(this._numResults.min,Math.min(this._numResults.max,Math.ceil(2+(a-370)/56))))}.bind(this);this._token=a.token||"";this._lazyonload=a.lazyonload!==!1;this._extraTypes=a.extraTypes;this._buckets=a.buckets;this._noMultiFetch=a.noMultiFetch||!1;this._nullStateConfig=a.nullStateConfig||{};var c=a.maxResults||8;this._numResults={min:3,max:c};this.recordingRoute=a.recordingRoute||"non_banzai";this._enabledHashtag=a.enabledHashtag||!1;this.logBackendQueriesWindow=a.logBackendQueriesWindow||25;this._genTime=a.genTime;this._bootstrapError=!1;this._hasKeywordBootstrap=a.hasKeywordBootstrap||!1;this._addJoinedTermsMatching=a.addJoinedTermsMatching||!1;this._useBootstrapCache=a.useBootstrapCache||!1;this._useBrowserCache=a.useBrowserCache||!1;this.cacheUnicodeMatch.setConfigs({prefix_hangul_conjoining_jamo:!0,prefix_kana_drop_trailing_latin:a.cjkDropLatinInCjTokens,prefix_kana_hiragana_to_katakana:a.cjkUiCacheHiraganaToKatakana,search_i18n_prefix_arabic_normalization:a.arabicNormalization});this.backendUnicodeMatch.setConfigs({prefix_kana_drop_trailing_latin:a.cjkDropLatinInCjTokens})}a.prototype.init=function(){__p&&__p();g.init.call(this);this._leanPayload=null;this._bootstrapRequestsPending=0;this._criticalOnly=!0;this._updateMaxResults();var a=b("debounce")(this._updateMaxResults,h,this,!0);b("Event").listen(window,"resize",a);this._nullStateConfig.prefetchNullState&&this.fetchNullState("");this._nullStateConfig.singleState&&b("Arbiter").subscribe("page_transition",this.handlePageTransition.bind(this));(this._nullStateConfig.prefetchNullState||this._nullStateConfig.singleState)&&b("Arbiter").subscribe("search/updateNullState",this.updateNullState.bind(this));this._nullStateConfig.recent&&b("Arbiter").subscribe("search/refreshRecentSearchesNullstate",this.refreshRecentSearches.bind(this))};a.prototype.refreshRecentSearches=function(){this.nullStateData=null};a.prototype.handlePageTransition=function(){this.nullStateParams={}};a.prototype.updateNullState=function(a,b){this.nullStateParams=b,this.fetchNullState()};a.prototype.markResultsAsNullState=function(a){__p&&__p();if(a)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.isNullState=!0}};a.prototype.markResultsAsSingleState=function(a){__p&&__p();if(a)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.isSingleState=!0}};a.prototype.fetchNullState=function(a){this.lastNullOrSingleStateFetchStartTime=Date.now();if(!this._nullStateConfig.hasNullState)return;var b=null;this.nullStateParams&&this.nullStateParams.uid?(this.nullStateParams.query=a||"",b=this._fetchDataForSingleState(),this.markResultsAsNullState(b)):(b=this._fetchDataForNullState(),this.markResultsAsSingleState(b));b&&this.inform("respond",{value:this.nullStateParams?this.nullStateParams.query:"",results:b,isAsync:!1,nullState:!0})};a.prototype._fetchDataForSingleState=function(){__p&&__p();if(this.nullStateDataWithProfile&&this.nullStateParams.uid===this.nullStateDataWithProfile.profileID)return this.nullStateDataWithProfile.data;if(this.nullStateParams.type==="ent:app"||this.nullStateParams.type==="ent:group"||this.nullStateParams.type==="ent:page"){this.fetch(i,{profile_id:this.nullStateParams.uid,ent_type:this.nullStateParams.type},{singleState:!0});this.nullStateDataWithProfile={profileID:this.nullStateParams.uid};return}var a=b("SearchSingleState").getSuggestions(this.nullStateParams.uid,this.nullStateParams.text,this.nullStateParams.type);if(!a)return this._fetchDataForNullState();this.nullStateDataWithProfile={data:a,profileID:this.nullStateParams.uid};return a};a.prototype._shouldRefreshNullState=function(){if(!this._nullStateConfig.recent)return!1;var a=window.location.href;if(!a)return!1;return a.contains("allactivity")&&a.contains("log_filter=search")?!0:!1};a.prototype._fetchDataForNullState=function(){if(this.nullStateData&&!this._shouldRefreshNullState()){this.markResultsAsNullState(this.nullStateData);window.setTimeout(function(){this.inform("respond",{value:"",results:this.nullStateData,isAsync:!0,nullState:!0})}.bind(this),0);return}this.fetchingNullState||(this.fetchingNullState=!0,this.fetch(i,{value:""},{nullState:!0,value:""}));return null};a.prototype.dirty=function(){g.dirty.call(this),this._bootstrapError=!1,this._fetchOnUseRequests=[]};a.prototype.asyncErrorHandler=function(a,b){b.nullState&&(this.fetchingNullState=!1),b.bootstrap&&(this._bootstrapError=!0),this.inform("fetchError",{response:a,fetch_context:b})};a.prototype.fetch=function(a,c,d){d=d||{};d.fetch_start=Date.now();var e=b("PageTransitionsRegistrar").getMostRecentURI().getPath();c=babelHelpers["extends"]({},c,{path:e});g.fetch.call(this,a,c,d)};a.prototype.xhrFetchHandler=function(a,c,d){a=b("CSRFGuard").clean(a);a=JSON.parse(a);return this.fetchHandler(new(b("AsyncResponse"))(null,a.payload),d,c)};a.prototype.fetchHandler=function(a,c,d){__p&&__p();d===void 0&&(d=null);if(c.nullState){this.fetchingNullState=!1;this.nullStateData=a.getPayload().entries;this.markResultsAsNullState(this.nullStateData);this.inform("respond",{value:"",results:this.nullStateData,isAsync:!0,nullState:!0});return}if(c.singleState){this.nullStateDataWithProfile.data=a.getPayload().entries;this.markResultsAsSingleState(this.nullStateDataWithProfile.data);this.inform("respond",{results:this.nullStateDataWithProfile.data,isAsync:!0,value:this.nullStateParams?this.nullStateParams.query:"",nullState:!0});return}var e=a.getPayload(),f=babelHelpers["extends"]({fetch_end:Date.now()},c),h=f.value?"event":"persistent";this.inform("beginFetchHandler",{response:a});c.bootstrap&&(this._bootstrapError=!1);var i=d===null?a.getRequest().uri.getPath():d.getURI().getPath();i===this.bootstrapEndpoint&&this._useBootstrapCache&&b("SearchBootstrapCache").set(a,c,this.bootstrapEndpoint);if(c.type=="lean")this._leanPayload=e,this._processLean();else{e.coeff2_ts&&(f.coeff2_ts=e.coeff2_ts);g.fetchHandler.call(this,a,c);i=d===null?a.getRequest().getData():d.getData();c.bootstrap&&!i.no_cache&&(f.browserCacheHit=e.timestamp<this._genTime);c.bootstrap&&!e.no_data&&this._bootstrapRequestsPending>0&&(c.bootstrap=!1,--this._bootstrapRequestsPending,this._bootstrapRequestsPending||this._bootstrapPostProcess());if(e.no_data||e.stale||e.token!==this._token){d=babelHelpers["extends"]({},i);d.lazy&&(delete d.lazy,d.token=this._token,this._fetchOnUse(d,c))}}this.inform("endpointStats",{info:f,response:a},h);c&&!!c.value&&this.inform("completeFetch",{response:a,stats:f});e=this.getResponseHeaderValue("X-FB-ForkingPoolID");e.length>0&&this.inform("logProxygenForkPoolId",{field:"fork_pool_id",value:e})};a.prototype.respond=function(a,b,c){this.inform("respondValidUids",b);this.inform("reorderResults",b);b=this.buildData(b,a);b.forEach(function(a,b){a.origIndex=b,a.fromCache=!c});this.inform("respond",{value:a,results:b,isAsync:!!c});return b};a.prototype.buildData=function(a,b){if(!a||a.length===0)return[];b=a.map(this.getEntry,this);b.length=Math.min(b.length,this._maxResults);return b};a.prototype.fetchLean=function(){this._fetchLean()};a.prototype._isQueryTooShort=function(a){return a.length<this._minQueryLength&&!this._performShortQuery&&!b("UnicodeCJK").hasIdeoOrSyll(a)};a.prototype.shouldFetchMoreResults=function(a){return a.length<this._maxResults};a.prototype._bootstrapPostProcess=function(){var a=0;for(var b in this._data)Object.prototype.hasOwnProperty.call(this._data,b)&&a++;this.inform("bootstrapped",{time:Date.now(),size:a},"persistent");this._processLean()};a.prototype._processLean=function(){if(this._leanPayload){var a,b=this._leanPayload.entries;for(var c in b)a=this.getEntry(c),a&&(a.index=b[c]);this.setExclusions(this._leanPayload.blocked);this._leanPayload=null}};a.prototype._bootstrapFetch=function(a,b){b=babelHelpers["extends"]({},b,this.bootstrapData);this._criticalOnly&&this._lazyonload&&(b.lazy=1);a={bootstrap:!0,type:a};this._fetchBootstrapMaybeCache(b,a);++this._bootstrapRequestsPending};a.prototype._fetchBootstrapMaybeCache=function(a,c){__p&&__p();if(this._useBootstrapCache)b("SearchBootstrapCache").get(a,c,this.bootstrapEndpoint,this.fetchHandler.bind(this),this.fetch.bind(this));else if(this._useBrowserCache){var d=new(b("XHRRequest"))(this.bootstrapEndpoint).setData(babelHelpers["extends"]({},a,{__user:b("CurrentUserInitialData").USER_ID,__a:1})).setMethod("GET").setResponseHandler(function(a){return this.xhrFetchHandler(a,d,c||{})}.bind(this)).setErrorHandler(function(a){return this.asyncErrorHandler(a,c)}.bind(this));this.inform("beforeFetch",{request:d,fetch_context:c});d.send()}else this.fetch(this.bootstrapEndpoint,a,c)};a.prototype._fetchOnUse=function(a,b){for(var c in this.bootstrapData)Object.prototype.hasOwnProperty.call(a,c)||(a[c]=this.bootstrapData[c]);this._criticalOnly?this._fetchOnUseRequests.push({args:a,ctx:b}):this._fetchBootstrapMaybeCache(a,b)};a.prototype._fetchLean=function(){var a={no_cache:1};a.options=b("createArrayFromMixed")(a.options);a.options.push("lean");this._fetchOnUse(a,{type:"lean"})};a.prototype.bootstrap=function(a){__p&&__p();a||(this._criticalOnly=!1,this._flushFetchOnUseRequests());if(this._bootstrapped)return;a={filter:["event"]};this._fetchOnUse(a,{type:"event"});a=["app","page","group","friendlist"];a=a.concat(this._extraTypes||[]);var c=[];this._hasKeywordBootstrap&&c.push(b("FacebarJSConstants").keywordType);if(this._noMultiFetch)a.push("user"),a=a.concat(c),this._bootstrapFetch("user",{filter:a});else{this._bootstrapFetch("other",{filter:a});if(this._buckets)for(var a=0;a<this._buckets.length;++a){var d={filter:["user"],buckets:this._buckets[a]};this._bootstrapFetch("user",d)}else this._bootstrapFetch("user",{filter:["user"]});c.length>0&&this._bootstrapFetch("keyword",{filter:c})}this._fetchLean();this._bootstrapped=!0};a.prototype.getBootstrapError=function(){return this._bootstrapError};a.prototype._flushFetchOnUseRequests=function(){var a=this._fetchOnUseRequests.length;for(var b=0;b<a;++b){var c=this._fetchOnUseRequests[b];this._fetchBootstrapMaybeCache(c.args,c.ctx)}a>0&&this.inform("extra_bootstrap",{time:Date.now()},"persistent");this._fetchOnUseRequests=[]};a.prototype.onLoad=function(a,b){this.inform("onload",{time:Date.now()},"persistent"),a&&window.setTimeout(this.bootstrap.bind(this,b),0)};a.prototype.mergeUids=function(a,b,c,d){__p&&__p();var e=this.getDynamicHashtagResult(d);d&&e&&b.indexOf(e)<=0&&b.unshift(e);e=c[0]?this.getEntry(c[0]):null;var f=b[0]?this.getEntry(b[0]):null;e=e&&e.replace_results?e:null;e=!e&&f&&f.replace_results?f:e;f=g.mergeUids.call(this,a,b,c,d);if(e){this.inform("backend_topreplace",{});return this.deduplicateByKey([e.uid].concat(f))}return f};a.prototype.getTextToIndexFromFields=function(a,b){var c=[],d=a.tokenVersion==="v2";for(var e=0;e<b.length;++e){if(d&&(b[e]==="text"||b[e]==="alias"))continue;var f=a[b[e]];f&&(f=f.join?f.join(" "):f,c.push(f),b[e]=="text"&&this._addJoinedTermsMatching&&(f=f.toLowerCase(),f=f.replace(/ /g,""),c.push(f)))}return c.join(" ")};a.prototype.getDynamicHashtagResult=function(a){if(!a||!this._enabledHashtag)return;var c=b("HashtagSearchResultUtils").getHashtagFromQuery(a);if(!c)return;var d="hashtag:"+c,e=this.getEntry(d);e||this.processEntries([b("HashtagSearchResultUtils").makeTypeaheadResult(c)],a);return d};a.prototype.tokenizeCache=function(a,b){a=this.cacheUnicodeMatch.prefixMatchPrepare(a);a=this._tokenize(a,b);b=a.tokens;b.length>0&&a.value.startsWith("@")&&(b[0]="@"+b[0]);return a};e.exports=a}),null);
__d("SearchTypeaheadRecorder",["AsyncRequest","Banzai","BanzaiNectar","BanzaiScuba","CurrentUser","Event","FacebarGlobalOptions","Keys","TokenizeUtil","Vector","clickRefAction","ge","mapObject","throttle","whitelistObjectKeys"],(function(a,b,c,d,e,f){__p&&__p();var g={WAITING:"WAITING",SUCCESS:"SUCCESS",NO_RESULTS:"NO_RESULTS",ERROR:"ERROR"};function a(a){"use strict";this.init(a),this.initEvents(a)}a.prototype.init=function(a){"use strict";__p&&__p();this.core=a.getCore();this.data=a.getData();this.view=a.getView();this.element=this.core.getElement();this.initTime=Date.now();this._onloadTime=0;this._extraRecorder=[];this.performanceTimings={};this.allFromSingleState=!1;this.allFromNullState=!1;a=b("ge")("search_first_focus");this.initStartTime=a&&a.value;this.bootstrapStats={bootstrapped:0};this.type="legacy_search";this._reset()};a.prototype._reset=function(){"use strict";__p&&__p();this.stats={};this.avgStats={};this.appendStats={};this._backspacing=!1;this.backendQueries=[];this.backendQueriesStatus={};this._topreplace=!1;this._inflightRequests={};var a=Math.random().toString();this.data.setQueryData({sid:a});this.view.setSid(a);this.recordStat("sid",a);this.recordStat("keypressed",0)};a.prototype.initEvents=function(){"use strict";__p&&__p();this.core.subscribe("focus",function(a){if(!this.stats.session_start_time){this.recordStat("session_start_time",Date.now());a=new Date();a=a.getTimezoneOffset();a=Date.now()-a*60*1e3;this.recordStat("session_start_time_user_timezone",a);this._lastRenderTime=0;this._firstKeypressTime=null}}.bind(this)),this.core.subscribe("blur",function(a){a=Date.now();for(var b in this._inflightRequests){var c=this._inflightRequests[b];c=a-c;this.recordAvgStat("search_endpoint_ms_from_js",c)}this.recordStat("session_end_time",a);this.submit()}.bind(this)),this.view.subscribe("select",function(a,b){this.recordStat("time_between_select_and_last_render",Date.now()-this._lastRenderTime),this._firstKeypressTime!=null&&this.recordStat("keypress_to_select_time",Date.now()-this._firstKeypressTime),this.recordSelectInfo(b)}.bind(this)),this.view.subscribe("render",function(a,b){this._lastRenderTime=Date.now(),this.recordRender(b)}.bind(this)),this.data.subscribe("logPerformanceTiming",function(a,b){this.performanceTimings[b.field]=b.value}.bind(this)),this.data.subscribe("logProxygenForkPoolId",function(a,b){this.recordStat(b.field,b.value)}.bind(this)),this.data.subscribe("activity",function(a,b){this.recordStat("pending_request",b.activity)}.bind(this)),this.data.subscribe("respondValidUids",function(a,b){this.validUids=b.slice(0)}.bind(this)),this.data.subscribe("beforeQuery",function(a,b){__p&&__p();if(!b.value){this.query="";this.results=[];this.data.lastNullOrSingleStateFetchStartTime=Date.now();return}this.stats.first_query_time||this.recordStat("first_query_time",Date.now());this.query=b.value;this.queryStartTime||(this.queryStartTime=[]);this.queryStartTime[this.query]=Date.now();this.recordCountStat("num_queries")}.bind(this)),this.data.subscribe("queryEndpoint",function(a,b){this.recordCountStat("num_search_ajax_requests"),this.recordAvgStat("endpoint_query_length",b.value.length),this._inflightRequests[b.value]=Date.now()}.bind(this)),this.data.subscribe("onload",function(a,b){this._onloadTime=b.time}.bind(this)),this.data.subscribe("bootstrapped",function(a,b){this.bootstrapStats.endTime=b.time,this.bootstrapStats.bootstrapped=1}.bind(this)),this.core.subscribe("recordFunction",function(a,b){this._extraRecorder.push(b)}.bind(this)),this.data.subscribe("endpointStats",function(a,b){a=b.info;b=a.fetch_end-a.fetch_start;a.value?this.recordAvgStat("search_endpoint_ms_from_js",b):this.bootstrapStats[a.type]=b;a.coeff2_ts&&(this.bootstrapStats.coeff2_ts=a.coeff2_ts);typeof a.browserCacheHit!=="undefined"&&this.recordCountStat(a.browserCacheHit?"bootstrap_cachehits":"bootstrap_cachemisses");this._inflightRequests[a.value]&&delete this._inflightRequests[a.value]}.bind(this)),this.data.subscribe("fetchComplete",function(a,b){a=b.entries;b=b.value;b&&this.backendQueriesStatus[b]&&(this._addDurationForBackendQuery(this.backendQueriesStatus[b]),this.backendQueriesStatus[b].status=a&&a.length>0?g.SUCCESS:g.NO_RESULTS)}.bind(this)),this.data.subscribe("fetchError",function(a,b){a=b.fetch_context;b=a.value;if(a.bootstrap||!b)return;this.backendQueriesStatus[b]&&(this.backendQueriesStatus[b].status=g.ERROR,this._addDurationForBackendQuery(this.backendQueriesStatus[b]))}.bind(this)),this.data.subscribe("query",function(a,b){this.recordAvgStat("num_results_from_cache",b.results.length)}.bind(this)),this.data.subscribe("backend_topreplace",function(a,b){!1===this._topreplace&&(this.recordStat("backend_topreplace",1),this._topreplace=!0)}.bind(this)),this.data.subscribe("completeFetch",function(a,b){if(this.core.scubaInfo){a=b.response;b={recv:b.stats.fetch_end-b.stats.fetch_start,render:Date.now()-b.stats.fetch_start,payload_size:JSON.stringify(a).length};a.payload.entities||(a.payload.entities=this.buildResults());this.logToScuba(a,b,this.core.scubaInfo,this.query,this.type)}}.bind(this)),this.data.subscribe("completeCacheFetch",b("throttle")(function(a,b){this.core.scubaInfo&&this.logToScuba({},{},this.core.scubaInfo,this.query,this.type)}.bind(this),500)),b("Event").listen(this.element,"keydown",function(a){this.recordStat("keypressed",1),this.recordCountStat("count_keys_pressed"),b("Event").getKeyCode(a)==b("Keys").BACKSPACE?!this._backspacing&&this.query&&(this._backspacing=!0,this.recordAppendStat("before_backspace_queries",this.query)):this._backspacing=!1,this._firstKeypressTime==null&&(this._firstKeypressTime=Date.now())}.bind(this)),this.data.subscribe("beforeFetch",function(a,b){a=b.request.data?b.request.data.value:null;if(!a)return;this.backendQueries.push(a);this.backendQueriesStatus[a]={status:g.WAITING,start_time:Date.now()}}.bind(this))};a.prototype.recordStat=function(a,b){"use strict";this.stats[a]=b};a.prototype.recordCountStat=function(a){"use strict";var b=this.stats[a];this.stats[a]=b?b+1:1};a.prototype.recordAvgStat=function(a,b){"use strict";this.avgStats[a]?(this.avgStats[a][0]+=b,++this.avgStats[a][1]):this.avgStats[a]=[b,1]};a.prototype.recordAppendStat=function(a,b){"use strict";Object.prototype.hasOwnProperty.call(this.appendStats,a)||(this.appendStats[a]=[]),this.appendStats[a].push(b)};a.prototype.recordRender=function(a){"use strict";__p&&__p();this.results=a.filter(function(a){return a.uid!="search"&&a.type!="disabled_result"&&a.type!="header"}).map(function(a){return babelHelpers["extends"]({},a)});a=null;this.queryStartTime&&(a=this.queryStartTime[this.query]);var c=this.results.every(function(a){return a.fromCache||a.isSeeMore}),d=this.results.every(function(a){return a.isFromGSEF||a.fromCache||a.isSeeMore||a.isJSBootstrapMatch})&&this.results.some(function(a){return a.isFromGSEF}),e=this.results.every(function(a){return a.isGloballyCachedKeyword||a.fromCache||a.isSeeMore||a.isJSBootstrapMatch})&&this.results.some(function(a){return a.isGloballyCachedKeyword}),f=this.results.every(function(a){return a.isNullState}),g=this.results.every(function(a){return a.isSingleState}),h=this.results.every(function(a){return a.exactMatchKeyword||a.isSeeMore});this.allFromSingleState=g;this.allFromNullState=f;if(this.results.length&&this.data.lastNullOrSingleStateFetchStartTime&&f)this.recordStat("time_render_null_state",Date.now()-this.data.lastNullOrSingleStateFetchStartTime),this.data.lastNullOrSingleStateFetchStartTime=null;else if(this.data.lastNullOrSingleStateFetchStartTime&&this.results.length&&g)this.recordStat("time_render_single_state",Date.now()-this.data.lastNullOrSingleStateFetchStartTime);else if(a){f=Date.now()-a;h?this.recordAppendStat("times_render_gs_echo",f):this.recordAppendStat(c?"times_render_local":"times_render_remote",f);!c&&d&&this.recordAppendStat("time_render_gs_early_fetch",f);!c&&e&&this.recordAppendStat("time_render_globally_cached_keywords",f);!c&&!d&&!e&&this.recordAppendStat("time_render_remote_main_call",f)}this.data.lastNullOrSingleStateFetchStartTime=null;g=b("Vector").getViewportDimensions();this.recordStat("window_size_width",g.x);this.recordStat("window_size_height",g.y);this.results.length>0&&!this.stats.first_result_time&&this.recordStat("first_result_time",Date.now());a="typed";this.allFromNullState?a="nullstate":this.allFromSingleState&&(a="singlestate");this.recordStat("last_state",a)};a.prototype.recordSelectInfo=function(a){"use strict";__p&&__p();var c=a.selected,d=a.index;c.groupIndex!==void 0&&(d=a.index-c.groupIndex-1);var e={href:c.path},f=c.dataGT?{gt:JSON.parse(c.dataGT)}:{};b("clickRefAction")("click",e,null,null,f);if(c.uid=="search"||c.uid=="people_search")this.recordStat("selected_position",this.results!=null?this.results.length:0),this.recordStat("selected_search",1);else if(c.uid=="invite")this.recordStat("selected_invite",1);else{e=c.log_type||c.rankType||c.render_type||c.type;f=e=="friend"?"user":e;this.recordStat("selected_"+f,1);this.recordStat("selected_position",d);this.recordStat("selected_type",e);this.recordStat("selected_name_length",c.text.length);this.recordStat("selected_id",c.uid);this.recordStat("selected_degree",c.bootstrapped?1:2);this.recordStat("selected_recent_search",c.recent_search);f=b("TokenizeUtil").parse(this.data.getTextToIndex(c)).tokens;d=h(f,this.query);d&&this.recordStat("matched_terms",d);this.recordStat("selected_text",c.text)}var g={};this._extraRecorder.forEach(function(b){b(a,this.results,g)}.bind(this));this.recordStat("extra_select_info",JSON.stringify(g));this.recordStat("selected_with_mouse",a.clicked?1:0)};a.prototype._addDurationForBackendQuery=function(a){"use strict";a.start_time&&(a.duration=Date.now()-a.start_time,delete a.start_time)};a.prototype._dataToSubmit=function(){"use strict";__p&&__p();this.recordStat("candidate_results",this.buildResults());this.recordStat("query",this.query);this.recordStat("init_time",this.initTime);this.initStartTime&&(this.recordStat("init_start_time",this.initStartTime),this.recordStat("onload_time",this._onloadTime),this.initStartTime=0);this.recordStat("bootstrapped",this.bootstrapStats.bootstrapped);this.bootstrapStats.endTime&&(this.recordStat("bootstrapped_time",this.bootstrapStats.endTime),this.recordStat("user_bootstrap_ms",this.bootstrapStats.user),this.recordStat("other_bootstrap_ms",this.bootstrapStats.other),this.bootstrapStats.endTime=0);var a=this.data.getBootstrapError();a&&this.recordStat("bootstrap_error",1);this.recordStat("coeff2_ts",this.bootstrapStats.coeff2_ts);this.recordStat("max_results",this.data._maxResults);if(this.backendQueries.length>0){this.backendQueries.length>this.data.logBackendQueriesWindow&&(this.backendQueries=this.backendQueries.slice(this.backendQueries.length-this.data.logBackendQueriesWindow));this.recordStat("backend_queries",this.backendQueries);a=b("whitelistObjectKeys")(this.backendQueriesStatus,this.backendQueries);b("mapObject")(a,this._addDurationForBackendQuery,this);this.recordStat("backend_queries_status",a)}if(b("FacebarGlobalOptions").taSessionLoggingSample){var c=[];this.results.forEach(function(a){c.push([a.text||"",a.category||"",a.subtext||""])});this.recordStat("raw_suggestions_text",c)}a=this.stats;for(var d in this.avgStats){var e=this.avgStats[d];a[d]=e[0]/e[1]}for(var f in this.appendStats)a[f]=JSON.stringify(this.appendStats[f]);return a};a.prototype.buildResults=function(){"use strict";var a=(this.results||[]).map(function(a,c){var d=b("TokenizeUtil").parse(this.data.getTextToIndex(a)).tokens,e=a.rankType||a.render_type||a.type,f=a.log_type,g=a.bootstrapped?1:0,i=a.s_token||"",j=typeof a.index==="undefined"?100:a.index;d=h(d,this.query)||this.query;var k=a.index_rank,l=a.match_type,m=a.l_type,n=a.vertical_type,o=a.prefix_match,p=a.prefix_length,q=a.text,r=a.category,s=a.subtext,t=a.fromCache,u=a.isNullState,v=a.isSingleState,w=a.logInfo;return typeof a.groupIndex==="number"?[a.groupIndex,a.indexInGroup,a.uid,e,g,i,d,k,l,o,p,a.origIndex,m,n,q,r,s,j,t,u,v,w,f]:[0,c,a.uid,e,g,i,d,k,l,o,p,a.origIndex,m,n,q,r,s,j,t,u,v,w,f]}.bind(this));return JSON.stringify(a)};a.prototype.submit=function(){"use strict";var a=this._dataToSubmit();switch(this.data.recordingRoute){case"banzai_vital":b("Banzai").post(this._banzaiRoute,a,{delay:0,retry:!0});break;default:this.submitThroughAsyncRequest(a)}this._reset()};a.prototype.addLatencyToSample=function(a,b,c,d){"use strict";a.addInteger(d+"query_start",c.queryStart),a.addInteger(d+"query_end",c.queryEnd),a.addInteger(d+"keypress_query_end",c.keyPressToQueryEnd),a.addInteger(d+"render",c.render),a.addInteger(d+"keypress_render",c.keyPressToRender),b[d+"query_start"]=c.queryStart,b[d+"query_end"]=c.queryEnd,b[d+"keypress_query_end"]=c.keyPressToQueryEnd,b[d+"render"]=c.render,b[d+"keypress_render"]=c.keyPressToRender};a.prototype.logToScuba=function(a,c,d,e,f){"use strict";__p&&__p();var g={},h=new(b("BanzaiScuba"))("search_facebar_js",null,{addBrowserFields:!0,addPredictedGeographyFields:!0,addUser:!0,addSearchVersion:!0,addGatekeepers:{facebarGKs:!0}});h.addInteger("sample_rate",d.sample_rate);g.sample_rate=d.sample_rate;h.addNormal("site",d.site);g.site=d.site;h.addDenorm("query",e);g.query=e;d=a.payload||{};d.entities&&(h.addInteger("num_entities",d.entities.length),g.num_entities=d.entities.length);Object.keys(this.performanceTimings).forEach(function(a){h.addInteger(a,this.performanceTimings[a]),g[a]=this.performanceTimings[a]}.bind(this),this);if(d.results||d.entries){var i=(d.results||d.entries).length;h.addInteger("num_results",i);g.num_results=i}d.gzipped_payload_size!==void 0&&(h.addInteger("gzipped_payload_size",d.gzipped_payload_size),g.gzipped_payload_size=d.gzipped_payload_size);c.recv&&c.render>c.recv&&(h.addInteger("time_render",c.render-c.recv),g.time_render=c.render-c.recv,h.addInteger("time_js_async",c.recv),g.time_js_async=c.recv);c.payload_size&&(h.addInteger("payload_size",c.payload_size),g.payload_size=c.payload_size);this.stats.time_render_null_state&&(!e||e.length===0)&&(h.addInteger("time_render_null_state",this.stats.time_render_null_state),g.time_render_null_state=this.stats.time_render_null_state);h.addInteger("query_id",a.queryId);g.query_id=a.queryId;h.addDenorm("user_id",b("CurrentUser").getID());g.user_id=b("CurrentUser").getID();h.addDenorm("session_id",this.stats.sid);g.session_id=this.stats.sid;h.addNormal("typeahead_type",f);g.typeahead_type=f;c.remoteQueryLatencies&&(this.addLatencyToSample(h,g,c.remoteQueryLatencies,"remote_"),h.addInteger("remote_keypress_query_dispatch",c.remoteQueryLatencies.keyPressToQueryDispatch),g.remote_keypress_query_dispatch=c.remoteQueryLatencies.keyPressToQueryDispatch,h.addInteger("remote_keypress_query_start",c.remoteQueryLatencies.keyPressToQueryStart),g.remote_keypress_query_start=c.remoteQueryLatencies.keyPressToQueryStart,h.addNormal("inflight_requests",c.remoteQueryLatencies.inflightRequests),h.addInteger("inflight_requests",c.remoteQueryLatencies.inflightRequests),g.inflight_requests=c.remoteQueryLatencies.inflightRequests,h.addNormal("waiting_queries",c.remoteQueryLatencies.waitingQueries),h.addInteger("waiting_queries",c.remoteQueryLatencies.waitingQueries),g.waiting_queries=c.remoteQueryLatencies.waitingQueries);c.cacheQueryLatencies&&this.addLatencyToSample(h,g,c.cacheQueryLatencies,"cache_");h.post();b("BanzaiNectar").log("search_facebar_js","typeahead",g)};a.prototype.submitThroughAsyncRequest=function(a){"use strict";Object.keys(a).length>0&&new(b("AsyncRequest"))().setURI(this._endPoint).setMethod("POST").setData({stats:a}).setOption("handleErrorAfterUnload",!0).setErrorHandler(function(c){a.retry=!0,new(b("AsyncRequest"))().setURI(this._endPoint).setMethod("POST").setData({stats:a}).setOption("asynchronous_DEPRECATED",!1).send()}.bind(this)).send()};var h=function(a,c){__p&&__p();if(!a||!c)return;c=b("TokenizeUtil").parse(c);if(c.flatValue[c.flatValue.length-1]===" ")return c.flatValue;var d=c.tokens[c.tokens.length-1],e={};a.forEach(function(a){e[a]=(e[a]||0)+1});var f={};c=c.tokens.slice(0,c.tokens.length-1);c.forEach(function(a){f[a]=(f[a]||0)+1});for(var g=0;g<a.length;++g){var h=a[g];if(h.indexOf(d)===0&&e[h]-(f[h]||0)>0){c.push(h);return c.join(" ")}}return void 0};Object.assign(a.prototype,{_endPoint:"/ajax/typeahead/record_metrics.php",_banzaiRoute:"search"});e.exports=a}),null);
__d("XSearchFacebarSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/facebar_survey/",{id:{type:"String",required:!0},query:{type:"String"},session_id:{type:"String",required:!0},on_session_start:{type:"Exists",defaultValue:!1},result_selected:{type:"Exists",defaultValue:!1}})}),null);
__d("AbandonedSessionSurvey",["AsyncRequest","SubscriptionsHandler","XSearchFacebarSurveyController","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.tryToSubmitSurvey=function(){this.searchBoxFocused&&(this.openSurvey(),this.resultSelected=!1,this.searchBoxFocused=!1)}.bind(this),this.core=a.getCore(),this.data=a.getData(),this.view=a.getView(),this.subscriptionsHandler=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(){"use strict";this.subscriptionsHandler.addSubscriptions(this.core.subscribe("focus",function(){this.searchBoxFocused=!0,this.resultSelected=!1}.bind(this)),this.data.subscribe("beforeQuery",function(a,b){this.query=b.value||""}.bind(this)),this.view.subscribe("select",function(){this.resultSelected=!0,this.tryToSubmitSurvey()}.bind(this)),this.core.subscribe("blur",this.tryToSubmitSurvey))};a.prototype.disable=function(){"use strict";this.subscriptionsHandler.release(),this.request&&this.request.abort()};a.prototype.openSurvey=function(){"use strict";__p&&__p();if(this.openedSurvey)return;this.openedSurvey=!0;var a=this.core.element;a==null&&(a=this.core.getElement());var c=this.normalizeValue(this.query);a=b("XSearchFacebarSurveyController").getURIBuilder().setString("id",b("getOrCreateDOMID")(a)).setString("query",c!=null?c:"").setString("session_id",this.data.queryData.sid).setExists("result_selected",this.resultSelected);this.request=new(b("AsyncRequest"))().setMethod("POST").setAllowCrossPageTransition(!0).setURI(a.getURI());this.request.send()};a.prototype.normalizeValue=function(a){"use strict";return String(a).trim().replace(/\s+/g," ").replace(/[\u200E|\u200F|\u202a|\u202b|\u202c]/g,"").toLowerCase()};e.exports=a}),null);
__d("WorkGalahadAppTabID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROFILE:"profile",HOME:"home",NOTIFICATIONS:"notifications",CHATS:"chats",ADMIN_PANEL:"admin_panel",RESELLER_CONSOLE:"reseller_console"})}),null);
__d("WorkInviteSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RHC_MODULE:"rhc_module",NEWSFEED_NUX:"newsfeed_nux",BULK_UPLOAD:"bulk_upload",GROUP_BULK_UPLOAD:"group_bulk_upload",GROUP_BULK_UPLOAD_FROM_SETTINGS:"group_bulk_upload_from_settings",GROUP_BULK_UPLOAD_FROM_RHC:"group_bulk_upload_from_rhc",GROUP_BULK_UPLOAD_FROM_MEMBERS:"group_bulk_upload_from_members",GROUP_INVITE_DIALOG:"group_invite_dialog",GROUP_INVITE_TYPEAHEAD:"group_invite_typeahead",GROUP_RHC_LINK:"group_rhc_link",SEARCH_RESULT:"search_result",SEARCH_RHC:"search_rhc",SEARCH_TYPEAHEAD:"search_typeahead",INSTANCE_INVITE_LINK:"instance_invite_link",SIGN_UP:"sign_up",SIGN_UP_CHAT_FIRST:"sign_up_chat_first",SIGN_UP_NON_GENESIS:"sign_up_non_genesis",SIGN_UP_M_SITE:"sign_up_m_site",SETUP_TEAM_SIGNUP_STEP:"setup_team_signup_step",SETUP_TEAM_SIGNUP_STEP_CHAT_FIRST:"setup_team_signup_step_chat_first",SETUP_SUBCOMMUNITY_INVITE_STEP:"setup_subcommunity_invite_step",FORWARD_INVITE_EMAIL:"forward_invite_email",WORK_GOALS:"work_goals",TEAM_PROTILE:"team_protile",ACCESS_REQUESTED:"access_requested",ADMIN_ADD_PEOPLE_LINK:"admin_app_people_link",ADMIN_OTHER:"admin_other",WORK_GOAL_INLINE:"work_goal_inline",CONTEXTUAL_INVITE_EMPTY_GROUP:"contextual_invite_empty_group",WORK_GOLDIE_GROUP_INVITE:"goldie_group_invite",GOLDIE_SIGN_UP_INVITE_STEP:"goldie_sign_up_invite_step",WORK_GALAHAD_COMPOSE:"work_galahad_compose",WORK_SUGGESTED_DEFAULT_GROUPS:"work_suggested_default_groups",WORK_UNDELIVERED_INVITE_NOTIF:"work_undelivered_invite_notif",AZURE:"azure",AZURE_BULK:"azure_bulk",GSUITE:"gsuite",GSUITE_BULK:"gsuite_bulk",SELF_INVITE:"self_invite",SELF_INVITE_VIA_INVITE_LINK:"self_invite_via_invite_link",SELF_INVITE_VIA_SSO:"self_invite_via_sso",WORKPLACE_FB_COM:"workplace_fb_com",MCG_EXTERNAL_INVITE:"mcg_external_invite",GUEST_MEMBER_INVITE:"guest_member_invite",SUBCOMMUNITY_INVITE:"subcommunity_invite",M2_ADS_TO_NGO:"m2_ads_to_ngo",M2_AYMT_TO_NGO:"m2_aymt_to_ngo",MOBILE_APP_CLAIM:"mobile_app_claim",COMPANY_SUBDOMAIN_LOGIN_PAGE:"company_subdomain_login_page",WORK_FACEBOOK_COM:"work_facebook_com",AYMT:"aymt",TESTS:"tests",E2E_TESTS:"e2e_tests",TESTS_STANDARD_SUBCOMMUNITIES:"tests_standard_subcommunities",WWW_BOOKMARK:"www_bookmark",MSITE_BOOKMARK:"msite_bookmark",MSITE_END_OF_FEED:"msite_end_of_feed",WWW_BLUEBAR:"www_bluebar",WWW_BLUEBAR_LINK:"www_bluebar_link",WWW_CHAT_SIDEBAR:"www_chat_sidebar",WWW_SIDEBAR_PENDING_SECTION:"www_sidebar_pending_section",WWW_CHAT_THREAD_LIST:"www_chat_thread_list",WWW_FOLLOW_SUGGESTIONS_PAGE:"www_follow_suggestions_page",FEED_END_STATE:"feed_end_state",GROUP_END_STATE:"group_end_state",PROFILE_END_STATE:"profile_end_state",RHC_UNIT_ADD_PEOPLE_BUTTON:"rhc_unit_add_people_button",WWW_FEED_QP:"www_feed_qp",ANDROID_APP:"android_app",ANDROID_INVITE_OPTION_PICKER:"android_invite_option_picker",ANDROID_TYPED_EMAIL:"android_typed_email",ANDROID_GROUP_TYPED_EMAIL:"android_group_typed_email",ANDROID_CONTACT_EMAIL:"android_contact_email",ANDROID_ALL_CONTACT_EMAILS:"android_all_contact_emails",IOS_APP:"ios_app",IOS_GROUP_TYPED_EMAIL:"ios_group_typed_email",IOS_INSTANCE_TYPED_EMAIL:"ios_instance_typed_email",IOS_CONTACT_EMAIL:"ios_contact_email",IOS_ALL_CONTACT_EMAILS:"ios_all_contact_emails",FIRST_COWORKER_INVITES_EMAIL:"first_coworker_invites_email",SIGNUP4_E2E_STANDARD_GENESIS:"signup4_e2e_test_standard_genesis",SIGNUP4_E2E_PREMIUM_GENESIS:"signup4_e2e_test_premium_genesis",WORK_MANAGED_CLAIM_TEST:"work_managed_claim_test",UNKNOWN:"unknown",IN_PRODUCT_NUX_CARD:"in_product_nux_card",IN_PRODUCT_NUX_CARD_INVITE_MORE_COWORKERS:"in_product_nux_card_invite_more_coworkers",WORKPLACE_JOURNEY:"workplace_journey",UX_RESEARCH:"ux_research",RESELLER:"reseller"})}),null);
__d("WorkWebDriverConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_EMPLOYEES_MEMBER_TABLE:"employees_member_table",ADMIN_EMPLOYEES_GENERATE_CLAIM_DIALOG:"employees_generate_claim_dialog",PAGELET_COMPANY_LOGO:"pagelet_company_logo",PROGRESS_BAR:"progressbar",DASHBOARD_GROUPS_GRID:"dashboard_groups_grid",DASHBOARD_GROUPS_MEMBER_COUNT:"dashboard_groups_member_count",DASHBOARD_GROUPS_ADMIN_COUNT:"dashboard_groups_admin_count",DASHBOARD_IMPORT_PEOPLE_CREATED:"dashboard_import_people_created",DASHBOARD_IMPORT_PEOPLE_FINISHED_BUTTON:"dashboard_import_people_finished_button",DASHBOARD_IMPORT_PEOPLE_OPTIONS:"dashboard_import_people_options",DASHBOARD_IMPORT_PEOPLE_QUICK_ADD_OPTION:"dashboard_import_people_quick_add_option",DASHBOARD_IMPORT_PEOPLE_SPREADSHEET_OPTION:"dashboard_import_people_spreadsheet_option",DASHBOARD_INVITES_SECTION:"dashboard_invites_section",DASHBOARD_INVITES_ALL_BUTTON:"dashboard_invites_all_button",DASHBOARD_INVITES_CUSTOM_EMAIL:"dashboard_invites_custom_email",DASHBOARD_INVITES_DEFAULT_EMAIL_SEND:"dashboard_invites_default_email_send",DASHBOARD_INVITES_CONFIRMATION_DIALOG:"dashboard_invites_confirmation_dialog",DASHBOARD_INVITES_CONFIRM_SEND:"dashboard_invites_confirm_send",DASHBOARD_INVITES_CONFIRMED:"dashboard_invites_confirmed",DASHBOARD_INVITES_PREPARING:"dashboard_invites_preparing",DASHBOARD_IMPORT_PROFILES:"dashboard_import_profiles",DASHBOARD_IMPORT_PROFILES_CONFIRM:"dashboard_import_profiles_confirm",DASHBOARD_IMPORT_PROFILES_SUCCESS:"dashboard_import_profiles_success",DASHBOARD_UPLOAD_SPREADSHEET:"dashboard_upload_spreadsheet",DASHBOARD_LOCALE_SELECTOR_DIALOG:"dashboard_locale_selector_dialog",DASHBOARD_LOCALE_SELECTOR_DIALOG_LOCALE_SELECTOR:"dashboard_locale_selector_dialog_locale_selector",DASHBOARD_LOCALE_SELECTOR_DIALOG_CTA:"dashboard_locale_selector_dialog_cta",DASHBOARD_SETTINGS_COMPANY_NAME:"dashboard_settings_company_name",DASHBOAR_SETTINGS_SAVE:"dashboard_settings_save",DASHBOARD_SETTINGS_SAVED_DIALOG:"dashboard_settings_saved_dialog",GROUP_MORE_ACTIONS:"group_more_actions",GROUP_MORE_ACTIONS_POPOVER:"group_more_actions_popover",GROUP_IMPORT_MEMBERS:"group_import_members",GROUP_IMPORT_MEMBERS_UPLOAD_FILE:"group_import_members_upload_file",GROUP_IMPORT_MEMBERS_INVITE_ALL:"group_import_members_invite_all",GROUP_IMPORT_MEMBERS_SUCCESS:"group_import_members_success",GROUP_PENDING_INVITE_BOX:"group_pending_invite_box",GROUP_SUGGESTION_CARD:"GROUP_SUGGESTION_CARD",GROUP_SETUP_SUBMIT:"GROUP_SETUP_SUBMIT",GROUP_SUBMISSION_SUCCESS:"GROUP_SUBMISSION_SUCCESS",DASHBOARD_ADMINISTRATORS:"dashboard_add_administrators",DASHBOARD_ADMINISTRATORS_INVITE_ADMIN:"dashboard_administrators_invite_admin",DASHBOARD_ADMINISTRATORS_FIND_COLLEAGUES:"dashboard_administrators_find_colleagues",DASHBOARD_ADMINISTRATORS_ROLE_DIALOG:"dashboard_administrators_role_dialog",DASHBOARD_ADMINISTRATORS_ADD_ADMIN:"dashboard_administrators_add_admin",DASHBOARD_ADMINISTRATORS_AWAITING_ACCEPTANCE:"dashboard_administrators_awaiting_acceptance",FAKE_IDP_EMAIL_FIELD:"fake_idp_field",FAKE_IDP_LOGIN_BUTTON:"fake_idp_login_button",FAKE_IDP_LOGOUT_BUTTON:"fake_idp_logout_button",CREATE_WORK_GROUP_DIALOG_SKIP_ADD_MEMBERS:"create_group_dialog_skip_add_members",CREATE_WORK_GROUP_LEFT_NAV_BOOKMARK:"left_nav_item_Create Group",CREATE_WORK_GROUP_NAME_NEXT_BUTTON:"create_work_group_name_next_button",CREATE_WORK_GROUP_NAME_TEXT:"create_work_group_name_text",CREATE_WORK_GROUP_NAME_DIALOG:"create_group_dialog_name",CREATE_WORK_GROUP_PURPOSE_TEAM_GROUP:"create_work_group_purpose_work_team",GROUP_TITLE_IN_GROUP_PAGE:"group_title_in_group_page",COWORKER_INVITE_BOX:"coworker_invite_box",COWORKER_INVITE_DIALOG_INPUT:"coworker_invite_dialog_input",COWORKER_INVITE_DIALOG_LINK:"coworker_invite_dialog_link",COWORKER_INVITE_DIALOG_INPUT_VIEW:"coworker_invite_dialog_input_view",COWORKER_INVITE_INPUT:"coworker_invite_input",COWORKER_INVITE_BUTTON:"coworker_invite_button",COWORKER_INVITE_TOPBAR_BUTTON:"coworker_invite_topbar_button",COWORKER_INVITE_RESULTS:"coworker_invite_results",COWORKER_INVITE_LINK:"coworker_invite_link",WORK_LANDING:"work_landing",WORK_LANDING_TITLE:"work_landing_title",WORK_LANDING_INPUT:"work_landing_input",WORK_LANDING_BUTTON:"work_landing_button",COMPANY_CREATION_LANDING:"company_creation_landing",COMPANY_CREATION_TITLE:"company_creation_title",LOGIN_USERNAME_PASSWORD_FORM:"login_username_password_form",LOGIN_BUTTON:"login_button",LOGIN_USERNAME:"login_username",LOGIN_PASSWORD:"login_password",LOGIN_FORGOT_PASSWORD:"login_forgot_password",LOGIN_FORGOT_PASSWORD_MOBILE:"login_forgot_password_mobile",LOGIN_IDENTIFY_FORM:"login_identify_form",LOGIN_IDENTIFY_USERNAME:"login_identify_username",LOGIN_IDENTIFY_BUTTON:"login_identify_button",SIGNUP_FORM:"signup_form",SIGNUP_FORM_FIELD_NAME:"signup_form_field_name",SIGNUP_FORM_FIELD_PASSWORD:"signup_form_field_password",SIGNUP_FORM_FIELD_COUNTRY_CODE:"signup_form_field_country_code",SIGNUP_FORM_FIELD_COMPANY_NAME:"signup_form_field_company_name",SIGNUP_FORM_FIELD_PHONE_NUMBER:"signup_form_field_phone_number",SIGNUP_FORM_FIELD_TITLE:"signup_form_field_title",SIGNUP_FORM_FIELD_DEPARTMENT:"signup_form_field_department",SIGNUP_FORM_FIELD_INDUSTRY:"signup_form_field_industry",SIGNUP_FORM_FIELD_NGO:"signup_form_field_ngo",SIGNUP_FORM_FIELD_COMPANY_SIZE:"signup_form_field_company_size",SIGNUP_FORM_FIELD_COMPANY_SIZE_TOGGLE:"signup_form_field_company_size_toggle",SIGNUP_FORM_FIELD_B2B:"signup_form_field_b2b",SIGNUP_FORM_FIELD_MARKETING_OPT_IN:"signup_form_field_marketing_opt_in",SIGNUP_FORM_FIELD_GO:"signup_form_field_go",SIGNUP_FORM_FIELD_COMMENT:"signup_form_field_comment",SIGNUP_FORM_FIELD_CUSTOM_AGREEMENT:"signup_form_field_custom_agreement",SIGNUP_FORM_FIELD_USERNAME:"signup_form_field_username",SIGNUP3_FORM_FIELD_EMAIL:"signup3_form_field_email",LOGIN_SSO_FORM:"login_sso_form",LOGIN_SSO_SUBMIT_BUTTON:"login_sso_submit_button",SEARCH_INPUT:"search_input",SEARCH_TYPEAHEAD_VIEW:"search_typeahead_view",SIMPLIFIED_GYSJ_JOIN_GROUP_BUTTON:"simplified_gysj_join_group_button",SIMPLIFIED_GYSJ_SUBMIT_BUTTON:"simplified_gysj_submit_button",TEAM_SETUP_CONTINUE_BUTTON:"team_setup_continue_button",TEAM_SETUP_TEAM_NAME_INPUT:"team_setup_team_name_input",TEAM_SETUP_INVITE_INPUT:"team_setup_invite_input",WORK_INVITE_GRID:"work_invite_grid",WORK_INVITE_GRID_BUTTON_ADD_MORE:"work_invite_grid_button_add_more",WORK_INVITE_GRID_BUTTON_SKIP:"work_invite_grid_button_skip",WORK_INVITE_GRID_BUTTON_SUBMIT:"work_invite_grid_button_submit",WORK_INVITE_GRID_FIELD_EMAIL:"work_invite_grid_field_email",WORK_INVITE_GRID_FIELD_NAME:"work_invite_grid_field_name",WORK_INVITE_GRID_ROW:"work_invite_grid_row",PROFILE_NAME_IN_PROFILE_PAGE:"profile_name_in_profile_page",UPGRADE_TEXT_LINK:"upgrade_text_link",UPGRADE_CONFIRM_BUTTON:"upgrade_confirm_button",UPGRADE_DNS_METHOD_BUTTON:"upgrade_dns_method_button",UPGRADE_HTML_METHOD_BUTTON:"upgrade_html_method_button",UPGRADE_VERIFY_BUTTON:"upgrade_verify_button",EMAILLESS_ACCESS_CODE_FORM:"emailless_access_code_form",EMAILLESS_ACCESS_CODE_FORM_MOBILE:"emailless_access_code_form_mobile",EMAILLESS_ACCESS_CODE_FIELD:"emailless_access_code_field",EMAILLESS_ACCESS_CODE_FIELD_MOBILE:"emailless_access_code_field_mobile",EMAILLESS_ACCESS_CODE_SUBMIT_BUTTON:"emailless_access_code_submit_button",EMAILLESS_ACCESS_CODE_SUBMIT_BUTTON_MOBILE:"emailless_access_code_submit_button_mobile",ACTIVATION_GOLDIE_REACT_COMPONENT:"activation_goldie_react_component",ACTIVATION_GOLDIE_SKIP_BUTTON:"activation_goldie_skip_button",ACTIVATION_GOLDIE_DONE_BUTTON:"activation_goldie_done_button",ACTIVATION_GOLDIE_WELCOME_MESSAGE_COMPONENT:"activation_goldie_welcome_message_component",ACTIVATION_GOLDIE_ADD_PEOPLE_COMPONENT:"activation_goldie_add_people_component",ACTIVATION_GOLDIE_UPLOAD_LOGO_COMPONENT:"activation_goldie_upload_logo_component",ACTIVATION_GOLDIE_CREATE_GROUP_COMPONENT:"activation_goldie_create_group_component",ACTIVATION_GOLDIE_TEAM_SETUP_COMPONENT:"activation_goldie_team_setup_component",ACTIVATION_GOLDIE_MOBILE_UPSELL_COMPONENT:"activation_goldie_mobile_upsell_component",WORK_GOLDIE_ONBOARDING_TEAM_SETUP_GROUP_NAME_INPUT:"activation_goldie_team_setup_group_name_input",ACTIVATION_GOLDIE_INVITE_TO_SUBCOMMUNITY_COMPONENT:"activation_goldie_invite_to_subcommunity_component",ACTIVATION_GOLDIE_NAME_SUBCOMMUNITY_COMPONENT:"activation_goldie_name_subcommunity_component",ACTIVATION_GOLDIE_JOIN_SUBCOMMUNITY_COMPONENT:"activation_goldie_join_subcommunity_component",ACTIVATION_GOLDIE_SUBCOMMUNITY_ROW_COMPONENT:"activation_goldie_subcommunity_row_component",ACTIVATION_GOLDIE_SWITCH_TO_CREATE_SUBCOMMUNITY_COMPONENT:"activation_goldie_switch_to_create_subcommunity_component",ACTIVATION_GOLDIE_SWITCH_TO_JOIN_SUBCOMMUNITY_COMPONENT:"activation_goldie_switch_to_join_subcommunity_component",PROFILE_ITEM_NAV_BAR:"profile_item_nav_bar",DO_NOT_DISTURB_MENU_NAV_BAR:"do_not_disturb_menu_nav_bar",DO_NOT_DISTURB_ONE_HOUR_OPTION:"do_not_disturb_one_hour_option",DO_NOT_DISTURB_TURN_OFF_OPTION:"do_not_disturb_turn_off_option",WORK_ADMIN_ACTIONS_CONTAINER_COMPONENT:"work_admin_actions_container_component",WORK_ADMIN_ACTIONS_SKIP_BUTTON:"work_admin_actions_skip_button",WORK_ADMIN_ACTIONS_WELCOME_GOAL_COMPONENT:"work_admin_actions_welcome_goal_component",WORK_GOAL_NEWSFEED_WELCOME_CONTINUE_BUTTON:"work_goal_newsfeed_welcome_continue_button",WORK_ADMIN_ACTIONS_ADD_PEOPLE_GOAL_COMPONENT:"work_admin_actions_add_people_goal_component",WORK_ADMIN_ACTIONS_UPLOAD_LOGO_GOAL_COMPONENT:"work_admin_actions_upload_logo_goal_component",WORK_ADMIN_ACTIONS_ADD_DOMAINS_GOAL_COMPONENT:"work_admin_actions_add_domains_goal_component",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_COMPONENT:"work_admin_actions_create_group_goal_component",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_GROUP_NAME_FIELD:"work_admin_actions_create_group_goal_group_name_field",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_SUBMIT_BUTTON:"work_admin_actions_create_group_goal_submit_button",WORK_PROVISIONER_COMPONENT:"work_provisioner_component",WORK_PROVISIONER_ROW_COMPONENT:"work_provisioner_row_component",WORK_PROVISIONER_NAME_INPUT_COMPONENT:"work_provisioner_name_input_component",WORK_PROVISIONER_EMAIL_INPUT_COMPONENT:"work_provisioner_email_input_component",WORK_INVITE_TYPEAHEAD_COMPONENT:"work_invite_typeahead_component",WORK_GOLDIE_ONBOARDING_GROUP_CREATION_NAME_INPUT:"work_goldie_onboarding_group_creation_name_input",WORK_GOLDIE_ONBOARDING_NAME_COMMUNITY_INPUT:"work_goldie_onboarding_name_community_input",WORK_PEOPLE_DIRECTORY:"work_people_directory",WORK_PEOPLE_DIRECTORY_FILTER:"work_people_directory_filter",WORK_BOOKMARK_COWORKER_BUTTON:"work_bookmark_coworker_button",WORK_BOOKMARKED_COWORKER_BUTTON:"work_bookmarked_coworker_button",WORK_BOOKMARKED_COWORKER_NOTE:"work_bookmarked_coworker_note",WORK_BOOKMARKED_COWORKER_NOTE_BUTTON:"work_bookmarked_coworker_note_button",WORK_BOOKMARKED_COWORKER_NOTE_TEXTAREA:"work_bookmarked_coworker_note_textarea",WORK_BOOKMARKED_COWORKER_PROFILE_CELL:"work_bookmarked_coworker_profile_cell",WORK_BOOKMARKED_COWORKER_PROFILE_CELL_NAME:"work_bookmarked_coworker_profile_cell_name",WORK_BOOKMARKED_COWORKER_PROFILE_CELL_ROLE:"work_bookmarked_coworker_profile_cell_role",WORK_BOOKMARKED_COWORKERS_PAGELET:"work_bookmarked_coworkers_pagelet",WORK_DISCOVERY_FACEPILE:"work_discovery_facepile",WORK_DISCOVERY_FACEPILE_LINK:"work_discovery_facepile_link",WORK_SEE_ALL_BOOKMARKED_COWORKERS_LINK:"work_see_all_bookmarked_coworkers_link",WORK_UNBOOKMARK_COWORKER_LINK:"work_unbookmark_coworker_link",WORK_UNBOOKMARK_COWORKER_POPOVER:"work_unbookmark_coworker_popover",WORK_CHAT_PIN_THREAD_BUTTON_IN_INFO_PANEL:"work_pin_thread_in_info_panel",GIF_SPROUT:"gif-sprout",ACTIVITY_SPROUT:"activity-sprout",ACTIVITY_TAGGER:"activity-tagger-component",LOCATION_SPROUT:"location-sprout",LOCATION_TAGGER:"location-tagger-component",MARKDOWN_SPROUT:"markdown-sprout",TAG_COWORKER_SPROUT:"people-sprout",TAG_COWORKER_TAGGER:"people-tagger-component",MENTIONS_INPUT_TYPEAHEAD:"group-mentions-input-typeahead",MENTIONS_CONTEXTUAL_LAYER:"mentions-contextual-layer"})}),null);