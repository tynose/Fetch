if (self.CavalryLogger) { CavalryLogger.start_js(["9BKYi"]); }

__d("WorkGalahadDropdownMenu.react",["cx","fbt","ContextualDialogNoArrow","FlexLayout.react","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","Link.react","React","ReactAbstractContextualDialog","ReactLayer","WorkGalahadDropdownMenuItem.react","compactArray"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("LayerFadeOnHide"),b("LayerFadeOnShow"),b("LayerHideOnBlur"),b("LayerHideOnEscape")],displayName:"WorkGalahadContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_76gj _53ii"}}));c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={currentMenuKey:this.props.menuData.menuKey,previousMenuKey:null},this.$1={},b}a.prototype.render=function(){var a,c=this.props,d=c.menuData,e=c.width,f=c.contextRef,g=c.onToggle,h=c.position,i=c.shown,k=c.label;c=c.alignment;var l=d.menuKey;d=d.items;a=(a=this.$1[this.state.currentMenuKey])==null?void 0:a.ref;a=a&&a.scrollHeight>0?{height:a.scrollHeight}:{height:"auto"};return b("React").createElement(j,{arrowBehavior:b("ContextualDialogNoArrow"),alignment:c,autoFocus:!1,hideOnBlur:!0,contextRef:f,onToggle:g,shown:i,position:h,width:e,offsetX:6,offsetY:h==="above"?-6:6,label:k},b("React").createElement("div",{className:"_74lf",style:a},b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},this.$2(l,d))))};a.prototype.$3=function(a){var b=this.state.currentMenuKey;this.setState({currentMenuKey:a,previousMenuKey:b})};a.prototype.$4=function(a){var b=this.state.previousMenuKey!==null&&this.state.currentMenuKey===this.$1[this.state.previousMenuKey].parentKey;if(a===this.state.currentMenuKey)return{width:this.props.width,"float":b?"right":"left"};else return{width:0,"float":b?"left":"right"}};a.prototype.$5=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_76gk"},b("React").createElement(b("Link.react"),{key:"back-button",className:"_74lg",onClick:function(){return this.$3(a)}.bind(this)},b("React").createElement("div",{className:"_74lh"}),h._("Back"))),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{itemData:{type:"separator",itemKey:"back-button-separator"}}))};a.prototype.$2=function(a,c,d){__p&&__p();d===void 0&&(d=null);var e=this.state.currentMenuKey,f=b("compactArray")(c.map(function(b){return b.type==="item"&&b.subMenu?{menuKey:b.subMenu.menuKey,parentKey:a,items:b.subMenu.items}:null}));this.$1[a]={parentKey:d};var g=this.$4(a);return b("React").createElement(b("React").Fragment,{key:a},b("React").createElement("div",{style:{width:g.width},className:"_74li"+(e!==a?" _74lj":""),ref:function(b){this.$1[a]={parentKey:d,ref:b}}.bind(this)},b("React").createElement("div",{style:{width:this.props.width,"float":g["float"]}},b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},d!==null?this.$5(d):null,c.map(function(a){var c=a;if(a.type==="item"&&a.subMenu){var d=a.subMenu.menuKey;c={type:"item",itemKey:a.itemKey,label:a.label,icons:a.icons,description:a.description,isStatic:a.isStatic,subMenu:a.subMenu,href:a.href,onClick:function(){this.$3(d)}.bind(this)}}return b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{itemData:c,key:a.itemKey,onHide:function(){return this.props.onToggle&&this.props.onToggle(!1)}.bind(this)})}.bind(this))))),f.map(function(a){return this.$2(a.menuKey,a.items,a.parentKey)}.bind(this)))};a.defaultProps={position:"below"};e.exports=a}),null);