if (self.CavalryLogger) { CavalryLogger.start_js(["kkQde"]); }

__d("InstantGamesAdType",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({INTERSTITIAL:"interstitial",REWARDED_VIDEO:"rewarded_video"})}),null);
__d("InstantGamesInterstitialAd.react",["ix","cx","Image.react","React","ReactDOM","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof HTMLElement&&this.props.adInstance.getAdLoader()(a)};a.prototype.render=function(){return b("React").createElement("div",{className:"_74-1"+(this.props.isActive?" _760w":"")+(this.props.isActive?"":" _760x")},b("React").createElement("div",{className:"_74ql"},b("React").createElement(b("Image.react"),{onClick:this.props.adInstance.getOnAdClosed(),src:g("480714")})),b("React").createElement("div",{className:"fbANRoot _74qn"},b("React").createElement("div",{className:"fbAdMedia _74-2 fbAdLink"}),b("React").createElement("div",{className:"_74qw"},b("React").createElement("div",{className:"fbAdIcon _74-6"}),b("React").createElement("div",{className:"_75zi"},b("React").createElement("div",{className:"fbAdTitle _74-4"}),b("React").createElement("div",{className:"fbAdBody _74-8"}))),b("React").createElement("div",{className:"fbAdCallToAction _74-9 fbAdLink"})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesRewardedVideoAd.react",["cx","React","ReactDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof HTMLElement&&a.children&&this.props.adInstance.getAdLoader()(a.children[0])};a.prototype.render=function(){return b("React").createElement("div",{className:"_760t"+(this.props.isActive?" _760u":"")+(this.props.isActive?"":" _7606")},b("React").createElement("div",{className:"_7607"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesAdContainer.react",["cx","InstantGamesAdType","InstantGamesInterstitialAd.react","InstantGamesRewardedVideoAd.react","React","ReactDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){var a=document.createElement("script");a.src="https://connect.facebook.net/en_US/fbadnw60-tag.js";a.async=!0;var c=b("ReactDOM").findDOMNode(this);c instanceof Element&&c.appendChild(a);window.ADNW=window.ADNW||{};window.ADNW.v60=window.ADNW.v60||{};window.ADNW.v60.slots=[]};a.prototype.componentWillUnmount=function(){window.ADNW&&window.ADNW.v60&&window.ADNW.v60.slots&&(window.ADNW.v60.slots=[])};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.activeAdInstanceID?"_74rh":""},this.props.adInstances.map(function(a){return a.getAdType()===b("InstantGamesAdType").INTERSTITIAL?b("React").createElement(b("InstantGamesInterstitialAd.react"),{key:a.getInstanceID(),adInstance:a,isActive:a.getInstanceID()===this.props.activeAdInstanceID}):b("React").createElement(b("InstantGamesRewardedVideoAd.react"),{key:a.getInstanceID(),adInstance:a,isActive:a.getInstanceID()===this.props.activeAdInstanceID})}.bind(this)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesAdInstance",["GamesQuicksilverError","InstantGamesAdType","InstantGamesErrorCode","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3;function a(a,c){this.$1=a,this.$2=c,this.$3=b("uuid")(),this.$7=0}a.prototype.getAdType=function(){return this.$1};a.prototype.getPlacementID=function(){return this.$2};a.prototype.getInstanceID=function(){return this.$3};a.prototype.isLoadRequested=function(){return this.$4};a.prototype.isLoading=function(){return this.$5};a.prototype.isLoaded=function(){return this.$6};a.prototype.load=function(a,c){__p&&__p();if(this.isLoading()){c(new(b("GamesQuicksilverError"))("Load in progress").setCode(b("InstantGamesErrorCode").INVALID_OPERATION));return}if(this.isLoaded()){a();return}if(this.$7>=g){this.$4=!1;c(new(b("GamesQuicksilverError"))("Max retry reached").setCode(b("InstantGamesErrorCode").ADS_NO_FILL));return}this.$4=!0;this.$5=!0;this.$6=!1;this.$9=a;this.$10=c;this.$7++};a.prototype.show=function(a){if(!this.$6)return;this.$11=a;this.$8&&this.$8()};a.prototype.getAdLoader=function(){return function(a){window.ADNW=window.ADNW||{},window.ADNW.v60=window.ADNW.v60||{},window.ADNW.v60.slots=window.ADNW.v60.slots||[],window.ADNW.v60.slots.push({rootElement:a,placementid:this.getPlacementID(),format:this.$12(),testmode:!1,onAdLoaded:function(a){this.$5=!1,this.$6=!0}.bind(this),onMediaLoaded:function(a,b){b&&(this.$8=b),this.$9&&this.$9()}.bind(this),onAdError:function(a,c){this.$4=!1,this.$5=!1,this.$6=!1,this.$10&&this.$10(new(b("GamesQuicksilverError"))(c).setCode(b("InstantGamesErrorCode").ADS_NO_FILL))}.bind(this),onAdClosed:function(){this.$11()}.bind(this),onRewardCompleted:function(){}})}.bind(this)};a.prototype.getOnAdClosed=function(){var a=this;return function(){a.$11&&a.$11()}};a.prototype.$12=function(){if(this.$1===b("InstantGamesAdType").INTERSTITIAL)return"interstitial";else return"rewarded_video"};e.exports=a}),null);
__d("InstantGamesAdsManager",["Promise","GamesQuicksilverError","InstantGamesAdInstance","InstantGamesErrorCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3;function a(a,b){this.$1=[],this.$2=a,this.$3=b}a.prototype.createAdInstance=function(a,c){var d=this.$1.filter(function(b){return b.getAdType()===a});if(d.length>=g)return b("Promise").reject(new(b("GamesQuicksilverError"))("Too many ad instances").setCode(b("InstantGamesErrorCode").ADS_TOO_MANY_INSTANCES));d=new(b("InstantGamesAdInstance"))(a,c);this.$1.push(d);return b("Promise").resolve(d.getInstanceID())};a.prototype.loadAdInstance=function(a){var c=this.$4(a);if(!c)return b("Promise").reject(new(b("GamesQuicksilverError"))("Invalid ad instance").setCode(b("InstantGamesErrorCode").INVALID_PARAM));if(c.isLoading())return b("Promise").reject(new(b("GamesQuicksilverError"))("Load in progress").setCode(b("InstantGamesErrorCode").INVALID_OPERATION));return c.isLoaded()?b("Promise").resolve():new(b("Promise"))(function(a,b){c.load(a,b),this.$2()}.bind(this))["catch"](function(a){this.$2();throw a}.bind(this))};a.prototype.showAdInstance=function(a){var c=this.$4(a);if(!c)return b("Promise").reject(new(b("GamesQuicksilverError"))("Invalid ad instance").setCode(b("InstantGamesErrorCode").INVALID_PARAM));return!c.isLoaded()?b("Promise").reject(new(b("GamesQuicksilverError"))("Ad instance not loaded").setCode(b("InstantGamesErrorCode").ADS_NOT_LOADED)):new(b("Promise"))(function(b,d){c.show(b),this.$3(a)}.bind(this)).then(function(){this.$3(null),this.$5(c.getInstanceID()),this.$2()}.bind(this))};a.prototype.getOutstandingAdInstances=function(){return this.$1.filter(function(a){return a.isLoadRequested()})};a.prototype.$4=function(a){var b=this.$1.filter(function(b){return b.getInstanceID()===a});return b.length>0?b[0]:null};a.prototype.$5=function(a){this.$1=this.$1.filter(function(b){return b.getInstanceID()!==a})};e.exports=a}),null);
__d("InstantGamesButton.react",["cx","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")("_1afk",this.props.className),onClick:this.props.onClick},this.props.title)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesChallengeToast.react",["cx","fbt","InstantGameContextType","React","RelayModern","clearTimeout","setTimeout","InstantGamesChallengeToast_context.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=4e3;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$3=[],this.$5=function(){if(!this.$4)return;this.$4.style.transition="visibility 0s ease-out 0s, opacity 1s";this.$4.style.opacity=1;this.$4.style.visibility="visible"}.bind(this),this.$6=function(){if(!this.$4)return;this.$4.style.transition="visibility 0s ease-in 1s, opacity 1s";this.$4.style.opacity=0;this.$4.style.visibility="hidden"}.bind(this),b}a.prototype.componentDidMount=function(){this.$1()};a.prototype.componentWillUnmount=function(){this.$2()};a.prototype.$2=function(){this.$3.forEach(function(a){return b("clearTimeout")(a)}),this.$3=[]};a.prototype.$1=function(){this.$3.push(b("setTimeout")(this.$5,0),b("setTimeout")(this.$6,this.props.duration||j))};a.prototype.render=function(){var a,c;c=(c=this.props.context)!=null?c.contextName:c;a=(a=this.props.context)!=null?a.contextType:a;if(!c||!a||a!==b("InstantGameContextType").THREAD){this.$2();return null}return b("React").createElement("div",{className:"_15qv",ref:function(a){this.$4=a}.bind(this)},b("React").createElement("div",{className:"_15qy"}),b("React").createElement("div",{className:"_15qz"},h._("You've started a game with {Thread title} in Messenger.",[h._param("Thread title",c)])))};e.exports=c(a,{context:function(){return b("InstantGamesChallengeToast_context.graphql")}})}),null);
__d("InstantGameConnectedPlayersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2348286288518666"};c.getQueryID=function(){"use strict";return"196391867818740"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("InstantGamesConnectedPlayersFetcher",["Promise","GamesQuicksilverError","InstantGameConnectedPlayersQueryWebGraphQLQuery","InstantGamesErrorCode","XAsyncRequest"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.fetchAsync=function(a){__p&&__p();return this.$1[a]?b("Promise").resolve(this.$1[a]):new(b("Promise"))(function(c,d){__p&&__p();var e=b("InstantGameConnectedPlayersQueryWebGraphQLQuery").getURI({game_id:a});new(b("XAsyncRequest"))(e).setHandler(function(e){e=(e=e)!=null?(e=e.payload)!=null?(e=e.data)!=null?(e=e.me)!=null?(e=e.user_scope)!=null?e.connected_players:e:e:e:e:e;if(e!==null&&Array.isArray(e)){this.$1[a]=e;c(e);return}d(new(b("GamesQuicksilverError"))("Unable to fetch connected players").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}.bind(this)).setErrorHandler(function(){d(new(b("GamesQuicksilverError"))("Internal error while fetching connected players").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}).send()}.bind(this))};e.exports=new a()}),null);
__d("InstantGamesContextImage.react",["cx","invariant","CurrentUser","InstantGameContextType","React","RelayModern","SplitImage.react","InstantGamesContextImage_contextToken.graphql","InstantGamesContextImage_context.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=50;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(a){switch(a){case b("InstantGameContextType").THREAD:return"messenger";case b("InstantGameContextType").GROUP:return"group";case b("InstantGameContextType").STORY:return"facebook";default:return null}};a.prototype.$2=function(a){var c;c=(c=a)!=null?(c=c.image)!=null?c.uri:c:c;return c?[c]:a.participants.filter(function(a){return a&&a.id!==b("CurrentUser").getID()}).map(function(a){return(a=a)!=null?(a=a.picture)!=null?a.uri:a:a}).filter(Boolean)};a.prototype.render=function(){var a=this.props.context||this.props.contextToken;if(!a)return null;var c=this.props.size||j,d=a.type;d||h(0,1652);d=this.props.badge?this.$1(d):null;a=this.$2(a);return b("React").createElement("div",{className:"_1v12"},b("React").createElement(b("SplitImage.react"),{className:this.props.className,size:c,srcs:a}),b("React").createElement("div",{className:d?"_1v14":""},b("React").createElement("div",{className:(d==="messenger"?"_1v15":"")+(d==="group"?" _1v17":"")+(d==="facebook"?" _1v18":"")})))};function a(){i.apply(this,arguments)}e.exports=c(a,{contextToken:function(){return b("InstantGamesContextImage_contextToken.graphql")},context:function(){return b("InstantGamesContextImage_context.graphql")}})}),null);
__d("InstantGamesContextChangeDialog.react",["cx","fbt","GamesQuicksilverError","InstantGamesButton.react","InstantGamesContextImage.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","React","RelayModern","SplitImage.react","joinClasses","InstantGamesContextChangeDialog_context.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("InstantGamesCrossSiteUtils").CloseButton,k=b("InstantGamesCrossSiteUtils").LoadingSpinner;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l=100;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){i.constructor.call(this),this.$1=function(){this.setState({clicked:!0}),this.props.onSwitch()}.bind(this),this.$2=function(){var a=new(b("GamesQuicksilverError"))("Player closed the context dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);this.props.onClose(a)}.bind(this),this.state={clicked:!1}}a.prototype.UNSAFE_componentWillMount=function(){!this.props.context&&!this.props.contextPhotos&&this.props.onClose(new(b("GamesQuicksilverError"))("Failed to fetch the necessary context info").setCode(b("InstantGamesErrorCode").UNKNOWN))};a.prototype.render=function(){var a=null,c=this.props.contextPhotos;this.props.context?a=b("React").createElement(b("InstantGamesContextImage.react"),{badge:!0,className:"_2by_",contextToken:this.props.context,size:l}):c!=null&&(a=b("React").createElement(b("SplitImage.react"),{className:"_2by_",size:l,srcs:c}));return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_2bz0")},b("React").createElement(j,{className:"_2bz2",onClick:this.$2,shade:"dark",size:"medium"}),b("React").createElement("div",{className:"_2bz3"},b("React").createElement("div",{className:"_2bz5"},b("React").createElement(b("SplitImage.react"),{className:"_2by_",size:l,srcs:[this.props.playerPhotoURI]})),b("React").createElement("div",{className:"_2bz5 _2bz6"},a)),b("React").createElement("div",{className:"_2bz7"},this.props.text),b("React").createElement(b("InstantGamesButton.react"),{className:"_2bz8"+(this.state.clicked?" _2bz9":""),label:"Play",labelIsHidden:!0,onClick:this.$1,title:this.props.buttonTitle||h._("Play")}),b("React").createElement(k,{className:"_2bza"+(this.state.clicked?"":" _2bz9"),size:"large"}))};e.exports=c(a,{context:function(){return b("InstantGamesContextChangeDialog_context.graphql")}})}),null);
__d("InstantGamesContextCreateDialog.react",["fbt","GamesQuicksilverError","InstantGamesContextChangeDialog.react","React","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props.contextPlayers.map(function(a){return(a=a)!=null?(a=a.user)!=null?(a=a.photo)!=null?a.uri:a:a:a}).filter(Boolean),c=this.props.contextPlayers.map(function(a){return(a=a)!=null?(a=a.user)!=null?a.name:a:a}).filter(Boolean);return b("React").createElement(b("InstantGamesContextChangeDialog.react"),{className:this.props.className,contextPhotos:a,onClose:this.props.onClose,onSwitch:this.props.onSwitch,playerPhotoURI:this.props.playerPhotoURI,text:g._("Play with {context-name}",[g._param("context-name",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))])})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesContextMutations",["RelayModern","InstantGamesContextMutations_CreateContextMutation.graphql","InstantGamesContextMutations_LinkContextCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesContextMutations_CreateContextMutation.graphql")};c=function(){return b("InstantGamesContextMutations_LinkContextCreateMutation.graphql")};e.exports={CreateContextMutation:a,LinkContextCreateMutation:c}}),null);
__d("InstantGamesSessions",["RelayModern","InstantGamesSessions_SessionStartedMutation.graphql","InstantGamesSessions_SessionCompletedMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesSessions_SessionStartedMutation.graphql")};c=function(){return b("InstantGamesSessions_SessionCompletedMutation.graphql")};e.exports={SessionStartedMutation:a,SessionCompletedMutation:c}}),null);
__d("InstantGamesSessionManager",["ClientIDs","FacebookAppIDs","InstantGamesPresenceProperties","InstantGamesSessions","RelayAPIConfig","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("InstantGamesSessions").SessionCompletedMutation,i=b("InstantGamesSessions").SessionStartedMutation,j=b("RelayModern").commitMutation;function a(){this.$2=!0,this.$4=null,this.$5=null}a.prototype.isCurrentSession=function(){return!this.$2};a.prototype.startSession=function(a,b,c,d){d===void 0&&(d=null),this.$1=c,this.$2=!1,this.$3=a,this.$5=b,this.$6(d)};a.prototype.endSession=function(){if(this.$2)return;this.$7();this.$2=!0;this.$4=null;this.$5=null};a.prototype.getSessionID=function(){return this.$5};a.prototype.setData=function(a){this.$4=a};a.prototype.$7=function(){b("InstantGamesPresenceProperties").removeInstantGamePresence(),j(b("RelayFBEnvironment"),{mutation:h,variables:{input:{actor_id:b("RelayAPIConfig").actorID,context_token_id:this.$1||void 0,client_mutation_id:g(),game_id:this.$3,payload:this.$4||void 0,session_id:this.$5||void 0,source_app_id:String(b("FacebookAppIDs").WWW)}}})};a.prototype.$6=function(a){b("InstantGamesPresenceProperties").addInstantGamePresence(),j(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,context_token_id:this.$1||void 0,client_mutation_id:g(),game_id:this.$3,payload:a||void 0,session_id:this.$5||void 0,source_app_id:String(b("FacebookAppIDs").WWW)}}})};e.exports=new a()}),null);
__d("InstantGamesContextCreator.react",["cx","invariant","AnimatedSlideInFromBottom.react","ClientIDs","FullSizeVerticalScrollView.react","GamesQuicksilverError","InstantGamesConnectedPlayersFetcher","InstantGamesContextCreateDialog.react","InstantGamesContextMutations","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesSessionManager","React","RelayAPIConfig","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ClientIDs").getNewClientID,k=b("InstantGamesContextMutations").CreateContextMutation,l=b("InstantGamesCrossSiteUtils").EventHandler,m=b("RelayModern").commitMutation;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.$1=function(a){l.inform("instant_games_close_fb_ui"),this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this),this.$4=function(){var a=this.$5().map(function(a){return a.user.id});m(b("RelayFBEnvironment"),{mutation:k,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:j(),game_id:this.props.gameID,participant_ids:a,session_id:b("InstantGamesSessionManager").getSessionID()}},onCompleted:function(a){if(!a){this.$3();return}this.$2(a)}.bind(this),onError:function(a){return this.$3()}.bind(this)})}.bind(this),this.state={connectedPlayers:null,isMounted:!1}}a.prototype.UNSAFE_componentWillMount=function(){b("InstantGamesConnectedPlayersFetcher").fetchAsync(this.props.gameID).then(function(a){this.setState({connectedPlayers:a})}.bind(this))["catch"](function(a){a=new(b("GamesQuicksilverError"))("Failure while fetching connected players").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);l.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this))};a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.$2=function(a){__p&&__p();a=(a=a)!=null?(a=a.instant_games_create_context)!=null?a.contextToken:a:a;if(!a){this.$3();return}var c=a.tokenID,d=a.sourceID;a=a.type;if(!d||!a){this.$3();return}if(this.props.contextKey.getID()===c){l.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,new(b("GamesQuicksilverError"))("Attempted to switch into the current context").setCode(b("InstantGamesErrorCode").SAME_CONTEXT));return}this.props.switchContext({id:d,promiseID:this.props.promiseID,type:a})};a.prototype.$3=function(){this.$1(new(b("GamesQuicksilverError"))("Failed to create context").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))};a.prototype.$5=function(){__p&&__p();var a=[],c=this.state.connectedPlayers;c!=null||h(0,564);var d=new Map();for(var c=c,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;d.set(g.playerID,g)}for(var g=this.props.playerIDs,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;c=g[e++]}else{e=g.next();if(e.done)break;c=e.value}c=c;if(!d.has(c)){this.$1(new(b("GamesQuicksilverError"))("Player with ID: "+c+" does not appear to be a Connected Player.").setCode(b("InstantGamesErrorCode").INVALID_PARAM));break}c=d.get(c);c||h(0,565);a.push(c)}return a};a.prototype.render=function(){return!this.state.connectedPlayers?null:b("React").createElement("div",{className:"_605r"},b("React").createElement("div",{className:"_605s"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"50%",translate:"0px",trigger:this.state.isMounted},b("React").createElement(b("InstantGamesContextCreateDialog.react"),{className:"_605t",contextPlayers:this.$5(),onClose:this.$1,onSwitch:this.$4,playerPhotoURI:this.props.playerPhotoURI})))))};e.exports=a}),null);
__d("InstantGamesContextPlayersQuery",["RelayModern","InstantGamesContextPlayersQuery_FetchContextPlayersQuery.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesContextPlayersQuery_FetchContextPlayersQuery.graphql")};e.exports={FetchContextPlayersQuery:a}}),null);
__d("InstantGamesContextPlayersFetcher",["Promise","GamesQuicksilverError","InstantGamesContextPlayersQuery","InstantGamesErrorCode","RelayFBEnvironment","RelayModern","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("InstantGamesContextPlayersQuery").FetchContextPlayersQuery,h=b("RelayModern").fetchQuery;a.prototype.fetchAsync=function(a,c){return h(b("RelayFBEnvironment"),g,{context_id:a,game_id:c}).then(function(a){return(a=a)!=null?(a=a.node)!=null?a.contextPlayers:a:a}).then(function(a){return!Array.isArray(a)?b("Promise").reject():a.map(function(a){return this.$1(a)}.bind(this))}.bind(this))["catch"](function(a){return b("Promise").reject(new(b("GamesQuicksilverError"))("Failed to fetch requested context players").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))})};a.prototype.$1=function(a){var c,d,e;e=(e=a)!=null?e.playerID:e;d=(d=a)!=null?(d=d.user)!=null?d.name:d:d;a=b("gkx")("676892")?(c=a)!=null?(c=c.user)!=null?(c=c.redirectProfilePicture)!=null?c.uri:c:c:c:(c=a)!=null?(c=c.user)!=null?(c=c.profilePicture)!=null?c.uri:c:c:c;if(!e)throw new Error("Failed to parse player from value");return{id:e,name:d,photo:a}};function a(){}e.exports=new a()}),null);
__d("InstantGamesErrorSignal.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.messageSender.rejectGamePromise(a.promiseID,a.error)}a.prototype.render=function(){return null};e.exports=a}),null);
__d("InstantGameContextDialogError.react",["GamesQuicksilverError","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesErrorSignal.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("InstantGamesCrossSiteUtils").EventHandler;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.componentDidMount=function(){h.inform("instant_games_close_fb_ui")};a.prototype.render=function(){return b("React").createElement(b("InstantGamesErrorSignal.react"),{error:new(b("GamesQuicksilverError"))(this.props.error.message).setCode(b("InstantGamesErrorCode").UNKNOWN),messageSender:this.props.messageSender,promiseID:this.props.promiseID})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("InstantGameThreadsSectionRowType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HUB:"hub",SPOTLIGHT:"spotlight",CHALLENGE:"challenge"})}),null);
__d("InstantGamesThreadRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record;g=babelHelpers.inherits(a,c({id:null,participants:[],image:null,name:null,threadFBID:null}));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesThreadImage.react",["cx","InstantGamesThreadRecord","React","SplitImage.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.$1=function(){var a=this.props.threadData.image;return a?[a]:this.props.threadData.participants.map(function(a){return a.image}).filter(Boolean)};a.prototype.render=function(){var a=this.$1();return b("React").createElement("div",{className:"_1v12"},b("React").createElement(b("SplitImage.react"),{className:this.props.className,size:this.props.size,srcs:a}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesThreadTitle.react",["cx","fbt","InstantGamesThreadRecord","InstantGameThreadsSectionRowType","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(){var a=this.props.threadData.name?[this.props.threadData.name]:this.props.threadData.participants.map(function(a){return a.name});return this.getParticipantListText(a)};a.prototype.getParticipantListText=function(a){switch(a.length){case 0:return null;case 1:return a[0];case 2:return h._("{participant1}, {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("{participant1}, {participant2}, {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("{participant1}, {participant2}, {participant3}, {others_link}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2]),h._param("others_link",this.$2(a.length-3))])}};a.prototype.$2=function(a){return a>1?h._({"*":"{others_count} others"},[h._param("others_count",a,[0])]):h._("1 other")};a.prototype.render=function(){var a=this.$1();return b("React").createElement("div",{className:"_6axb"},b("React").createElement("div",{className:(this.props.renderType===b("InstantGameThreadsSectionRowType").CHALLENGE?"_6ax2":"")+(this.props.renderType===b("InstantGameThreadsSectionRowType").SPOTLIGHT?" _65gn":"")},a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesContextSelectorEntry.react",["cx","fbt","InstantGameContextType","InstantGamesThreadImage.react","InstantGamesThreadRecord","InstantGamesThreadTitle.react","InstantGameThreadsSectionRowType","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){i.constructor.call(this),this.$3=function(a){a.clientX===this.$1&&a.clientY===this.$2&&this.props.onContextChange(this.props.threadData.id,b("InstantGameContextType").THREAD),this.$1=null,this.$2=null}.bind(this),this.$4=function(a){this.$1=a.clientX,this.$2=a.clientY}.bind(this),this.$1=null,this.$2=null}a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_6ax0",onClick:this.$3,onMouseDown:this.$4},b("React").createElement(b("InstantGamesThreadImage.react"),{className:"_6ax1",size:48,threadData:this.props.threadData}),b("React").createElement(b("InstantGamesThreadTitle.react"),{className:"_6ax2",renderType:b("InstantGameThreadsSectionRowType").CHALLENGE,threadData:this.props.threadData}),b("React").createElement("div",{className:"_6ax3"},h._("PLAY")))};e.exports=a}),null);
__d("InstantGamesContextSelectorEntryContainer.react",["CurrentUser","InstantGamesContextSelectorEntry.react","InstantGamesThreadRecord","React","RelayModern","InstantGamesContextSelectorEntryContainer_thread.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.$1=function(){var a,c=this.$2(),d=this.$3(),e=this.props.thread.threadName;a=(a=this.props.thread)!=null?(a=a.image)!=null?a.uri:a:a;return!d||!c?null:new(b("InstantGamesThreadRecord"))({id:c,participants:d,name:e,image:a})};a.prototype.$2=function(){var a=this.props.thread.threadKey;return!a?null:a.threadFBID||a.otherUserID};a.prototype.$3=function(){__p&&__p();var a,c;c=(c=this.props.thread)!=null?(c=c.otherParticipants)!=null?c.nodes:c:c;if(!c)return null;c=c.map(function(a){return(a=a)!=null?a.messagingActor:a});a=(a=this.props.thread)!=null?(a=a.customizationInfo)!=null?a.participantCustomizations:a:a;var d=[],e=0,f={};for(var c=c||[],g=Array.isArray(c),h=0,c=g?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;i&&i.id&&i.name&&(f[i.id]===void 0&&(f[i.id]=e,e+=1),d[f[i.id]]={name:i.name,image:null},i.profilePicture&&i.id&&(d[f[i.id]].image=i.profilePicture.uri))}i=b("CurrentUser").getID();for(var h=a||[],g=Array.isArray(h),c=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(c>=h.length)break;e=h[c++]}else{c=h.next();if(c.done)break;e=c.value}a=e;if(a&&a.participantID&&a.nickname&&a.participantID!==i){if(f[a.participantID]===void 0)continue;d[f[a.participantID]].name=a.nickname}}return d};a.prototype.render=function(){var a=this.$1();return!a?null:b("React").createElement(b("InstantGamesContextSelectorEntry.react"),{onContextChange:this.props.onContextChange,threadData:a})};function a(){g.apply(this,arguments)}e.exports=c(a,{thread:function(){return b("InstantGamesContextSelectorEntryContainer_thread.graphql")}})}),null);
__d("InstantGamesContextSelectorSection.react",["cx","InstantGamesContextSelectorEntryContainer.react","React","RelayModern","InstantGamesContextSelectorSection_section.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_6262"},this.props.section.sectionTitle),this.props.section.threads.map(function(a,c){return b("React").createElement(b("InstantGamesContextSelectorEntryContainer.react"),{key:c,onContextChange:this.props.onContextChange,thread:a})}.bind(this)))};function a(){h.apply(this,arguments)}e.exports=c(a,{section:function(){return b("InstantGamesContextSelectorSection_section.graphql")}})}),null);
__d("InstantGamesContextSelectorTitle.react",["cx","fbt","InstantGamesCrossSiteUtils","InstantGamesSpotlightPlayerQE","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("InstantGamesCrossSiteUtils").CloseButton;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_g2d"},b("React").createElement("div",{className:"_2se_"}),b("React").createElement("div",{className:"_g2e"},b("InstantGamesSpotlightPlayerQE").contextChooseHeader),b("React").createElement("div",{className:"_2sf0"+(this.props.onClose?"":" _2sf1")},b("React").createElement(j,{className:null,onClick:this.props.onClose||null,shade:"dark",size:"medium"})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesFBGroupToStoryMutations",["RelayModern","InstantGamesFBGroupToStoryMutations_FBGroupToStoryMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesFBGroupToStoryMutations_FBGroupToStoryMutation.graphql")};e.exports=a}),null);
__d("InstantGamesLinkShareEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AFTER_PARTY_DIALOG_IMPRESSION:"after_party_dialog_impression",AFTER_PARTY_DIALOG_WHATSAPP_BUTTON_IMPRESSION:"after_party_dialog_whatsapp_button_impression",AFTER_PARTY_DIALOG_MORE_BUTTON_IMPRESSION:"after_party_dialog_more_button_impression",AFTER_PARTY_DIALOG_WHATSAPP_BUTTON_CLICK:"after_party_dialog_whatsapp_button_click",AFTER_PARTY_DIALOG_MORE_BUTTON_CLICK:"after_party_dialog_more_button_click",AFTER_PARTY_DIALOG_CLOSE_BUTTON_CLICK:"after_party_dialog_close_button_click",CHALLENGE_LIST_WHATSAPP_ROW_IMPRESSION:"challenge_list_whatsapp_row_impression",CHALLENGE_LIST_WHATSAPP_ROW_CLICK:"challenge_list_whatsapp_row_click",CHALLENGE_LIST_WHATSAPP_ROW_LINK_CREATED:"challenge_list_whatsapp_row_link_created",CHALLENGE_LIST_WHATSAPP_ROW_SHARESHEET_OPENED:"challenge_list_whatsapp_row_sharesheet_opened",CHALLENGE_LIST_WHATSAPP_ROW_WHATSAPP_OPENED:"challenge_list_whatsapp_row_whatsapp_opened",CHALLENGE_LIST_WHATSAPP_ROW_LINK_CREATION_FAILED:"challenge_list_whatsapp_row_link_creation_failed",CHALLENGE_LIST_WHATSAPP_ROW_SHARE_INTENT_FAILED:"challenge_list_whatsapp_row_share_intent_failed",INSTANT_GAME_AFTER_PARTY_LINK_SHARE_INTENT_LAUNCHED:"instant_game_after_party_link_share_intent_launched",INSTANT_GAME_AFTER_PARTY_LINK_SHARE_INTENT_FAILED:"instant_game_after_party_link_share_intent_failed",SHARE_BANNER_WHATSAPP_BUTTON_CLICK:"share_banner_whatsapp_button_click",SHARE_BANNER_CLOSE_BUTTON_CLICK:"share_banner_close_button_click",LOGGED_OUT_VIEW_IMPRESSION:"logged_out_view_impression",LOGGED_OUT_VIEW_LOG_IN_BUTTON_CLICK:"logged_out_view_log_in_button_click",LOGGED_OUT_VIEW_PLAY_IN_APP_BUTTON_CLICK:"logged_out_view_play_in_app_button_click",NEW_LINK_CONTEXT_CREATED:"new_link_context_created",PLAYED_IN_LINK_CONTEXT:"played_in_link_context"})}),null);
__d("InstantGamesShareSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANVAS_TYPEAHEAD:"canvas_typeahead",FB_MOBILE_BOOKMARK:"fb_mobile_bookmark",GAMEROOM:"gameroom",WWW_AFTER_SHARE:"www_after_share",WWW_CONTEXT_CHOOSE:"www_context_choose",WWW_GAMES_HUB:"www_games_hub",WWW_HOVER_CARD:"www_hover_card",WWW_CONTAINER_SHARE_BUTTON:"www_container_share_button"})}),null);
__d("XInstantGamesThreadListQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/instantgames/search/threads/",{value:{type:"String",defaultValue:""},result_count:{type:"Int",defaultValue:30}})}),null);
__d("InstantGamesThreadTypeaheadView.react",["React","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesThreadTypeahead.react",["fbt","AbstractTypeahead.react","InstantGamesThreadSearchSource","InstantGamesThreadTypeaheadView.react","React","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=30;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={query:""},this.$2=function(a){a.target.value===""&&this.props.onEntriesFound(null),this.props.onChange(a.target.value),this.setState({query:a.target.value})}.bind(this),this.$3=function(a){this.props.onEntriesFound(a)}.bind(this),this.$1=new(b("InstantGamesThreadSearchSource"))(a.maxEntries||i)}a.prototype.render=function(){return b("React").createElement(b("AbstractTypeahead.react"),{className:this.props.className,onChange:this.$2,onEntriesFound:this.$3,onNoEntriesFound:this.props.onNoEntriesFound,placeholder:g._("Search"),presenter:{maxEntries:this.props.maxEntries||i,ViewRenderer:b("InstantGamesThreadTypeaheadView.react")},queryString:this.state.query,searchSource:this.$1})};e.exports=a}),null);
__d("InstantGamesContextSelectorCardRenderer.react",["ix","cx","fbt","AnimatedSlideInFromBottom.react","ClientIDs","FullSizeVerticalScrollView.react","Image.react","InstantGameContextType","InstantGamesContextSelectorEntry.react","InstantGamesContextSelectorSection.react","InstantGamesContextSelectorTitle.react","InstantGamesCrossSiteUtils","InstantGamesFacebookGroups","InstantGamesFBGroupToStoryMutations","InstantGamesLinkShareEvent","InstantGamesLinkShareTypedLogger","InstantGamesShareSurface","InstantGamesSpotlightPlayerQE","InstantGamesThreadRecord","InstantGamesThreadTypeahead.react","QE2Logger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","ShimButton.react","XPlayWithFriendsShareController","asset","gkx","InstantGamesContextSelectorCardRenderer_game.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ClientIDs").getNewClientID,l=b("InstantGamesCrossSiteUtils").AsyncRequest,m=b("InstantGamesCrossSiteUtils").IsMobile,n=b("InstantGamesCrossSiteUtils").LoadingSpinner;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o=b("RelayModern").commitMutation,p={NULL:"null_state",SEARCHING:"searching_state",NO_ENTRIES_FOUND:"no_entries_found"};d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={isMounted:!1,shareDisabled:!1,threadSearchResults:null,typeaheadState:p.NULL},this.$1=3e3,this.$3=function(a){if(!a){this.setState({threadSearchResults:null});return}a=a.map(function(a){return a.getAuxiliaryData()});this.setState({threadSearchResults:a})}.bind(this),this.$4=function(){if(this.state.typeaheadState===p.NULL)return;this.setState({typeaheadState:p.NO_ENTRIES_FOUND})}.bind(this),this.$5=function(a){this.setState({typeaheadState:a!==""?p.SEARCHING:p.NULL})}.bind(this),this.$6=function(){if(this.state.shareDisabled)return;var a=b("XPlayWithFriendsShareController").getURIBuilder().setInt("game_id",this.props.game.id).setBool("always_show_share_dialog",!0).setEnum("source",b("InstantGamesShareSurface").WWW_CONTEXT_CHOOSE).getURI();new l().setURI(a).send();this.$2=setTimeout(this.$7,this.$1);this.setState({shareDisabled:!0})}.bind(this),this.$7=function(){this.setState({shareDisabled:!1})}.bind(this),this.$8=function(){this.props.onContextChange(null,b("InstantGameContextType").LINK),new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").CHALLENGE_LIST_WHATSAPP_ROW_CLICK).setIgAppID(this.props.game.id).setSource(this.props.entryPoint).log()}.bind(this),c}a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.componentWillUnmount=function(){clearTimeout(this.$2)};a.prototype.$9=function(a){if(a==null)return;a={data:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:k(),app_id:this.props.game.id,group_id:a}};o(b("RelayFBEnvironment"),{mutation:b("InstantGamesFBGroupToStoryMutations"),variables:a,onCompleted:function(a){if(!a)return;a=(a=a)!=null?(a=a.instant_games_fbgroup_to_story)!=null?a.storyId:a:a;this.props.onContextChange(a,b("InstantGameContextType").STORY)}.bind(this),onError:function(a){}})};a.prototype.render=function(){__p&&__p();var a;a=(a=this.props)!=null?(a=a.game)!=null?(a=a.filteredSuggestions)!=null?a.sections:a:a:a;if(!a&&!this.state.threadSearchResults)return null;var c=null,d=null;this.state.threadSearchResults?c=this.state.threadSearchResults.map(function(a,c){var d=a.id,e=a.participants,f=a.thread_name;a=a.thread_image;d=new(b("InstantGamesThreadRecord"))({id:d,participants:e,name:f,image:a});return b("React").createElement(b("InstantGamesContextSelectorEntry.react"),{key:c,onContextChange:this.props.onContextChange,threadData:d})}.bind(this)):this.state.typeaheadState===p.SEARCHING?c=b("React").createElement("div",{className:"_4uzi"},b("React").createElement(n,{size:"large"})):this.state.typeaheadState===p.NO_ENTRIES_FOUND?c=b("React").createElement("div",{className:"_4uzi"},i._("No Entries Found")):a&&(c=a.map(function(a,c){return b("React").createElement(b("InstantGamesContextSelectorSection.react"),{key:c,onContextChange:this.props.onContextChange,section:a})}.bind(this)),b("InstantGamesFacebookGroups").supported_game_ids.indexOf(this.props.game.id)>=0&&b("gkx")("676893")&&(b("QE2Logger").logExposureForUser("instant_games_fb_groups_context_selector"),d=b("InstantGamesFacebookGroups").groups.map(function(a,c){var d=a.id,e=a.name;a=a.image;var f=[];d=new(b("InstantGamesThreadRecord"))({id:d,participants:f,name:e,image:a});return b("React").createElement(b("InstantGamesContextSelectorEntry.react"),{key:c,onContextChange:function(a,b){this.$9(a)}.bind(this),threadData:d})}.bind(this)),d=d.length>0?d:null));a=!m()&&this.state.typeaheadState===p.NULL;var e=null,f=null;a&&(b("QE2Logger").logExposureForUser("ig_context_choose_content"),e=b("InstantGamesSpotlightPlayerQE").playWithFriendsCTA,f=b("InstantGamesSpotlightPlayerQE").playWithFriendsDescription);var h=null,j=null,k=this.state.typeaheadState===p.NULL&&b("InstantGamesSpotlightPlayerQE").showContextChooseWhatsAppRow;b("QE2Logger").logExposureForUser("instant_games_link_share_universe");k&&(h=b("InstantGamesSpotlightPlayerQE").contextChooseWhatsAppRowDescription,j=b("InstantGamesSpotlightPlayerQE").contextChooseWhatsAppRowButtonText,new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").CHALLENGE_LIST_WHATSAPP_ROW_IMPRESSION).setIgAppID(this.props.game.id).setSource(this.props.entryPoint).log());return b("React").createElement("div",{className:"_t9_"},b("React").createElement("div",{className:"_ixc"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"20px",translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:"_5947"},b("React").createElement("div",{className:"_5948"},b("React").createElement(b("InstantGamesContextSelectorTitle.react"),{onClose:this.props.onClose})),b("React").createElement(b("InstantGamesThreadTypeahead.react"),{className:"_3nhx",onChange:this.$5,onEntriesFound:this.$3,onNoEntriesFound:this.$4}),k?b("React").createElement(b("ShimButton.react"),{className:"_6ax0",onClick:this.$8},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_6ax7",src:g("497242")})),b("React").createElement("div",{className:"_6ax2"},h),b("React").createElement("div",{className:"_6qca"},j)):null,a?b("React").createElement(b("ShimButton.react"),{className:"_6ax0",onClick:this.$6},b("React").createElement(b("Image.react"),{className:"_6ax7",src:g("507177")}),b("React").createElement("div",{className:"_6ax2"},f),b("React").createElement("div",{className:"_6ax3"},e)):null,d?b("React").createElement("div",{className:"_5949"},b("React").createElement("div",{className:"_6262"},i._("Facebook Groups")),d):null,b("React").createElement("div",{className:"_5949"},c))))))};e.exports=c(a,{game:function(){return b("InstantGamesContextSelectorCardRenderer_game.graphql")}})}),null);
__d("InstantGamesContextSelector.react",["ClientIDs","GamesQuicksilverError","InstantGameContextDialogError.react","InstantGameContextType","InstantGamesContextMutations","InstantGamesContextSelectorCardRenderer.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesLinkShareEvent","InstantGamesLinkShareTypedLogger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","goURI","InstantGamesContextSelectorQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ClientIDs").getNewClientID,j=b("InstantGamesContextMutations").LinkContextCreateMutation,k=b("InstantGamesCrossSiteUtils").EventHandler,l=b("InstantGamesCrossSiteUtils").IsMobile,m=b("InstantGamesCrossSiteUtils").LoadingSpinner,n=b("RelayModern").QueryRenderer,o=b("RelayModern").commitMutation;b("RelayModern").graphql;var p=20;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.$2(new(b("GamesQuicksilverError"))("Player closed the context menu").setCode(b("InstantGamesErrorCode").USER_INPUT))}.bind(this),this.$3=function(a,c){__p&&__p();if(c===b("InstantGameContextType").LINK)o(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,app_id:this.props.gameID,client_mutation_id:i()}},onCompleted:function(a){if(!a){this.$4();return}this.$5(a)}.bind(this),onError:function(a){return this.$4()}.bind(this)});else{if(a===this.props.contextKey.getSourceID()){k.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,new(b("GamesQuicksilverError"))("Attempted to switch into the current context").setCode(b("InstantGamesErrorCode").SAME_CONTEXT));return}this.props.switchContext({id:a,promiseID:this.props.promiseID,source:"challenge_card",type:c})}}.bind(this),this.$6=function(a){var c=a.error;a=a.props;if(a)return b("React").createElement(b("InstantGamesContextSelectorCardRenderer.react"),{game:a.node,onClose:this.$1,onContextChange:this.$3,promiseID:this.props.promiseID,entryPoint:this.props.entryPoint});return c?b("React").createElement(b("InstantGameContextDialogError.react"),{error:c,messageSender:this.props.messageSender,promiseID:this.props.promiseID}):b("React").createElement(m,null)}.bind(this),c}a.prototype.$5=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.instant_application_context_token_link_create)!=null?c.contextToken:c:c;if(!c){this.$4();return}var d=c.contextSourceID,e=c.contextType;c=c.contextTokenID;if(!d||!e){this.$4();return}a=(a=a)!=null?(a=a.instant_application_context_token_link_create)!=null?a.shareMessage:a:a;new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").CHALLENGE_LIST_WHATSAPP_ROW_LINK_CREATED).setIgAppID(this.props.gameID).setSource(this.props.entryPoint).setLinkFragment(d).setLinkContextTokenID(c).setShareMessage(a).log();if(a!=null){var f="https://api.whatsapp.com/send?text="+a;new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").CHALLENGE_LIST_WHATSAPP_ROW_WHATSAPP_OPENED).setIgAppID(this.props.gameID).setSource(this.props.entryPoint).setLinkFragment(d).setLinkContextTokenID(c).setShareMessage(a).log();l()?b("goURI")(f,!1,!1):window.open(f,"_blank")}this.props.switchContext({id:d,promiseID:this.props.promiseID,type:e})};a.prototype.$4=function(){this.$2(new(b("GamesQuicksilverError"))("Failed to switch context").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE)),new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").CHALLENGE_LIST_WHATSAPP_ROW_LINK_CREATION_FAILED).setIgAppID(this.props.gameID).setSource(this.props.entryPoint).log()};a.prototype.$2=function(a){k.inform("instant_games_close_fb_ui"),this.props.messageSender.rejectGamePromise(this.props.promiseID,a)};a.prototype.render=function(){var a={};a.min_size=this.props.filters.minSize;a.max_size=this.props.filters.maxSize;a.filters=this.props.filters.filters;return b("React").createElement(n,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("InstantGamesContextSelectorQuery.graphql")}),render:this.$6,variables:{filters:a,gameID:this.props.gameID,first:this.props.resultCount||p}})};e.exports=a}),null);
__d("InstantGamesContextStorageOperations",["RelayModern","InstantGamesContextStorageOperations_CreateMatchMutation.graphql","InstantGamesContextStorageOperations_EndMatchMutation.graphql","InstantGamesContextStorageOperations_SaveMatchDataMutation.graphql","InstantGamesContextStorageOperations_IncrementMatchDataMutation.graphql","InstantGamesContextStorageOperations_FetchMatchesQuery.graphql","InstantGamesContextStorageOperations_FetchMatchDataQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;a=function(){return b("InstantGamesContextStorageOperations_CreateMatchMutation.graphql")};c=function(){return b("InstantGamesContextStorageOperations_EndMatchMutation.graphql")};d=function(){return b("InstantGamesContextStorageOperations_SaveMatchDataMutation.graphql")};f=function(){return b("InstantGamesContextStorageOperations_IncrementMatchDataMutation.graphql")};var g=function(){return b("InstantGamesContextStorageOperations_FetchMatchesQuery.graphql")},h=function(){return b("InstantGamesContextStorageOperations_FetchMatchDataQuery.graphql")};e.exports={CreateMatchMutation:a,EndMatchMutation:c,FetchMatchesQuery:g,FetchMatchDataQuery:h,IncrementMatchDataMutation:f,SaveMatchDataMutation:d}}),null);
__d("InstantGamesContextStorage",["Promise","ClientIDs","GamesQuicksilverError","InstantGamesContextStorageOperations","InstantGamesErrorCode","InstantGamesSessionManager","RelayAPIConfig","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("InstantGamesContextStorageOperations").CreateMatchMutation,i=b("InstantGamesContextStorageOperations").EndMatchMutation,j=b("InstantGamesContextStorageOperations").FetchMatchesQuery,k=b("InstantGamesContextStorageOperations").FetchMatchDataQuery,l=b("InstantGamesContextStorageOperations").IncrementMatchDataMutation,m=b("InstantGamesContextStorageOperations").SaveMatchDataMutation,n=b("RelayModern").commitMutation,o=b("RelayModern").fetchQuery,p=2197001,q=2197002,r=2197003;function a(a){this.$1=a}a.prototype.createMatch=function(a,c){__p&&__p();var d={};d.actor_id=b("RelayAPIConfig").actorID;d.context_id=a;d.client_mutation_id=g();d.session_id=b("InstantGamesSessionManager").getSessionID();c&&(d.match_name=c);return new(b("Promise"))(function(a,c){n(b("RelayFBEnvironment"),{mutation:h,variables:{input:d},onCompleted:function(b){return a(b)},onError:function(a){return c(a)}})}).then(function(c){c=(c=c)!=null?(c=c.createMatch)!=null?c.match:c:c;return b("Promise").resolve(this.$2(a,c))}.bind(this))["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to create a new context match"))}.bind(this))};a.prototype.fetchMatches=function(a){var c=a.contextID,d=a.matches;a=a.status;return o(b("RelayFBEnvironment"),j,{context_id:c,matches:d,status:a}).then(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.store)!=null?a.matches:a:a:a}).then(function(a){return!Array.isArray(a)?b("Promise").reject():a.map(function(a){return this.$2(c,a)}.bind(this))}.bind(this))["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to fetch requested matches"))}.bind(this))};a.prototype.endMatch=function(a,c){var d={actor_id:b("RelayAPIConfig").actorID,context_id:a,client_mutation_id:g(),match_id:c,session_id:b("InstantGamesSessionManager").getSessionID()};return new(b("Promise"))(function(a,c){n(b("RelayFBEnvironment"),{mutation:i,variables:{input:d},onCompleted:function(b){return a(b)},onError:function(a){return c(a)}})}).then(function(c){c=(c=c)!=null?(c=c.endMatch)!=null?c.match:c:c;return b("Promise").resolve(this.$2(a,c))}.bind(this))["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to end the match"))}.bind(this))};a.prototype.fetchData=function(a,c,d){return o(b("RelayFBEnvironment"),k,{context_id:a,match_id:c,keys:d}).then(function(a){a=(a=a)!=null?(a=a.node)!=null?(a=a.store)!=null?a.matches:a:a:a;if(!Array.isArray(a)||a.length!==1)throw new Error("Failed to parse match data");return this.$4(a[0])}.bind(this))["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to fetch requested storage data"))}.bind(this))};a.prototype.saveData=function(a,c,d){var e={actor_id:b("RelayAPIConfig").actorID,context_id:a,client_mutation_id:g(),match_id:c,session_id:b("InstantGamesSessionManager").getSessionID()},f=new Blob([d],{type:"text/plain"});return new(b("Promise"))(function(a,c){n(b("RelayFBEnvironment"),{mutation:m,variables:{input:e},uploadables:{fields_file:f},onCompleted:function(b){return a()},onError:function(a){return c(a)}})})["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to persist the match data"))}.bind(this))};a.prototype.incrementData=function(a,c,d,e){var f={actor_id:b("RelayAPIConfig").actorID,context_id:a,client_mutation_id:g(),match_id:c,session_id:b("InstantGamesSessionManager").getSessionID()},h=new Blob([d],{type:"text/plain"});return new(b("Promise"))(function(a,c){n(b("RelayFBEnvironment"),{mutation:l,variables:{input:f,keys:e},uploadables:{fields_file:h},onCompleted:function(b){return a(b)},onError:function(a){return c(a)}})}).then(function(a){a=(a=a)!=null?(a=a.incrementFields)!=null?a.match:a:a;return this.$4(a)}.bind(this))["catch"](function(a){return b("Promise").reject(this.$3(a,"Failed to persist the match data"))}.bind(this))};a.prototype.$2=function(a,b){var c,d;d=(d=b)!=null?d.matchID:d;c=(c=b)!=null?c.status:c;b=(b=b)!=null?b.name:b;if(!d||!c)throw new Error("Failed to parse match from value");return{contextID:a,id:d,name:b,status:c}};a.prototype.$4=function(a){__p&&__p();a=a.fields;if(!Array.isArray(a))throw new Error("Failed to parse match data");var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b[e.key]=e.value}return JSON.stringify(b)};a.prototype.$3=function(a,c){var d=new(b("GamesQuicksilverError"))();if(!a){d.setMessage(c).setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);return d}a.code===q?d.setMessage(a.description).setCode(b("InstantGamesErrorCode").INVALID_OPERATION):a.code===p?d.setMessage(a.description).setCode(b("InstantGamesErrorCode").INVALID_PARAM):a.code===r?d.setMessage("Match with that name already exists in this context").setCode(b("InstantGamesErrorCode").INVALID_PARAM):d.setMessage(c).setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);return d};e.exports=a}),null);
__d("InstantGamesContextSwitchAndJoinDialog.react",["cx","Image.react","InstantGamesButton.react","InstantGamesCrossSiteUtils","React","RelayModern","SplitImage.react","getByPath","joinClasses","InstantGamesContextSwitchAndJoinDialog_context.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("InstantGamesCrossSiteUtils").LoadingSpinner;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=100;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={clicked:!1},this.$1=function(){this.setState({clicked:!0}),this.props.onSwitch()}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c,d,e=b("getByPath")(this.props.context,["context_image","uri"]);d=(d=this.props.context)!=null?d.context_participants:d;var f=null;d&&(f=d.map(function(a){return b("getByPath")(a,["profile_picture","uri"])}).filter(Boolean));d=((d=this.props.context)!=null?d.contextName:d)||null;var g=b("getByPath")(this.props.context,["join_context_dialog_info","member_number_info_text","text"]);c=((c=this.props.context)!=null?(c=c.join_context_dialog_info)!=null?(c=c.decline_button_text)!=null?c.text:c:c:c)||null;a=((a=this.props.context)!=null?(a=a.join_context_dialog_info)!=null?(a=a.confirm_button_text)!=null?a.text:a:a:a)||null;return b("React").createElement("div",{className:b("joinClasses")("_16tl","_2bz0")},e?b("React").createElement(b("Image.react"),{className:"_71tz",src:e}):null,!e&&f?b("React").createElement("div",{className:"_73zx"},b("React").createElement(b("SplitImage.react"),{className:"_73zy",size:j,srcs:f})):null,b("React").createElement("div",{className:"_71t-"},d),b("React").createElement("div",{className:"_71t_"},g),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Cancel",labelIsHidden:!0,onClick:this.props.onClose,title:c}),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Allow",labelIsHidden:!0,onClick:this.$1,title:a}),b("React").createElement(i,{className:"_swn"+(this.state.clicked?"":" _swm"),size:"large"}))};e.exports=c(a,{context:function(){return b("InstantGamesContextSwitchAndJoinDialog_context.graphql")}})}),null);
__d("InstantGamesContextSwitchDialog.react",["fbt","InstantGamesContextChangeDialog.react","React","RelayModern","InstantGamesContextSwitchDialog_context.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.$1=function(){return this.props.dialogTitleRenderer?this.props.dialogTitleRenderer(this.props.context.contextName):g._("Play with {context-name}",[g._param("context-name",this.props.context.contextName)])};a.prototype.render=function(){return b("React").createElement(b("InstantGamesContextChangeDialog.react"),{buttonTitle:this.props.buttonTitle,className:this.props.className,context:this.props.context,onClose:this.props.onClose,onSwitch:this.props.onSwitch,playerPhotoURI:this.props.playerPhotoURI,text:this.$1()})};function a(){h.apply(this,arguments)}e.exports=c(a,{context:function(){return b("InstantGamesContextSwitchDialog_context.graphql")}})}),null);
__d("InstantGamesContextSwitcherRenderer.react",["cx","invariant","AnimatedSlideInFromBottom.react","ClientIDs","FullSizeVerticalScrollView.react","GamesQuicksilverError","InstantGameContextType","InstantGamesContextSwitchAndJoinDialog.react","InstantGamesContextSwitchDialog.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesContextSwitcherRendererMutation.graphql","InstantGamesContextSwitcherRenderer_context.graphql","InstantGamesContextSwitcherRenderer_profile.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ClientIDs").getNewClientID,k=b("InstantGamesCrossSiteUtils").EventHandler,l=b("RelayModern").commitMutation;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var m=function(){return b("InstantGamesContextSwitcherRendererMutation.graphql")};d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();i.constructor.call(this),this.$2=function(){var a=new(b("GamesQuicksilverError"))("Player closed the context menu").setCode(b("InstantGamesErrorCode").USER_INPUT);this.props.onReject(a)}.bind(this),this.$3=function(){this.$2(),l(b("RelayFBEnvironment"),{mutation:m,variables:{input:{actor_id:b("RelayAPIConfig").actorID,context_id:this.props.context.contextTokenID,client_mutation_id:j(),is_context_joined:!1}},onCompleted:function(){},onError:function(){}})}.bind(this),this.$4=function(){var a=this.props.context.contextSourceID,b=this.props.context.contextType;a&&b||h(0,2588);this.props.changeContext({id:a,promiseID:this.props.promiseID,type:b})}.bind(this),this.$5=function(){l(b("RelayFBEnvironment"),{mutation:m,variables:{input:{actor_id:b("RelayAPIConfig").actorID,context_id:this.props.context.contextTokenID,client_mutation_id:j(),is_context_joined:!0}},onCompleted:function(){k.inform("instant_games_close_fb_ui"),this.$4()}.bind(this),onError:function(){k.inform("instant_games_close_fb_ui");var a=new(b("GamesQuicksilverError"))("Failed to add the player to the new context.").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);this.props.onReject(a)}.bind(this)})}.bind(this),this.state={isMounted:!1}}a.prototype.UNSAFE_componentWillMount=function(){this.$1()||this.props.onReject(new(b("GamesQuicksilverError"))("Invalid context id for player").setCode(b("InstantGamesErrorCode").INVALID_PARAM))};a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.$1=function(){__p&&__p();var a;if(!this.props.context)return!1;if(!this.props.context.application||!this.props.context.contextType)return!1;a=(a=this.props.context)!=null?(a=a.application)!=null?a.id:a:a;if(this.props.gameID!==a)return!1;a=(a=this.props.profile)!=null?(a=a.picture)!=null?a.uri:a:a;return!a?!1:!0};a.prototype.render=function(){var a;if(!this.$1())return null;a=(a=this.props.profile)!=null?(a=a.picture)!=null?a.uri:a:a;if(!a)return null;a=this.props.context.shouldJoinNewContext?b("React").createElement(b("InstantGamesContextSwitchAndJoinDialog.react"),{context:this.props.context,onClose:this.$3,onSwitch:this.$5,playerPhotoURI:a}):b("React").createElement(b("InstantGamesContextSwitchDialog.react"),{buttonTitle:this.props.buttonTitle,className:"_16tl",context:this.props.context,dialogTitleRenderer:this.props.dialogTitleRenderer,onClose:this.$2,onSwitch:this.$4,playerPhotoURI:a});return b("React").createElement("div",{className:"_16ti"},b("React").createElement("div",{className:"_16tj"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"50%",translate:"0px",trigger:this.state.isMounted},a))))};e.exports=c(a,{context:function(){return b("InstantGamesContextSwitcherRenderer_context.graphql")},profile:function(){return b("InstantGamesContextSwitcherRenderer_profile.graphql")}})}),null);
__d("InstantGamesContextSwitcher.react",["GamesQuicksilverError","InstantGameContextDialogError.react","InstantGamesContextSwitcherRenderer.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","React","RelayFBEnvironment","RelayModern","InstantGamesContextSwitcherQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("InstantGamesCrossSiteUtils").EventHandler,j=b("InstantGamesCrossSiteUtils").LoadingSpinner,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){i.inform("instant_games_close_fb_ui"),this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this),b}a.prototype.UNSAFE_componentWillMount=function(){this.props.oldContext===this.props.newContext&&this.$1(new(b("GamesQuicksilverError"))("New context is the same as the old context.").setCode(b("InstantGamesErrorCode").SAME_CONTEXT))};a.prototype.render=function(){__p&&__p();return this.props.oldContext===this.props.newContext?null:b("React").createElement(k,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("InstantGamesContextSwitcherQuery.graphql")}),render:function(a){__p&&__p();var c=a.error;a=a.props;if(a){if(!a.node){this.$1(new(b("GamesQuicksilverError"))("Invalid context id for player").setCode(b("InstantGamesErrorCode").INVALID_PARAM));return null}return b("React").createElement(b("InstantGamesContextSwitcherRenderer.react"),{buttonTitle:this.props.buttonTitle,changeContext:this.props.changeContext,context:a.node,dialogTitleRenderer:this.props.dialogTitleRenderer,gameID:this.props.gameID,onReject:this.$1,profile:a.me,promiseID:this.props.promiseID})}else if(c)return b("React").createElement(b("InstantGameContextDialogError.react"),{error:c,messageSender:this.props.messageSender,promiseID:this.props.promiseID});else return b("React").createElement(j,null)}.bind(this),variables:{contextToken:this.props.newContext}})};e.exports=a}),null);
__d("InstantGamesFunnelActionPayloadKey",[],(function(a,b,c,d,e,f){"use strict";a={AVERAGE_FRAME_TIME:"average_frame_time",GAME_ID:"game_id",GROUP_ID:"group_id",HEARTBEAT_INTERVAL:"heartbeat_interval",SOURCE:"source",STORY_TOKEN:"story_token",THREAD_ID:"thread_id"};e.exports=a}),null);
__d("InstantGamesFunnelEvent",[],(function(a,b,c,d,e,f){"use strict";a={FUNNEL_END:"funnel_end",FUNNEL_START:"funnel_start",GAME_ACTIVE:"game_active",GAME_BACKGROUNDED:"game_backgrounded",GAME_CHALLENGE_LIST_SHOWN:"game_challenge_list_shown",GAME_CHAT_SEND_MESSEAGE:"game_chat_send_message",GAME_CHAT_SEND_HOT_LIKE:"game_chat_send_hot_like",GAME_CONTAINER_CLOSE:"game_container_close",GAME_CONTAINER_SHOW:"game_container_show",GAME_CONTEXT_UPDATE:"game_context_update",GAME_CONTEXT_UPDATED:"game_context_updated",GAME_INFO_FETCH:"game_info_fetch",GAME_INFO_QUERY_SUCCESS:"game_info_query_success",GAME_LIST_DISMISS:"game_list_dismiss",GAME_LIST_OPEN:"game_list_open",GAME_LIST_SHOW:"game_list_show",GAME_PLAY_ALL_MATCHES:"game_play_all_matches",GAME_PLAY_CURRENT_MATCH:"game_play_current_match",GAME_PLAY_END:"game_play_end",GAME_PLAY_SOLO:"game_play_solo",GAME_PLAY_START:"game_play_start",GAME_PLAY_TOP_SCORES:"game_play_top_scores",GAME_READY:"game_ready",GAME_SELECT:"game_select",GAME_SESSION_BEGIN:"game_session_begin",GAME_SESSION_RESTART:"game_session_restart",GAME_SWITCH:"game_switch",GAME_SWITCH_DIALOG_ACCEPTED:"game_switch_dialog_accepted",GAME_SWITCH_DIALOG_DISMISSED:"game_switch_dialog_dissmissed",GAME_SWITCH_DIALOG_SHOWN:"game_switch_dialog_shown",HEARTBEAT:"heartbeat",LOADING_STARTED:"loading_started",NOT_SUPPORTED:"not_supported",PRIVACY_INFO_GRANT_PERMISSIONS:"privacy_info_grant_permissions",PRIVACY_INFO_SHOW:"privacy_info_show",QUICKSILVER_AVERAGE_FRAME_TIME:"quicksilver_average_frame_time",QUICKSILVER_END:"quicksilver_end",QUICKSILVER_START:"quicksilver_start",TAG_ADDED:"tag_added",YIELDED_CONTROL:"yielded_control"};e.exports=a}),null);
__d("InstantApplicationUserScopeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1648337965256687"};c.getQueryID=function(){"use strict";return"1138910482918612"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("InstantGamesPlayerMutations",["RelayModern","InstantGamesPlayerMutations_ChangePlayerStateMutation.graphql","InstantGamesPlayerMutations_GetSignedPlayerInfoMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesPlayerMutations_ChangePlayerStateMutation.graphql")};c=function(){return b("InstantGamesPlayerMutations_GetSignedPlayerInfoMutation.graphql")};e.exports={ChangePlayerStateMutation:a,GetSignedPlayerInfoMutation:c}}),null);
__d("AddScoreMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1262764433804137"};c.getQueryID=function(){"use strict";return"1895128154104292"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("InstantGameSDKEndAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCORE:"SCORE",CUSTOM:"CUSTOM",NONE:"NONE"})}),null);
__d("CustomUpdateMutationModern",["RelayModern","CustomUpdateMutationModern_MarkAfterShareShownMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("CustomUpdateMutationModern_MarkAfterShareShownMutation.graphql")};e.exports={CustomUpdateMutationModern:a}}),null);
__d("InstantGamesCustomUpdate",["Promise","ClientIDs","CustomUpdateMutationModern","RelayAPIConfig","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("CustomUpdateMutationModern").CustomUpdateMutationModern,i=b("RelayModern").commitMutation,j="application/base64";function a(a){this.$1=a}a.prototype.setPreHook=function(a){this.$2=a};a.prototype.setPostHook=function(a){this.$3=a};a.prototype.postAsync=function(){__p&&__p();var a=this.$2,c=this.$3;return new(b("Promise"))(function(d,e){a&&a();var f=this.$1.image,k=new Uint8Array(f.length);for(var l=0;l<f.length;l++)k[l]=f.charCodeAt(l);l={actor_id:b("RelayAPIConfig").actorID,context_token_id:this.$1.contextTokenID,cta:this.$1.cta,data:this.$1.data,extra:this.$1.extra,game_id:this.$1.gameID,image_file_content_type:j,session_id:this.$1.sessionID,text:this.$1.text,client_mutation_id:g()};i(b("RelayFBEnvironment"),{mutation:h,variables:{input:l},uploadables:{image_file:new Blob([k],{type:j})},onCompleted:function(a){c&&c(),d(a)},onError:function(a){return e(a)}})}.bind(this))};e.exports=a}),null);
__d("GamesInstantPlaySupportedOrientation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PORTRAIT:"portrait",LANDSCAPE:"landscape",PORTRAIT_LANDSCAPE:"portrait_landscape",RESPONSIVE:"responsive"})}),null);
__d("InstantGamePlayedMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1493570750666962"};c.getQueryID=function(){"use strict";return"296417794109500"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("InstantGamesGameState",[],(function(a,b,c,d,e,f){e.exports={INITIAL:"initial",LOADING:"loading",READY:"ready",PLAYING:"playing",GAMEOVER:"gameover"}}),null);
__d("InstantGamesGameSwitchDialog.react",["cx","fbt","AnimatedSlideInFromBottom.react","FullSizeVerticalScrollView.react","GamesQuicksilverError","GamesQuicksilverFunnelLogger","Image.react","InstantGamesButton.react","InstantGamesContextImage.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesGateKeepers","QE2Logger","React","RelayModern","Video.react","InstantGamesGameSwitchDialog_gameInfo.graphql","InstantGamesGameSwitchDialog_context.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("InstantGamesCrossSiteUtils").CloseButton,k=b("InstantGamesCrossSiteUtils").EventHandler,l=b("InstantGamesCrossSiteUtils").LoadingSpinner;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var m=75;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={clicked:!1,isMounted:!1},this.$1=function(){b("GamesQuicksilverFunnelLogger").logGameSwitchDialogResult(b("GamesQuicksilverFunnelLogger").getDefaultFunnelName(),this.props.gameInfo.id||"",!1);var a=new(b("GamesQuicksilverError"))("Player closed the game switch dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);k.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this),this.$2=function(){b("GamesQuicksilverFunnelLogger").logGameSwitchDialogResult(b("GamesQuicksilverFunnelLogger").getDefaultFunnelName(),this.props.gameInfo.id||"",!0),this.props.messageSender.resolveGamePromise(this.props.promiseID),this.props.switchGame(this.props.gameInfo.id||"",this.props.entryPointData),this.setState({clicked:!0})}.bind(this),c}a.prototype.componentDidMount=function(){b("GamesQuicksilverFunnelLogger").logGameSwitchDialogShown(b("GamesQuicksilverFunnelLogger").getDefaultFunnelName(),this.props.gameInfo.id||""),this.setState({isMounted:!0}),b("QE2Logger").logExposureForUser("instant_games_www_game_switch_experiments")};a.prototype.render=function(){__p&&__p();var a,c,d,e=b("InstantGamesGateKeepers").instant_games_game_switch_banner_image,f=b("InstantGamesGateKeepers").instant_games_game_switch_video,g=e||f,i=!e&&!f;d=(d=this.props.gameInfo)!=null?(d=d.instant_game_info)!=null?d.banner_image_uri:d:d;c=(c=this.props.gameInfo)!=null?(c=c.instant_game_info)!=null?c.icon_uri:c:c;a=(a=this.props.gameInfo)!=null?(a=a.instant_game_info)!=null?a.video_uri:a:a;var k=this.props.context?b("React").createElement("div",{className:(g?"_6dot":"")+(i?" _2bz5":"")+(g?" _6dou":"")+(i?" _2bz6":"")},b("React").createElement(b("InstantGamesContextImage.react"),{className:"_65-z",contextToken:this.props.context,size:m})):null;c=b("React").createElement("div",{className:(g?"_6dov":"")+(i?" _2bz3":"")},b("React").createElement("div",{className:(g?"_6dot":"")+(i?" _2bz5":"")},b("React").createElement(b("Image.react"),{className:"_65-z",src:c})),k);k=f?b("React").createElement("div",{className:"_6dow"},b("React").createElement(b("Video.react"),{autoPlay:!0,className:"_6dox",src:a})):b("React").createElement("div",{className:"_6doy"},b("React").createElement(b("Image.react"),{className:"_6doz",src:d}));a=null;d="25%";f?(a=[k,c],d="12%"):e?a=[k,c]:a=c;return b("React").createElement("div",{className:"_16ti"},b("React").createElement("div",{className:"_16tj"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:d,translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:(g?"_6do-":"")+(i?" _2bz0":"")},a,b("React").createElement(j,{className:(g?"_6do_":"")+(i?" _2bz2":""),onClick:this.$1,shade:"dark",size:"medium"}),b("React").createElement("div",{className:(g?"_6dp0":"")+(i?" _2bz7":"")},this.props.context&&this.props.context.contextName?h._("Play {game-name} with {context-name}",[h._param("game-name",this.props.gameInfo.name),h._param("context-name",this.props.context.contextName)]):h._("Play {game-name}",[h._param("game-name",this.props.gameInfo.name)])),b("React").createElement(b("InstantGamesButton.react"),{className:(g?"_6dp1":"")+(i?" _2bz8":"")+(this.state.clicked?" _2bz9":""),label:"Play",labelIsHidden:!0,onClick:this.$2,title:h._("Play")}),b("React").createElement(l,{className:"_2bza"+(this.state.clicked?"":" _2bz9"),size:"large"}))))))};e.exports=c(a,{gameInfo:function(){return b("InstantGamesGameSwitchDialog_gameInfo.graphql")},context:function(){return b("InstantGamesGameSwitchDialog_context.graphql")}})}),null);
__d("InstantGamesGameSwitchDialogContainer.react",["GamesQuicksilverError","InstantGameContextDialogError.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesGameSwitchDialog.react","React","RelayFBEnvironment","RelayModern","InstantGamesGameSwitchDialogContainerQuery.graphql","InstantGamesGameSwitchDialogContainer_context.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("InstantGamesCrossSiteUtils").LoadingSpinner,j=b("RelayModern").QueryRenderer;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){__p&&__p();return b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("InstantGamesGameSwitchDialogContainerQuery.graphql")}),render:function(a){__p&&__p();var c=a.error;a=a.props;if(a){if(!a.node){var d=new(b("GamesQuicksilverError"))("Failure while fetching app info").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);this.props.messageSender.rejectGamePromise(this.props.promiseID,d);return null}return b("React").createElement(b("InstantGamesGameSwitchDialog.react"),{context:this.props.context,entryPointData:this.props.entryPointData,gameInfo:a.node,messageSender:this.props.messageSender,switchGame:this.props.switchGame,promiseID:this.props.promiseID})}else if(c)return b("React").createElement(b("InstantGameContextDialogError.react"),{error:c,messageSender:this.props.messageSender,promiseID:this.props.promiseID});else return b("React").createElement(i,null)}.bind(this),variables:{gameID:this.props.gameID}})};function a(){g.apply(this,arguments)}e.exports=c(a,{context:function(){return b("InstantGamesGameSwitchDialogContainer_context.graphql")}})}),null);
__d("InstantGamesIAPOperations",["RelayModern","InstantGamesIAPOperations_FetchCatalogQuery.graphql","InstantGamesIAPOperations_FetchProductQuery.graphql","InstantGamesIAPOperations_FetchPurchasesQuery.graphql","InstantGamesIAPOperations_ConsumePurchaseMutation.graphql","InstantGamesIAPOperations_ProductFragment.graphql","InstantGamesIAPOperations_PurchaseFragment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;a=function(){return b("InstantGamesIAPOperations_FetchCatalogQuery.graphql")};c=function(){return b("InstantGamesIAPOperations_FetchProductQuery.graphql")};d=function(){return b("InstantGamesIAPOperations_FetchPurchasesQuery.graphql")};f=function(){return b("InstantGamesIAPOperations_ConsumePurchaseMutation.graphql")};({ProductFragment:function(){return b("InstantGamesIAPOperations_ProductFragment.graphql")}});({PurchaseFragment:function(){return b("InstantGamesIAPOperations_PurchaseFragment.graphql")}});e.exports={ConsumePurchaseMutation:f,FetchCatalogQuery:a,FetchProductQuery:c,FetchPurchasesQuery:d}}),null);
__d("InstantGamesIAP",["Promise","GamesQuicksilverError","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesIAPOperations","RelayFBEnvironment","RelayModern","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("InstantGamesCrossSiteUtils").PlatformDialogClient,h=b("InstantGamesIAPOperations").ConsumePurchaseMutation,i=b("InstantGamesIAPOperations").FetchCatalogQuery,j=b("InstantGamesIAPOperations").FetchProductQuery,k=b("InstantGamesIAPOperations").FetchPurchasesQuery,l=b("RelayModern").commitMutation,m=b("RelayModern").fetchQuery;a={fetchCatalog:function(a){return m(b("RelayFBEnvironment"),i,{game_id:a})["catch"](function(){return b("Promise").reject(new(b("GamesQuicksilverError"))("Request failed to be processed").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}).then(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.productInventory)!=null?a.catalog:a:a:a}).then(function(a){return!Array.isArray(a)?b("Promise").reject(new(b("GamesQuicksilverError"))("Failed to fetch catalog")):a.map(function(a){var b,c;c=(c=a)!=null?c.localPrice:c;return!c?null:{productID:(b=a)!=null?b.productID:b,title:(b=a)!=null?b.title:b,description:(b=a)!=null?b.description:b,imageURI:(b=a)!=null?b.imageURI:b,price:(a=c)!=null?a.formattedAmount:a,priceCurrencyCode:(b=c)!=null?b.currency:b}}).filter(Boolean)})},fetchPurchases:function(a){return m(b("RelayFBEnvironment"),k,{game_id:a})["catch"](function(){return b("Promise").reject(new(b("GamesQuicksilverError"))("Request failed to be processed").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}).then(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.productInventory)!=null?a.purchases:a:a:a}).then(function(a){return!Array.isArray(a)?b("Promise").reject(new(b("GamesQuicksilverError"))("Failed to fetch purchases")):a.map(function(a){var b,c;c=(c=a)!=null?c.product:c;return{isConsumed:(b=a)!=null?b.isConsumed:b,paymentID:(b=a)!=null?b.paymentID:b,productID:(b=c)!=null?b.productID:b,purchaseTime:(c=a)!=null?c.purchaseTime:c,purchaseToken:(b=a)!=null?b.token:b,signedRequest:(c=a)!=null?c.signedRequest:c,developerPayload:(b=a)!=null?b.developerPayload:b}})})},consumePurchase:function(a,c){return new(b("Promise"))(function(d,e){l(b("RelayFBEnvironment"),{mutation:h,variables:{input:{game_id:a,purchase_token:c}},onCompleted:function(a){return d(a)},onError:function(a){return e(a)}})}).then(function(a){return(a=a)!=null?(a=a.consumedPurchase)!=null?a.purchase:a:a}).then(function(a){return!a?b("Promise").reject(new(b("GamesQuicksilverError"))("Failed to consume purchase")):null})["catch"](function(){return b("Promise").reject(new(b("GamesQuicksilverError"))("Request failed to be processed").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))})},purchaseProduct:function(a,c,d){__p&&__p();return m(b("RelayFBEnvironment"),j,{game_id:a,product_id:c})["catch"](function(){return b("Promise").reject(new(b("GamesQuicksilverError"))("Request failed to be processed").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}).then(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.productInventory)!=null?a.product:a:a:a}).then(function(c){__p&&__p();var e,f;f=(f=c)!=null?f.localPrice:f;var h={action:"instantgameiap",app_id:a,currency_code:(e=f)!=null?e.currency:e,description:((e=c)!=null?e.description:e)||"",developer_payload:d,display:"async",image_url:((e=c)!=null?e.imageURI:e)||"",price:(e=f)!=null?e.amount:e,product:(f=c)!=null?f.productID:f,title:(e=c)!=null?e.title:e,quantity:1};if(!c)return b("Promise").reject(new(b("GamesQuicksilverError"))("Invalid product ID provided").setCode(b("InstantGamesErrorCode").INVALID_PARAM));if(!h.price||!h.currency_code)return b("Promise").reject(new(b("GamesQuicksilverError"))("Invalid price").setCode(b("InstantGamesErrorCode").INVALID_PARAM));e=(f=c)!=null?f.isPurchaseable:f;return!e?b("Promise").reject(new(b("GamesQuicksilverError"))("Product not purchaseable")):new(b("Promise"))(function(a,c){__p&&__p();g.async("instant_games_payment",h,function(d){__p&&__p();var e,f,g,h,i,j;j=(j=d)!=null?j.error_code:j;i=(i=d)!=null?i.error_message:i;h=(h=d)!=null?h.payment_id:h;g=(g=d)!=null?g.product_id:g;f=(f=d)!=null?f.purchase_token:f;e=(e=d)!=null?e.signed_request:e;if(j||!h||!g||!f||!e){c(new(b("GamesQuicksilverError"))(i).setCode(j||b("InstantGamesErrorCode").UNKNOWN));return}a({isConsumed:((i=d)!=null?i.is_consumed:i)||!1,paymentID:h,productID:g,purchaseTime:((j=d)!=null?j.purchase_time:j)||0,purchaseToken:f,signedRequest:e,developerPayload:((i=d)!=null?i.developer_payload:i)||""})})})})}};e.exports=a}),null);
__d("InstantGamesIAPCompletionDialog.react",["cx","fbt","AnimatedSlideInFromBottom.react","FullSizeVerticalScrollView.react","InstantGamesButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isMounted:!1},b}a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.render=function(){return b("React").createElement("div",{className:"_6dcz"},b("React").createElement("div",{className:"_6dc-"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"25%",translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:"_6dc_"},b("React").createElement("div",{className:"_6dd0"},h._("Purchase complete! Your item will appear when you restart the game.")),b("React").createElement("div",{className:"_6dd1"},b("React").createElement(b("InstantGamesButton.react"),{className:"_6dd4 _6dd5",label:"Restart",onClick:this.props.onRestart,title:h._("Restart Now")}),b("React").createElement(b("InstantGamesButton.react"),{className:"_6dd4 _6dd6",label:"Continue",onClick:this.props.onContinue,title:h._("Keep Playing")})))))))};e.exports=a}),null);
__d("InstantGamesInventoryOperations",["RelayModern","InstantGamesInventoryOperations_FetchInventoryQuery.graphql","InstantGamesInventoryOperations_AddStickerMutation.graphql","InstantGamesInventoryOperations_MarkUnlockableItemMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesInventoryOperations_FetchInventoryQuery.graphql")};c=function(){return b("InstantGamesInventoryOperations_AddStickerMutation.graphql")};d=function(){return b("InstantGamesInventoryOperations_MarkUnlockableItemMutation.graphql")};e.exports={FetchInventoryQuery:a,AddStickerMutation:c,MarkUnlockableItemMutation:d}}),null);
__d("InstantGamesInventory",["Promise","GamesQuicksilverError","InstantGamesErrorCode","InstantGamesInventoryOperations","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("InstantGamesInventoryOperations").FetchInventoryQuery,h=b("RelayModern").fetchQuery;a={fetchInventory:function(a,c){return h(b("RelayFBEnvironment"),g,{game_id:a,unlockable_item_name:c})["catch"](function(){return b("Promise").reject(new(b("GamesQuicksilverError"))("Failed to fetch unlockable item details").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))}).then(function(a){var c;c=(c=a)!=null?(c=c.viewer)!=null?(c=c.instant_games_achievements_inventory)!=null?(c=c.unlockable_item)!=null?c.unlockable_item_id:c:c:c:c;a=(a=a)!=null?(a=a.viewer)!=null?(a=a.instant_games_achievements_inventory)!=null?(a=a.unlockable_item)!=null?(a=a.extra_data)!=null?a.id:a:a:a:a:a;return!c||!a?b("Promise").reject(new(b("GamesQuicksilverError"))("The unlockable item you are trying to unlock is not available").setCode(b("InstantGamesErrorCode").INVALID_PARAM)):{unlockableItemID:c,stickerID:a}})}};e.exports=a}),null);
__d("InstantGamesInventoryDialog.react",["cx","fbt","AnimatedSlideInFromBottom.react","ClientIDs","FullSizeVerticalScrollView.react","GamesQuicksilverError","Image.react","InstantGamesButton.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesInventoryOperations","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ClientIDs").getNewClientID,k=b("InstantGamesCrossSiteUtils").EventHandler,l=b("InstantGamesCrossSiteUtils").LoadingSpinner,m=b("InstantGamesInventoryOperations").AddStickerMutation,n=b("InstantGamesInventoryOperations").MarkUnlockableItemMutation,o=b("RelayModern").commitMutation;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={clicked:!1,isMounted:!1},this.$1=function(){k.inform("instant_games_close_fb_ui");this.setState({clicked:!0});var a={downloaded:!1};this.props.messageSender.resolveGamePromise(this.props.promiseID,a)}.bind(this),this.$2=function(){__p&&__p();this.setState({clicked:!0});var a={};a.actor_id=b("RelayAPIConfig").actorID;a.client_mutation_id=j();a.pack_id=this.props.stickerID;o(b("RelayFBEnvironment"),{mutation:m,variables:{input:a},onCompleted:function(){this.$3("UNLOCK");k.inform("instant_games_close_fb_ui");var a={downloaded:!0};this.props.messageSender.resolveGamePromise(this.props.promiseID,a)}.bind(this),onError:function(){this.$3("RESET_UNLOCKABLE");k.inform("instant_games_close_fb_ui");var a=new(b("GamesQuicksilverError"))("Experienced an unknown error while downloading the sticker pack").setCode(b("InstantGamesErrorCode").UNKNOWN);this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this)})}.bind(this),c}a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.$3=function(a){__p&&__p();var c={};c.actor_id=b("RelayAPIConfig").actorID;c.client_mutation_id=j();c.unlockable_item_id=[this.props.unlockableItemID];c.game_id=this.props.gameID;c.action_type=a;o(b("RelayFBEnvironment"),{mutation:n,variables:{input:c},onCompleted:function(){k.inform("instant_games_close_fb_ui"),this.props.messageSender.resolveGamePromise(this.props.promiseID)}.bind(this),onError:function(){k.inform("instant_games_close_fb_ui");var c=new(b("GamesQuicksilverError"))("Fail to unlock unlockable item").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);a==="UNLOCK"&&this.props.messageSender.rejectGamePromise(this.props.promiseID,c)}.bind(this)})};a.prototype.render=function(){return b("React").createElement("div",{className:"_16ti"},b("React").createElement("div",{className:"_16tj"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"50%",translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:b("joinClasses")("_16tl","_2bz0")},this.props.gameIcon!==null?b("React").createElement(b("Image.react"),{className:"_1p_9",src:this.props.gameIcon}):null,b("React").createElement("div",{className:"_l7b"},h._("Download {game-name} Sticker Pack?",[h._param("game-name",this.props.gameName)])),b("React").createElement("div",{className:"_1nt5"},h._("This game's sticker pack will be saved in your sticker library in messenger.")),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Cancel",labelIsHidden:!0,onClick:this.$1,title:h._("Cancel")}),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Allow",labelIsHidden:!0,onClick:this.$2,title:h._("Download")}),b("React").createElement(l,{className:"_swn"+(this.state.clicked?"":" _swm"),size:"large"}))))))};e.exports=a}),null);
__d("InstantGamesLoadingCardContent.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("React").createElement("div",{className:a.className},g._("{percent loaded}\u0025 Loaded",[g._param("percent loaded",a.progress)]))};e.exports=a}),null);
__d("InstantGamesStartPlayButton.react",["cx","fbt","InstantGamesButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.title||h._("Play Now");return b("React").createElement(b("InstantGamesButton.react"),{className:this.props.className?this.props.className:"_bf8",label:a,labelIsHidden:!0,onClick:this.props.onClick,title:a})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesLoadingViewFooter.react",["ix","cx","FunnelLogger","Image.react","InstantGamesCrossSiteUtils","InstantGamesFunnelEvent","InstantGamesStartPlayButton.react","LinkshimHandlerConfig","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("InstantGamesCrossSiteUtils").Link;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.grantPermissions(this.props.privacyNotice.permissions)}.bind(this),b}a.prototype.componentDidMount=function(){b("FunnelLogger").appendAction(this.props.funnelName,b("InstantGamesFunnelEvent").PRIVACY_INFO_SHOW)};a.prototype.render=function(){var a,c=this.props.privacyUrl;a=(a=this.props.privacyNotice)!=null?(a=a.description)!=null?a.text:a:a;return b("React").createElement("div",{className:"_1xyg"},b("React").createElement("div",{className:"_36n_"},a),c!=null?b("React").createElement("div",{className:"_7852"},b("React").createElement("div",{className:"_7853"},this.props.developerPrivacyNotice),b("React").createElement("div",{className:"_7854"},b("React").createElement(j,{href:{url:c,shimhash:b("LinkshimHandlerConfig").link_react_default_hash},target:"_blank"},b("React").createElement(b("Image.react"),{src:g("764750")})))):null,b("React").createElement(b("InstantGamesStartPlayButton.react"),{className:"_1xxs",onClick:this.$1,title:this.props.buttonTitle}))};e.exports=a}),null);
__d("InstantGamesLoadingView.react",["cx","CssBackgroundImage.react","InstantGamesLoadingCardContent.react","InstantGamesLoadingViewFooter.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_3ha3"},b("React").createElement("div",{className:b("gkx")("676900")?"_68x5":"_3ha4"},b("React").createElement("div",{className:"_3ha9"},b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center",className:"_3haa",height:96,imageURI:this.props.iconURI||"",width:96}),this.props.canStart||!b("gkx")("676894")?b("React").createElement("div",{className:"_3hab"+(this.props.progress!==100?" _2weo":"")}):null),this.props.canStart||!b("gkx")("676894")?b("React").createElement(b("InstantGamesLoadingCardContent.react"),{className:"_3hdb",progress:this.props.progress}):null,this.props.canStart||!b("gkx")("676894")?b("React").createElement("div",{className:"_3hdn"},this.props.socialContext):null),this.props.privacyNotice?b("React").createElement(b("InstantGamesLoadingViewFooter.react"),{buttonTitle:this.props.buttonTitle,developerPrivacyNotice:this.props.developerPrivacyNotice,funnelName:this.props.funnelName,grantPermissions:this.props.grantPermissions,privacyNotice:this.props.privacyNotice,privacyUrl:this.props.privacyUrl}):null)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesRelayPermissions",["RelayModern","InstantGamesRelayPermissions_GrantPermissionsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;a=function(){return b("InstantGamesRelayPermissions_GrantPermissionsMutation.graphql")};e.exports={GrantPermissionsMutation:a}}),null);
__d("Interactive360CTA",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getButtonMessageFromType:function(a){switch(a){case"VIEW_NOW":return g._("View Now");case"TAKE_THE_TOUR":return g._("Take the Tour")}return null}};e.exports=a}),null);
__d("InstantGamesLoadingScreen.react",["cx","ClientIDs","FunnelLogger","InstantGamesCrossSiteUtils","InstantGamesFunnelEvent","InstantGamesGameState","InstantGamesLoadingView.react","InstantGamesRelayPermissions","Interactive360CTA","React","RelayAPIConfig","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ClientIDs").getNewClientID,j=b("InstantGamesCrossSiteUtils").IsMobile,k=b("InstantGamesCrossSiteUtils").ResizeToFullScreen,l=b("InstantGamesRelayPermissions").GrantPermissionsMutation,m=b("RelayModern").MutationTypes,n=b("RelayModern").commitMutation;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={canStart:this.$1()},this.$2=function(a){if(this.state.canStart)return;a=a.map(function(a){return a.permission});n(this.props.relay.environment,{mutation:l,variables:{input:{actor_id:b("RelayAPIConfig").actorID,app_id:this.props.gameInfo.gameID,client_mutation_id:i(),grant_permissions:a},configs:[{type:m.FIELDS_CHANGE,fieldIDs:{userScope:this.props.userScope.id}}]}});b("FunnelLogger").appendAction(this.props.funnelName,b("InstantGamesFunnelEvent").PRIVACY_INFO_GRANT_PERMISSIONS);this.$3()}.bind(this),c}a.prototype.UNSAFE_componentWillUpdate=function(a,c){a.gameState===b("InstantGamesGameState").READY&&c.canStart&&this.props.onStart()};a.prototype.$1=function(){var a;a=(a=this.props)!=null?(a=a.userScope)!=null?a.privacyNotice:a:a;return!a||a.permissions.length===0};a.prototype.$3=function(){j()&&k(),this.setState({canStart:!0})};a.prototype.render=function(){var a=this.props.gameInfo,c=a.description,d=a.iconURI,e=a.interactive360;a=a.socialContext;this.state.canStart&&this.props.onTos();e=e?b("Interactive360CTA").getButtonMessageFromType(e.cta):null;var f=this.props.userScope.privacyNotice;return b("React").createElement("div",{className:"_t9_"},b("React").createElement(b("InstantGamesLoadingView.react"),{buttonTitle:e,canStart:this.state.canStart,developerPrivacyNotice:this.props.gameInfo.developerPrivacyNotice,funnelName:this.props.funnelName,gameDescription:c||"",grantPermissions:this.$2,iconURI:d||"",privacyNotice:f,privacyUrl:this.props.privacyUrl,progress:this.props.progress,socialContext:a}))};e.exports=a}),null);
__d("InstantGamesLoadingScreenContainer.react",["InstantGamesLoadingScreen.react","RelayModern","InstantGamesLoadingScreenContainer_userScope.graphql"],(function(a,b,c,d,e,f){"use strict";a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=a(b("InstantGamesLoadingScreen.react"),{userScope:function(){return b("InstantGamesLoadingScreenContainer_userScope.graphql")}});e.exports=c}),null);
__d("InstantGamesMatchPlayerBannerView.react",["cx","Image.react","InstantGamesCrossSiteUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("InstantGamesCrossSiteUtils").Link;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_r0b"},b("React").createElement("div",{className:"_3r5p"},b("React").createElement(b("Image.react"),{className:"_r0d",src:this.props.playerPhoto}),b("React").createElement("div",{className:"_3r6y"},this.props.bannerText)),b("React").createElement(i,{className:"_3r6z",onClick:this.props.onClick},this.props.buttonText))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesMatchPlayerOperations",["RelayModern","InstantGamesMatchPlayerOperations_OfflineMatchMutation.graphql","InstantGamesMatchPlayerOperations_JoinQueueMutation.graphql","InstantGamesMatchPlayerOperations_LeaveQueueMutation.graphql","InstantGamesMatchPlayerOperations_PollQueueStatusMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;a=function(){return b("InstantGamesMatchPlayerOperations_OfflineMatchMutation.graphql")};c=function(){return b("InstantGamesMatchPlayerOperations_JoinQueueMutation.graphql")};d=function(){return b("InstantGamesMatchPlayerOperations_LeaveQueueMutation.graphql")};f=function(){return b("InstantGamesMatchPlayerOperations_PollQueueStatusMutation.graphql")};e.exports={JoinQueueMutation:c,LeaveQueueMutation:d,OfflineMatchMutation:a,PollQueueStatusMutation:f}}),null);
__d("InstantGamesMatchPlayersEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASYNC_JOB_STARTED:"async_job_started",ASYNC_JOB_EXECUTE_EXCEPTION_CAUGHT:"async_job_execute_exception_caught",CANCEL_FAILED:"cancel_failed",CANCEL_SUCCESS:"cancel_success",DAILY_LIMIT_HIT:"daily_limit_hit",DIALOG_DISMISSED:"dialog_dismissed",DIALOG_SHOWN:"dialog_shown",GAME_PLAYED_FROM_MATCHED_THREAD:"game_played_from_matched_thread",JOIN_FAILED:"join_failed",JOIN_SUCCESS:"join_success",MATCH_FOUND:"match_found",MATCH_FOUND_VIEW_SHOWN:"match_found_view_shown",MATCH_FOUND_VIEW_TIMED_OUT:"match_found_view_timed_out",MATCHING_V2_STARTED:"matching_v2_started",PLAY_BUTTON_CLICKED:"play_button_clicked",PLAYERS_MATCHED:"players_matched",PLAYERS_MATCHED_DARK_LAUNCH:"players_matched_dark_launch",PLAYERS_MATCHED_NO_THREAD:"players_matched_no_thread",POLL_FAILED:"poll_failed",POLL_SUCCESS:"poll_success",QUEUE_FULL:"queue_full",QUEUE_FAILED:"queue_failed",RETRY_CANCEL_BUTTON_CLICKED:"retry_cancel_button_clicked",RETRY_START_BUTTON_CLICKED:"retry_start_button_clicked",RETRY_TIMED_OUT:"retry_timed_out",RETRY_VIEW_SHOWN:"retry_view_shown",SDK_MESSAGE_RECEIVED:"sdk_message_received",SEARCH_BUTTON_CLICKED:"search_button_clicked",SEARCH_CANCELLED:"search_cancelled",SEARCH_VIEW_SHOWN:"search_view_shown",SENDING_JOIN_REQUEST:"sending_join_request",THREAD_MADE_QUEUE_UPDATE_FAILED:"thread_made_queue_update_failed",UPDATE_CONTEXT_TOKEN_TO_PLAYER_EDGE_FAILED:"update_context_token_to_player_edge_failed",UPDATE_GROUP_THREAD_TO_GAME_EDGE_FAILED:"update_group_thread_to_game_edge_failed",WAITING_FOR_PLAYERS:"waiting_for_players",WEEKLY_LIMIT_HIT:"weekly_limit_hit"})}),null);
__d("InstantGamesMatchPlayerBannerContainer.react",["fbt","Promise","ClientIDs","InstantGamesMatchPlayerBannerView.react","InstantGamesMatchPlayerOperations","InstantGamesMatchPlayersEvent","InstantGamesMatchPlayersQueueTypedLogger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ClientIDs").getNewClientID,j=b("InstantGamesMatchPlayerOperations").JoinQueueMutation,k=b("InstantGamesMatchPlayerOperations").LeaveQueueMutation,l=b("InstantGamesMatchPlayerOperations").PollQueueStatusMutation,m=b("RelayModern").commitMutation,n={SEARCHING:"searching",PENDING_RETRY:"pending_retry",MATCH_FOUND:"match_found"};c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={cancelAttempted:!1,contextInfo:null,queueID:null,matchState:n.SEARCHING},this.$2=10,this.$5=3e4,this.$7=5e3,this.$16=function(){if(this.state.matchState!==n.PENDING_RETRY)return;this.$8(b("InstantGamesMatchPlayersEvent").RETRY_TIMED_OUT);this.props.onCancel()}.bind(this),this.$17=function(){this.$8(b("InstantGamesMatchPlayersEvent").RETRY_START_BUTTON_CLICKED),this.setState({matchState:n.SEARCHING}),b("clearTimeout")(this.$4),this.$11(0)}.bind(this),this.$14=function(){if(this.state.contextInfo!==null){this.props.onSwitchContext(this.state.contextInfo);if(this.props.switchContextWhenMatched){this.$8(b("InstantGamesMatchPlayersEvent").MATCH_FOUND_VIEW_TIMED_OUT);return}this.$8(b("InstantGamesMatchPlayersEvent").PLAY_BUTTON_CLICKED)}}.bind(this),this.$18=function(){if(this.state.cancelAttempted)return;this.$8(b("InstantGamesMatchPlayersEvent").SEARCH_CANCELLED);this.setState({cancelAttempted:!0},function(){this.$15()}.bind(this))}.bind(this),c}a.prototype.$8=function(a){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(a).setQueueID(this.state.queueID).setWaitTime(this.$9()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log()};a.prototype.$10=function(a,c){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(a).setWaitTime(this.$9()).setAppID(this.props.gameID).setErrorMessage(c).setMatchTag(this.props.matchTag).log()};a.prototype.$11=function(a){__p&&__p();if(this.state.cancelAttempted)return;if(a===this.$2){this.$12();return}var c={actor_id:b("RelayAPIConfig").actorID,game:this.props.gameID,client_mutation_id:i(),matching_key:this.props.matchTag};new(b("Promise"))(function(a,d){m(b("RelayFBEnvironment"),{mutation:j,variables:{input:c},onCompleted:function(b){return a(b)},onError:function(a){return d(a)}})}).then(function(c){if(this.state.cancelAttempted)return;c=c.joinQueue.instant_games_match_players_queue.id;if(!c){this.$11(a+1);return}this.setState({queueID:c},this.$8(b("InstantGamesMatchPlayersEvent").JOIN_SUCCESS));this.$3=setInterval(this.$13.bind(this),3e3)}.bind(this))["catch"](function(c){if(this.state.cancelAttempted)return;this.$10(b("InstantGamesMatchPlayersEvent").JOIN_FAILED,c.massage);this.$11(a+1)}.bind(this))};a.prototype.$13=function(){__p&&__p();var a={actor_id:b("RelayAPIConfig").actorID,client_mutation_id:i(),instant_games_match_players_queue_id:this.state.queueID};if(!this.state.queueID||this.state.cancelAttempted){clearInterval(this.$3);return}new(b("Promise"))(function(c,d){m(b("RelayFBEnvironment"),{mutation:l,variables:{input:a},onCompleted:function(a){return c(a)},onError:function(a){return d(a)}})}).then(function(a){__p&&__p();if(this.state.cancelAttempted){clearInterval(this.$3);return}a=a.pollQueue.instant_games_match_players_queue;var c=a.queueStatus;new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").POLL_SUCCESS).setQueueID(this.state.queueID).setWaitTime(this.$9()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setQueueStatus(c.toLowerCase()).log();if(c==="FAILED"){this.$8(b("InstantGamesMatchPlayersEvent").QUEUE_FAILED);clearInterval(this.$3);this.$12();return}if(c==="FULL"){this.$8(b("InstantGamesMatchPlayersEvent").QUEUE_FULL);clearInterval(this.$3);c=a.contextToken;if(!c){this.$12();return}new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").MATCH_FOUND).setQueueID(this.state.queueID).setWaitTime(this.$9()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setContextID(c.id).setThreadID(c.contextSourceID).setThreadSize(c.contextSize).log();this.props.switchContextWhenMatched&&(this.$6=b("setTimeout")(this.$14,this.$7));this.$8(b("InstantGamesMatchPlayersEvent").MATCH_FOUND_VIEW_SHOWN);this.setState({contextInfo:{id:c.contextSourceID,type:c.contextType},matchState:n.MATCH_FOUND})}}.bind(this))["catch"](function(a){if(this.state.cancelAttempted){clearInterval(this.$3);return}this.$10(b("InstantGamesMatchPlayersEvent").POLL_FAILED,a.message)}.bind(this))};a.prototype.$15=function(){__p&&__p();clearInterval(this.$3);if(!this.state.queueID){this.props.onCancel();return}var a={};a.actor_id=b("RelayAPIConfig").actorID;a.client_mutation_id=i();a.instant_games_match_players_queue_id=this.state.queueID;b("promiseDone")(new(b("Promise"))(function(c,d){m(b("RelayFBEnvironment"),{mutation:k,variables:{input:a},onCompleted:function(a){return c(a)},onError:function(a){return d(a)}})}).then(function(a){this.$8(b("InstantGamesMatchPlayersEvent").CANCEL_SUCCESS)}.bind(this))["catch"](function(a){this.$10(b("InstantGamesMatchPlayersEvent").CANCEL_FAILED,a.message)}.bind(this)).then(this.props.onCancel))};a.prototype.$12=function(){this.$8(b("InstantGamesMatchPlayersEvent").RETRY_VIEW_SHOWN),this.$4=b("setTimeout")(this.$16,this.$5),this.setState({queueID:null,matchState:n.PENDING_RETRY})};a.prototype.$9=function(){return Math.floor(Date.now()/1e3)-this.$1};a.prototype.componentDidMount=function(){this.$1=Math.floor(Date.now()/1e3),this.$11(0)};a.prototype.componentWillUnmount=function(){if(this.state.matchState===n.MATCH_FOUND||this.state.cancelAttempted)return;this.$15()};a.prototype.render=function(){__p&&__p();var a=null,c=null,d=null;switch(this.state.matchState){case n.SEARCHING:a=this.props.bannerSearchText;c=g._("Cancel");d=this.$18;break;case n.PENDING_RETRY:a=this.props.bannerRetryText;c=g._("Try Again");d=this.$17;break;case n.MATCH_FOUND:a=this.props.bannerMatchFoundText;this.props.switchContextWhenMatched||(c=g._("Play"),d=this.$14);break}return b("React").createElement(b("InstantGamesMatchPlayerBannerView.react"),{bannerText:a,buttonText:c,onClick:d,playerPhoto:this.props.playerPhoto})};e.exports=a}),null);
__d("InstantGamesOfflineMatchStatusType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"SUCCESS",FAILED:"FAILED",USER_ALREADY_IN_THREAD:"USER_ALREADY_IN_THREAD"})}),null);
__d("InstantGamesMatchPlayerDialog.react",["cx","fbt","Promise","AnimatedSlideInFromBottom.react","ClientIDs","FullSizeVerticalScrollView.react","GamesQuicksilverError","Image.react","InstantGamesButton.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesMatchPlayerOperations","InstantGamesMatchPlayersConfig","InstantGamesMatchPlayersEvent","InstantGamesMatchPlayersQueueTypedLogger","InstantGamesOfflineMatchStatusType","QE2Logger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ClientIDs").getNewClientID,k=b("InstantGamesCrossSiteUtils").CloseButton,l=b("InstantGamesCrossSiteUtils").EventHandler,m=b("InstantGamesCrossSiteUtils").LoadingSpinner,n=b("InstantGamesMatchPlayerOperations").JoinQueueMutation,o=b("InstantGamesMatchPlayerOperations").LeaveQueueMutation,p=b("InstantGamesMatchPlayerOperations").OfflineMatchMutation,q=b("InstantGamesMatchPlayerOperations").PollQueueStatusMutation,r=b("RelayModern").commitMutation;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={clicked:!1,completed:!1,isMounted:!1,queueID:null,retry:!1,userAlreayInThread:!1},this.$1=10,this.$2=0,this.$3=0,this.$6=function(){__p&&__p();new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(this.state.retry?b("InstantGamesMatchPlayersEvent").RETRY_CANCEL_BUTTON_CLICKED:this.state.clicked?b("InstantGamesMatchPlayersEvent").SEARCH_CANCELLED:b("InstantGamesMatchPlayersEvent").DIALOG_DISMISSED).setQueueID(this.state.queueID).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setWaitTime(this.$7()).log();clearInterval(this.$4);if(!this.state.queueID){var a=new(b("GamesQuicksilverError"))("Player closed the matching dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);this.setState({completed:!0},function(){return l.inform("instant_games_close_fb_ui")});this.props.messageSender.rejectGamePromise(this.props.promiseID,a);return}var c={};c.actor_id=b("RelayAPIConfig").actorID;c.client_mutation_id=j();c.instant_games_match_players_queue_id=this.state.queueID;new(b("Promise"))(function(a,d){r(b("RelayFBEnvironment"),{mutation:o,variables:{input:c},onCompleted:function(b){return a(b)},onError:function(a){return d(a)}})}).then(function(a){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").CANCEL_SUCCESS).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log();a=new(b("GamesQuicksilverError"))("Player closed the matching dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);l.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this))["catch"](function(a){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").CANCEL_FAILED).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setErrorMessage(a.message).log();a=new(b("GamesQuicksilverError"))("Player closed the matching dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);l.inform("instant_games_close_fb_ui");this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this))}.bind(this),this.$8=function(){!this.retry&&!this.state.clicked&&(this.$5=Math.floor(Date.now()/1e3)),new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(this.state.retry?b("InstantGamesMatchPlayersEvent").RETRY_START_BUTTON_CLICKED:b("InstantGamesMatchPlayersEvent").SEARCH_BUTTON_CLICKED).setQueueID(this.state.queueID).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setWaitTime(this.$7()).log(),this.props.offlineMatch?this.setState({clicked:!0,retry:!1},this.$9()):this.setState({clicked:!0,retry:!1},this.$10(0))}.bind(this),c}a.prototype.componentDidMount=function(){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").DIALOG_SHOWN).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log(),b("QE2Logger").logExposureForUser("instant_games_match_players"),this.$3=b("InstantGamesMatchPlayersConfig").web_instant_games_match_player_retry_times_limit,this.setState({isMounted:!0})};a.prototype.componentWillUnmount=function(){clearInterval(this.$4),this.state.completed||this.$6()};a.prototype.$9=function(){__p&&__p();if(this.state.completed)return;var a={};a.actor_id=b("RelayAPIConfig").actorID;a.app_id=this.props.gameID;a.client_mutation_id=j();a.match_tag=this.props.matchTag;new(b("Promise"))(function(c,d){r(b("RelayFBEnvironment"),{mutation:p,variables:{input:a},onCompleted:function(a){return c(a)},onError:function(a){return d(a)}})}).then(function(a){__p&&__p();var c=a.offlineMatch.match_status;if(c===b("InstantGamesOfflineMatchStatusType").SUCCESS){clearInterval(this.$4);var d=a.offlineMatch.context_token.context_source_id;a=a.offlineMatch.context_token.context_type;if(!d||!a)return;this.setState({completed:!0},function(){return l.inform("instant_games_close_fb_ui")});this.props.onSwitchContext({id:d,promiseID:this.props.promiseID,type:a})}c===b("InstantGamesOfflineMatchStatusType").USER_ALREADY_IN_THREAD&&(clearInterval(this.$4),this.setState({userAlreayInThread:!0}));c===b("InstantGamesOfflineMatchStatusType").FAILED&&this.setState({retry:!0})}.bind(this))["catch"](function(a){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").JOIN_FAILED).setWaitTime(this.$7()).setAppID(this.props.gameID).setErrorMessage(a.message).setMatchTag(this.props.matchTag).log()}.bind(this))};a.prototype.$10=function(a){__p&&__p();if(this.state.completed)return;if(a===this.$1){this.setState({retry:!0});return}var c={};c.actor_id=b("RelayAPIConfig").actorID;c.game=this.props.gameID;c.client_mutation_id=j();c.matching_key=this.props.matchTag;new(b("Promise"))(function(a,d){r(b("RelayFBEnvironment"),{mutation:n,variables:{input:c},onCompleted:function(b){return a(b)},onError:function(a){return d(a)}})}).then(function(c){__p&&__p();c=c.joinQueue.instant_games_match_players_queue.id;if(this.state.completed)return;if(c){this.setState({queueID:c});new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").JOIN_SUCCESS).setQueueID(c).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log();this.$4=setInterval(this.$11.bind(this),3e3);return}this.$10(a+1)}.bind(this))["catch"](function(c){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").JOIN_FAILED).setWaitTime(this.$7()).setAppID(this.props.gameID).setErrorMessage(c.message).setMatchTag(this.props.matchTag).log(),this.$10(a+1)}.bind(this))};a.prototype.$7=function(){return Math.floor(Date.now()/1e3)-this.$5};a.prototype.$11=function(){__p&&__p();var a={};a.actor_id=b("RelayAPIConfig").actorID;a.client_mutation_id=j();a.instant_games_match_players_queue_id=this.state.queueID;if(!this.state.queueID){clearInterval(this.$4);return}new(b("Promise"))(function(c,d){r(b("RelayFBEnvironment"),{mutation:q,variables:{input:a},onCompleted:function(a){return c(a)},onError:function(a){return d(a)}})}).then(function(a){__p&&__p();a=a.pollQueue.instant_games_match_players_queue;var c=a.queueStatus;new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").POLL_SUCCESS).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setQueueStatus(c.toLowerCase()).log();if(c==="FAILED"){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").QUEUE_FAILED).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log();clearInterval(this.$4);if(this.$2>=this.$3){this.$2=0;this.setState({queueID:null,retry:!0});return}this.state.queueID!==null&&(this.$2++,this.setState({queueID:null},this.$10(0)))}if(c==="FULL"){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").QUEUE_FULL).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log();clearInterval(this.$4);c=a.contextToken;if(!c){if(this.$2>=this.$3){this.$2=0;this.setState({queueID:null,retry:!0});return}this.state.queueID!==null&&(this.$2++,this.setState({queueID:null},this.$10(0)));return}new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").MATCH_FOUND).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setContextID(c.id).setThreadID(c.contextSourceID).setThreadSize(c.contextSize).log();this.setState({completed:!0},function(){return l.inform("instant_games_close_fb_ui")});this.props.onSwitchContext({id:c.contextSourceID,promiseID:this.props.promiseID,type:c.contextType})}}.bind(this))["catch"](function(a){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").POLL_FAILED).setQueueID(this.state.queueID).setWaitTime(this.$7()).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setErrorMessage(a.message).log()}.bind(this))};a.prototype.render=function(){(this.state.clicked||this.state.retry)&&new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(this.state.retry?b("InstantGamesMatchPlayersEvent").RETRY_VIEW_SHOWN:b("InstantGamesMatchPlayersEvent").SEARCH_VIEW_SHOWN).setQueueID(this.state.queueID).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).setWaitTime(this.$7()).log();return b("React").createElement("div",{className:"_16ti"},b("React").createElement("div",{className:"_16tj"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"50%",translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:b("joinClasses")("_16tl","_2bz0")},this.props.gameIcon&&b("React").createElement(b("Image.react"),{className:"_1p_9",src:this.props.gameIcon}),b("React").createElement(k,{className:"_2bz2",onClick:this.$6,shade:"dark",size:"huge"}),this.props.dialogTitle&&!this.state.retry&&!this.state.clicked&&b("React").createElement("div",{className:"_l7b"},this.props.dialogTitle),this.state.userAlreayInThread?b("React").createElement("div",{className:"_31ys"},this.props.bannerUserAlreadyInThreadText):this.state.retry?b("React").createElement("div",{className:"_31ys"},this.props.bannerRetryText):this.state.clicked?b("React").createElement("div",{className:"_31ys"},h._("Searching")):b("React").createElement("div",{className:"_1nt5"},this.props.dialogTextLineOne),this.props.dialogTextLineTwo&&!this.state.retry&&!this.state.clicked&&b("React").createElement("div",{className:"_1nt5"},this.props.dialogTextLineTwo),!this.state.userAlreayInThread&&b("React").createElement(b("InstantGamesButton.react"),{className:"_2bz8"+(this.state.clicked&&!this.state.retry?" _2bz9":""),label:"Play",labelIsHidden:!0,onClick:this.$8,title:this.state.retry?h._("Try Again"):this.props.dialogButtonText?this.props.dialogButtonText:h._("Search")}),!this.state.userAlreayInThread&&b("React").createElement(m,{className:"_2bza"+(!this.state.clicked||this.state.retry?" _2bz9":""),size:"large"}))))))};e.exports=a}),null);
__d("InstantGamesMatchPlayerDialogV2.react",["ix","cx","Image.react","InstantGamesButton.react","InstantGamesMatchPlayersEvent","InstantGamesMatchPlayersQueueTypedLogger","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").DIALOG_SHOWN).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log()};a.prototype.render=function(){return b("React").createElement("div",{className:"_1j5x"},b("React").createElement("div",{className:"_1j5z"},b("React").createElement(b("Image.react"),{className:"_1j5_",onClick:this.props.onCancel,src:g("418439")})),b("React").createElement(b("Image.react"),{className:(this.props.isLandscape?"":"_1j60")+(this.props.isLandscape?" _17ir":""),src:"/images/games/instant_games/controllers.png"}),b("React").createElement(b("Image.react"),{className:(this.props.isLandscape?"":"_1j61")+(this.props.isLandscape?" _17is":""),src:this.props.gameIcon}),b("React").createElement("div",{className:"_1j62"},b("React").createElement("div",{className:"_1j63"},this.props.dialogTitle),b("React").createElement("div",{className:"_1j64"},this.props.dialogTextLineOne),b("React").createElement("div",{className:"_1j64"},this.props.dialogTextLineTwo)),b("React").createElement("div",null,b("React").createElement(b("InstantGamesButton.react"),{className:"_1j65",label:"Play",labelIsHidden:!0,onClick:this.props.onAccept,title:this.props.dialogButtonText||""})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesMatchPlayerContainer.react",["InstantGamesMatchPlayerBannerContainer.react","InstantGamesMatchPlayerDialog.react","InstantGamesMatchPlayerDialogV2.react","InstantGamesMatchPlayersEvent","InstantGamesMatchPlayersQueueTypedLogger","React","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={searching:!1},this.$1=function(){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").SEARCH_BUTTON_CLICKED).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log(),this.setState({searching:!0})}.bind(this),this.$2=function(){new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").DIALOG_DISMISSED).setAppID(this.props.gameID).setMatchTag(this.props.matchTag).log(),this.props.onCancel()}.bind(this),c}a.prototype.render=function(){if(!b("gkx")("676901")||!this.props.useV2)return b("React").createElement(b("InstantGamesMatchPlayerDialog.react"),{bannerRetryText:this.props.bannerRetryText,bannerUserAlreadyInThreadText:this.props.bannerUserAlreadyInThreadText,dialogTitle:this.props.dialogTitle,dialogTextLineOne:this.props.dialogTextLineOne,dialogTextLineTwo:this.props.dialogTextLineTwo,dialogButtonText:this.props.dialogButtonText,gameIcon:this.props.gameIcon,gameID:this.props.gameID,matchTag:this.props.matchTag,messageSender:this.props.messageSender,onSwitchContext:this.props.onSwitchContext,promiseID:this.props.promiseID,offlineMatch:this.props.offlineMatch});return!this.state.searching?b("React").createElement(b("InstantGamesMatchPlayerDialogV2.react"),{onAccept:this.$1,onCancel:this.$2,dialogButtonText:this.props.dialogButtonText,dialogTitle:this.props.dialogTitle,dialogTextLineOne:this.props.dialogTextLineOne,dialogTextLineTwo:this.props.dialogTextLineTwo,gameIcon:this.props.gameIcon,gameID:this.props.gameID,isLandscape:this.props.isLandscape,matchTag:this.props.matchTag}):b("React").createElement(b("InstantGamesMatchPlayerBannerContainer.react"),{bannerSearchText:this.props.bannerSearchText,bannerRetryText:this.props.bannerRetryText,bannerMatchFoundText:this.props.bannerMatchFoundText,gameID:this.props.gameID,matchTag:this.props.matchTag,onSwitchContext:function(a){a&&this.props.onSwitchContext({id:a.id,type:a.type,promiseID:this.props.promiseID})}.bind(this),onCancel:this.props.onCancel,playerPhoto:this.props.playerPhoto,switchContextWhenMatched:this.props.switchContextWhenMatched})};e.exports=a}),null);
__d("InstantGamesMessageListener",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=!1,this.$2=null,this.$4=a,this.$3=b}a.prototype.init=function(){"use strict";__p&&__p();if(this.$1)return;this.$2=function(a){if(a.data&&a.data.destination){if(a.data.destination!==this.$4)return;var b=a.data.type;if(!b)return;this.$3(b,a.data.content||null)}}.bind(this);window.addEventListener("message",this.$2,!1)};a.prototype.close=function(){"use strict";if(this.$1)return;this.$2&&window.removeEventListener("message",this.$2);this.$1=!0};e.exports=a}),null);
__d("InstantGamesPassThroughAgent",["Promise","ClientIDs","GamesQuicksilverError","InstantGamesErrorCode","InstantGamesSessionManager","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesPassThroughAgent_PassThroughMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=1e3,j=function(){return b("InstantGamesPassThroughAgent_PassThroughMutation.graphql")};function k(a){__p&&__p();var c={};c.actor_id=b("RelayAPIConfig").actorID;c.client_mutation_id=g();c.game_id=a.gameID;c.request=a.request;c.session_id=b("InstantGamesSessionManager").getSessionID();c.sdk_version=a.sdkVersion;var d={};d.mutation=j;var e=new Blob([a.data],{type:"text/plain"});e.size<i?c.data=a.data:d.uploadables={data_file:e};d.variables={input:c};return{mutation:d.mutation,uploadables:d.uploadables,variables:d.variables}}a={sendRequest:function(a){return new(b("Promise"))(function(c,d){return h(b("RelayFBEnvironment"),babelHelpers["extends"]({},k(a),{onCompleted:function(a){return c(a)},onError:function(a){return d(a)}}))}).then(function(a){a=(a=a)!=null?(a=a.passThrough)!=null?a.response:a:a;return!a?b("Promise").reject(new(b("GamesQuicksilverError"))("Invalid response from the server").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE)):b("Promise").resolve(a)})["catch"](function(a){return b("Promise").reject(new(b("GamesQuicksilverError"))("Request failed to be processed").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE))})}};e.exports=a}),null);
__d("InstantGamesSDKEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({API_CALL:"api_call",API_BEGIN_ASYNC:"api_begin_async",API_REJECT_ASYNC:"api_reject_async",API_RESOLVE_ASYNC:"api_resolve_async",PRE_GAME_START_API_CALL:"pre_game_start_api_call",NOT_TOSED:"not_tosed",PASSTHROUGH_REQUEST:"passthrough_request",TOSED:"tosed",UPDATE_POLICY:"update_policy"})}),null);
__d("InstantGamesSDKEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({API:"API",CLIENT:"CLIENT",SERVER:"SERVER"})}),null);
__d("InstantGamesSDKFeatures",[],(function(a,b,c,d,e,f){"use strict";a={FLEXIBLE:"flexible"};e.exports=a}),null);
__d("InstantGamesShareBanner.react",["ix","cx","fbt","Image.react","Link.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a;a="https://api.whatsapp.com/send?text="+(this.props.shareMessage!=null?this.props.shareMessage+" ":"")+"https://fb.gg/play/"+((a=this.props.appNamespace)!=null?a:(a=this.props.appID)!=null?a:"")+"/"+this.props.contextSourceID;return b("React").createElement("div",{className:"_6ooz"},b("React").createElement(b("Link.react"),{href:a,onClick:this.props.onShareButtonClick},b("React").createElement("div",{className:"_6o-s"},b("React").createElement("span",{className:"_3-8_"},b("React").createElement("span",{className:"_6o-t"},i._("SHARE IN WHATSAPP"))),b("React").createElement(b("Image.react"),{src:g("482855")}))),b("React").createElement("span",{className:"_6owv"}),b("React").createElement("span",{className:"_6oww"},b("React").createElement(b("Image.react"),{onClick:this.props.onCloseButtonClick,src:g("480714")})))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesSignedPlayerInfoFetcher",["Promise","ClientIDs","GamesQuicksilverError","InstantGamesErrorCode","InstantGamesPlayerMutations","RelayAPIConfig","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("InstantGamesPlayerMutations").GetSignedPlayerInfoMutation,i=b("RelayModern").commitMutation;a.prototype.fetchAsync=function(a,c){var d={actor_id:b("RelayAPIConfig").actorID,client_mutation_id:g(),game_id:a,request_payload:c};return new(b("Promise"))(function(a,c){i(b("RelayFBEnvironment"),{mutation:h,variables:{input:d},onCompleted:function(b){return a(b)},onError:function(a){return c(a)}})}).then(function(a){var b;return{playerID:(b=a)!=null?(b=b.signedPlayerInfo)!=null?b.playerID:b:b,signature:(b=a)!=null?(b=b.signedPlayerInfo)!=null?b.signedRequest:b:b}})["catch"](function(a){a=new(b("GamesQuicksilverError"))().setMessage("Failed to retrieve signed player information").setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);throw a})};function a(){}e.exports=new a()}),null);
__d("InstantGamesGameBotSubscriptionSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TOS_SCREEN:"tos_screen",IN_GAME_POPUP_UP:"in_game_popup_up",APP_SETTING:"app_setting",IN_GAME_CONTROL:"in_game_control"})}),null);
__d("InstantGamesSubscribeBotAsyncDialog.react",["cx","AnimatedSlideInFromBottom.react","FullSizeVerticalScrollView.react","GamesQuicksilverError","Image.react","InstantGamesButton.react","InstantGamesCrossSiteUtils","InstantGamesErrorCode","InstantGamesGameBotSubscriptionSource","React","RelayFBEnvironment","RelayModern","joinClasses","InstantGamesSubscribeBotAsyncDialogMutation.graphql","InstantGamesSubscribeBotAsyncDialog_botInfo.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("InstantGamesCrossSiteUtils").EventHandler,j=b("InstantGamesCrossSiteUtils").LoadingSpinner,k=b("RelayModern").commitMutation;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l=function(){return b("InstantGamesSubscribeBotAsyncDialogMutation.graphql")};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={clicked:!1,isMounted:!1},this.$1=function(){var a=new(b("GamesQuicksilverError"))("Player closed the subscribe bot async dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);k(b("RelayFBEnvironment"),{mutation:l,variables:{input:{game_id:this.props.gameID,subscribe:!1,source:b("InstantGamesGameBotSubscriptionSource").IN_GAME_POPUP_UP}}});i.inform("instant_games_close_fb_ui");this.setState({clicked:!0});this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this),this.$2=function(){this.setState({clicked:!0}),k(b("RelayFBEnvironment"),{mutation:l,variables:{input:{game_id:this.props.gameID,subscribe:!0,source:b("InstantGamesGameBotSubscriptionSource").IN_GAME_POPUP_UP}},onCompleted:function(){i.inform("instant_games_close_fb_ui"),this.props.messageSender.resolveGamePromise(this.props.promiseID)}.bind(this),onError:function(){i.inform("instant_games_close_fb_ui");var a=new(b("GamesQuicksilverError"))("Experienced an unknown error while subscribing the player").setCode(b("InstantGamesErrorCode").UNKNOWN);this.props.messageSender.rejectGamePromise(this.props.promiseID,a)}.bind(this)})}.bind(this),c}a.prototype.componentDidMount=function(){this.setState({isMounted:!0})};a.prototype.render=function(){var a,c,d,e;e=(e=this.props.botInfo)!=null?(e=e.opt_in_dialog_privacy_text)!=null?e.text:e:e;d=(d=this.props.botInfo)!=null?(d=d.opt_in_dialog_confirm_button_text)!=null?d.text:d:d;c=(c=this.props.botInfo)!=null?(c=c.opt_in_dialog_decline_button_text)!=null?c.text:c:c;a=(a=this.props.botInfo)!=null?(a=a.opt_in_dialog_title)!=null?a.text:a:a;return b("React").createElement("div",{className:"_16ti"},b("React").createElement("div",{className:"_16tj"},b("React").createElement(b("FullSizeVerticalScrollView.react"),null,b("React").createElement(b("AnimatedSlideInFromBottom.react"),{initialOffset:"100%",targetOffset:"50%",translate:"0px",trigger:this.state.isMounted},b("React").createElement("div",{className:b("joinClasses")("_16tl","_2bz0")},this.props.gameIcon!==null?b("React").createElement(b("Image.react"),{className:"_1p_9",src:this.props.gameIcon}):null,b("React").createElement("div",{className:"_l7b"},a),b("React").createElement("div",{className:"_1nt5"},e),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Cancel",labelIsHidden:!0,onClick:this.$1,title:c}),b("React").createElement(b("InstantGamesButton.react"),{className:"_swl _6r7f"+(this.state.clicked?" _swm":""),label:"Allow",labelIsHidden:!0,onClick:this.$2,title:d}),b("React").createElement(j,{className:"_swn"+(this.state.clicked?"":" _swm"),size:"large"}))))))};e.exports=c(a,{botInfo:function(){return b("InstantGamesSubscribeBotAsyncDialog_botInfo.graphql")}})}),null);
__d("InstantGamesWebPlayEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GAME_ACTIVE:"game_active"})}),null);
__d("InstantGamesContextualPlayerPresentation.react",["invariant","Promise","AddScoreMutationWebGraphQLMutation","BrowserUnloadListener","CurrentLocale","EndGamePayloadHandler","FacebookAppIDs","FunnelLogger","GamesInstantPlayScoreStrategy","GamesInstantPlaySupportedOrientation","GamesQuicksilverContextKey","GamesQuicksilverError","GamesQuicksilverFunnelLogger","InstantGameContextType","InstantGamePlayedMutationWebGraphQLMutation","InstantGamesAdContainer.react","InstantGamesAdsManager","InstantGamesAdType","InstantGamesChallengeToast.react","InstantGamesConnectedPlayersFetcher","InstantGamesContextCreator.react","InstantGamesContextPlayersFetcher","InstantGamesContextSelector.react","InstantGamesContextSwitcher.react","InstantGamesCrossSiteUtils","InstantGamesCustomSharer","InstantGameSDKTypedLogger","InstantGamesErrorCode","InstantGamesFunnelEvent","InstantGamesGameState","InstantGamesGameSwitchDialogContainer.react","InstantGamesHeartbeatLoggingIntervalConfig","InstantGamesIAP","InstantGamesIAPCompletionDialog.react","InstantGamesInventory","InstantGamesInventoryDialog.react","InstantGamesLinkShareEvent","InstantGamesLinkShareTypedLogger","InstantGamesLoadingScreenContainer.react","InstantGamesMatchPlayerContainer.react","InstantGamesMatchPlayersEvent","InstantGamesMatchPlayersQueueTypedLogger","InstantGamesMessageListener","InstantGamesPassThroughAgent","InstantGamesSDKEvents","InstantGamesSDKEventType","InstantGamesSDKFeatures","InstantGamesSDKMessages","InstantGamesSessionManager","InstantGamesShareBanner.react","InstantGamesSignedPlayerInfoFetcher","InstantGamesSubscribeBotAsyncDialog.react","InstantGamesWebPlayEvent","InstantGamesWebPlayTypedLogger","React","RelayModern","SubscriptionsHandler","Visibility","XAsyncRequest","gkx","InstantGamesContextualPlayerPresentation_contextToken.graphql","InstantGamesContextualPlayerPresentation_thread.graphql","InstantGamesContextualPlayerPresentation_gameInfo.graphql","InstantGamesContextualPlayerPresentation_playerInfo.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("InstantGamesCrossSiteUtils").EventHandler,j=b("InstantGamesCrossSiteUtils").IsMobile,k=b("InstantGamesCrossSiteUtils").MessengerEnvironment,l=b("InstantGamesCrossSiteUtils").ResizeToFullScreen;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.$23=function(){this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").PAUSE,{})}.bind(this);this.$27=function(){this.setState(function(a){return{adInstances:a.adsManager.getOutstandingAdInstances()}})}.bind(this);this.$28=function(a){this.setState({activeAdInstanceID:a})}.bind(this);this.$44=function(){__p&&__p();var a,c;j()&&l();c=((c=this.props.playerInfo)!=null?c.shortName:c)||null;a=(b("gkx")("676892")?(a=this.props.playerInfo)!=null?(a=a.redirectPhoto)!=null?a.uri:a:a:(a=this.props.playerInfo)!=null?(a=a.photo)!=null?a.uri:a:a)||null;this.props.toggleBlur(!1);this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").GAME_START,babelHelpers["extends"]({},this.state.contextKey.getSDKContextInfo(),{entryPoint:this.props.entryPoint,entryPointData:this.props.entryPointData,locale:b("CurrentLocale").get(),playerName:c,playerPhoto:a}));this.props.changeContainerState({gameState:b("InstantGamesGameState").PLAYING});this.$45();b("GamesQuicksilverFunnelLogger").logGamePlayStart(this.props.analyticsInfo.getFunnelName(),"start_screen",this.props.gameInfo.gameID||"",this.props.contextType,this.props.contextSourceID);b("FunnelLogger").appendAction(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelEvent").GAME_ACTIVE);new(b("InstantGamesWebPlayTypedLogger"))().setEvent(b("InstantGamesWebPlayEvent").GAME_ACTIVE).setIgAppID(this.props.gameInfo.gameID).setContextSourceID(this.props.contextSourceID).setContextTokenID(this.props.contextToken?this.props.contextToken.contextID:null).setContextType(this.props.contextType).setSource(this.props.entryPoint).setIsMobile(j()).log();this.$46();this.props.analyticsInfo.getFunnelTimeout()>0&&b("GamesQuicksilverFunnelLogger").setFunnelTimeout(this.props.analyticsInfo.getFunnelName(),this.props.analyticsInfo.getFunnelTimeout())}.bind(this);this.$51=function(a,c){this.$24(!0);this.$1=null;this.$7=null;this.$2=null;this.$10&&(this.$10.remove(),this.$10=null);var d=this.state.contextKey;d.getType()===b("InstantGameContextType").STORY&&(d=new(b("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:null,type:b("InstantGameContextType").SOLO}));this.props.onSwitchGame(a,d,c)}.bind(this);this.$52=function(){var a=this.state.matchPlayerInfo?this.state.matchPlayerInfo.promiseID:null;if(a){var c=new(b("GamesQuicksilverError"))("Player closed the matchmaking dialog").setCode(b("InstantGamesErrorCode").USER_INPUT);this.props.messageSender.rejectGamePromise(a,c);this.setState({matchPlayerInfo:null})}}.bind(this);this.$57=function(){this.setState({showIAPCompletionDialog:!1})}.bind(this);this.$58=function(){this.$51(this.props.gameInfo.gameID||"",this.props.entryPointData)}.bind(this);this.$59=function(){this.setState({shareMessage:null,showShareBanner:!1}),new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").SHARE_BANNER_WHATSAPP_BUTTON_CLICK).setIgAppID(this.props.gameInfo.gameID).setLinkFragment(this.props.contextSourceID).setLinkContextTokenID(this.props.contextToken?this.props.contextToken.contextID:null).setSource(this.props.entryPoint).log()}.bind(this);this.$60=function(){this.setState({shareMessage:null,showShareBanner:!1}),new(b("InstantGamesLinkShareTypedLogger"))().setEvent(b("InstantGamesLinkShareEvent").SHARE_BANNER_CLOSE_BUTTON_CLICK).setIgAppID(this.props.gameInfo.gameID).setLinkFragment(this.props.contextSourceID).setLinkContextTokenID(this.props.contextToken?this.props.contextToken.contextID:null).setSource(this.props.entryPoint).log()}.bind(this);this.$7=null;this.$8=!1;this.$9=new(b("SubscriptionsHandler"))();this.state=this.$13(a);this.$5=this.$14(a);this.$6=((a=this.props.playerInfo)!=null?(a=a.userScope)!=null?a.privacyNotice:a:a)===null;this.props.bufferedMessageDelegate(this.$15.bind(this));this.$10=this.$16();this.$17();this.$18();this.$11=b("InstantGamesHeartbeatLoggingIntervalConfig").heartbeat_interval}a.prototype.UNSAFE_componentWillMount=function(){this.$19()};a.prototype.componentDidMount=function(){this.props.contextChangePromiseID?this.$20(this.props.contextChangePromiseID):this.$21()&&this.$22();var a=b("Visibility").addListener(b("Visibility").HIDDEN,this.$23);this.$9.addSubscriptions(a)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b;if(((b=a)!=null?(b=b.contextToken)!=null?b.contextID:b:b)===((b=this.props)!=null?(b=b.contextToken)!=null?b.contextID:b:b))return;this.props.playerState.savePlayerStateAsync();this.$24(!1);this.setState(this.$13(a),function(){this.props.source!==a.source&&(this.$5.close(),this.$5=this.$14(a)),this.$10=this.$16(),this.$25(),this.$19(),this.props.contextChangePromiseID?this.$20(this.props.contextChangePromiseID):a.gameHasStarted&&this.$22()}.bind(this))};a.prototype.componentDidUpdate=function(a,b){a.focusIframe()};a.prototype.componentWillUnmount=function(){this.$26()};a.prototype.$26=function(){this.props.playerState.cleanup(),this.state.payloadHandler&&this.state.payloadHandler.cleanup(),this.$25(),this.$24(!0),this.$5.close(),this.$9.release(),clearInterval(this.$12)};a.prototype.$13=function(a){var c=null;a.contextToken&&a.contextToken.contextID?c=new(b("GamesQuicksilverContextKey"))({id:a.contextToken&&a.contextToken.contextID,size:a.contextToken&&a.contextToken.contextSize,sourceID:a.contextSourceID,type:a.contextType}):c=new(b("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:null,type:b("InstantGameContextType").SOLO});this.state&&this.state.payloadHandler&&this.state.payloadHandler.cleanup();a=new(b("EndGamePayloadHandler"))({contextKey:c,gameID:a.gameInfo.gameID||""});return{adInstances:[],activeAdInstanceID:null,adsManager:new(b("InstantGamesAdsManager"))(this.$27,this.$28),unlockableItemInfo:null,contextChooseInfo:null,contextCreateInfo:null,contextKey:c,contextSwitchInfo:null,gameSwitchInfo:null,matchPlayerInfo:null,payloadHandler:a,sdkPayload:void 0,subscribeBotInfo:null,showIAPCompletionDialog:!1,shareMessage:null,showShareBanner:b("gkx")("676896")}};a.prototype.$14=function(a){var c=function(a,b){this.$29(a,b)}.bind(this);a=new(b("InstantGamesMessageListener"))(a.source,c);a.init();return a};a.prototype.$29=function(a,c){var d=this.$30();this.props.gameState!==b("InstantGamesGameState").PLAYING&&new(b("InstantGameSDKTypedLogger"))().setEvent(b("InstantGamesSDKEventType").PRE_GAME_START_API_CALL).setEventName(a).setGameID(this.props.gameInfo.gameID).setEventType(b("InstantGamesSDKEvents").CLIENT).log();if(!this.$31(a,c)&&b("gkx")("676897")){c&&c.promiseID&&this.props.messageSender.rejectGamePromise(c.promiseID,new(b("GamesQuicksilverError"))("Can not perform this operation before game start.").setCode(b("InstantGamesErrorCode").INVALID_OPERATION));return}d=d[a];d&&d(c)};a.prototype.$31=function(a,c){return this.props.gameInfo.preGameStartSupportedAPIs!==null&&this.props.gameState!==b("InstantGamesGameState").PLAYING?this.props.gameInfo.preGameStartSupportedAPIs.includes(a)?!0:!1:!0};a.prototype.$16=function(){var a=new(b("BrowserUnloadListener"))();a.registerCallback(function(){this.$26(),b("GamesQuicksilverFunnelLogger").endFunnel(this.props.analyticsInfo.getFunnelName())}.bind(this));return a};a.prototype.$19=function(){if(b("InstantGamesSessionManager").isCurrentSession())return;b("InstantGamesSessionManager").startSession(this.props.gameInfo.gameID||"",this.props.contextSessionID,this.state.contextKey.getID(),this.props.entryPointData)};a.prototype.$25=function(){b("InstantGamesSessionManager").isCurrentSession()&&b("InstantGamesSessionManager").endSession()};a.prototype.$30=function(){__p&&__p();var a={};a[b("InstantGamesSDKMessages").INITIALIZE_ASYNC]=function(a){this.$32(a),this.props.gameInfo.paymentsInfo&&this.props.gameInfo.paymentsInfo.paymentsEnabled&&this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").PAYMENTS_INITIALIZED)}.bind(this);a[b("InstantGamesSDKMessages").ON_BEGIN_LOAD]=function(a){this.$33(a)}.bind(this);a[b("InstantGamesSDKMessages").ON_CONSOLE]=function(a){};a[b("InstantGamesSDKMessages").ON_PROGRESS_LOAD]=function(a){this.$34(a)}.bind(this);a[b("InstantGamesSDKMessages").ON_GAME_READY]=function(a){this.$35()}.bind(this);a[b("InstantGamesSDKMessages").ON_SCORE]=function(a){return this.$36(a)}.bind(this);a[b("InstantGamesSDKMessages").ON_SCREENSHOT]=function(a){this.$37(a)}.bind(this);a[b("InstantGamesSDKMessages").ON_PICTURE]=function(a){return this.$37(a)}.bind(this);a[b("InstantGamesSDKMessages").ON_END_GAME]=function(a){return this.$38(a)}.bind(this);a[b("InstantGamesSDKMessages").GET_PLAYER_DATA_ASYNC]=function(a){this.props.playerState.getPlayerDataAsync(a)}.bind(this);a[b("InstantGamesSDKMessages").SET_PLAYER_DATA_ASYNC]=function(a){this.props.playerState.setPlayerDataAsync(a)}.bind(this);a[b("InstantGamesSDKMessages").GET_CONNECTED_PLAYERS_ASYNC]=function(a){this.$39(a)}.bind(this);a[b("InstantGamesSDKMessages").GET_SIGNED_PLAYER_INFO_ASYNC]=function(a){this.$40(a)}.bind(this);a[b("InstantGamesSDKMessages").SHARE_ASYNC]=function(a){this.$41(a)}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_CHOOSE_ASYNC]=function(a){this.setState({contextChooseInfo:{contextChooseFilters:{filters:a.filters,minSize:a.minSize,maxSize:a.maxSize},promiseID:a.promiseID}})}.bind(this);a[b("InstantGamesSDKMessages").QUIT]=function(){i.inform("instant_games_quit")};a[b("InstantGamesSDKMessages").SET_SESSION_DATA]=function(a){b("InstantGamesSessionManager").setData(a)};a[b("InstantGamesSDKMessages").INVENTORY_UNLOCK_ITEM_ASYNC]=function(a){__p&&__p();var c,d=(c=a)!=null?(c=c.unlockableItemConfig)!=null?c.name:c:c;if(!a.promiseID||!d)return;c=this.props.gameInfo.gameID;c||g(0,352);b("InstantGamesInventory").fetchInventory(c,d).then(function(b){var c;c=(c=b)!=null?c.unlockableItemID:c;b=(b=b)!=null?b.stickerID:b;if(!c||!b)return;this.setState({unlockableItemInfo:{name:d,promiseID:a.promiseID,unlockableItemID:c,stickerID:b}})}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_SWITCH_ASYNC]=function(a){this.setState({contextSwitchInfo:{contextToken:a.id,promiseID:a.promiseID}})}.bind(this);a[b("InstantGamesSDKMessages").FLUSH_PLAYER_DATA_ASYNC]=function(a){this.props.playerState.flushPlayerStateAsync().then(function(){this.props.messageSender.resolveGamePromise(a.promiseID)}.bind(this))["catch"](function(c){c=new(b("GamesQuicksilverError"))(c.message).setCode(b("InstantGamesErrorCode").NETWORK_FAILURE);this.props.messageSender.rejectGamePromise(a.promiseID,c)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_CREATE_ASYNC]=function(a){this.setState({contextCreateInfo:{shouldCreateGroup:a.shouldCreateGroup,playerIDs:a.playerIDs,promiseID:a.promiseID}})}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_CREATE_ASYNC]=function(a){__p&&__p();if(!a.promiseID)return;var c=this.state.contextKey.getID();if(!c){this.props.messageSender.rejectGamePromise(a.promiseID,new(b("GamesQuicksilverError"))("Cannot create a match in a solo context").setCode(b("InstantGamesErrorCode").INVALID_PARAM));return}this.props.contextStorage.createMatch(c,a.name).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_FETCH_ASYNC]=function(a){if(!a.promiseID)return;this.props.contextStorage.fetchMatches(a).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_END_ASYNC]=function(a){if(!a.promiseID)return;this.props.contextStorage.endMatch(a.contextID,a.matchID).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_DATA_FETCH_ASYNC]=function(a){if(!a.promiseID)return;this.props.contextStorage.fetchData(a.contextID,a.matchID,a.keys).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_DATA_SAVE_ASYNC]=function(a){if(!a.promiseID)return;this.props.contextStorage.saveData(a.contextID,a.matchID,a.data).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_PLAYERS_FETCH_ASYNC]=function(a){if(!a.promiseID)return;var c=this.state.contextKey.getID(),d=this.props.gameInfo.gameID;if(!c||!d)return;b("InstantGamesContextPlayersFetcher").fetchAsync(c,d).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CONTEXT_MATCH_DATA_INC_ASYNC]=function(a){if(!a.promiseID)return;this.props.contextStorage.incrementData(a.contextID,a.matchID,a.data,a.keys).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC]=function(a){__p&&__p();if(!a.promiseID)return;var c=a.data,d=a.request,e=a.sdkVersion;if(!c||!d||!e){this.props.messageSender.rejectGamePromise(a.promiseID,new(b("GamesQuicksilverError"))("Missing required parameter").setCode(b("InstantGamesErrorCode").INVALID_PARAM));return}var f=this.props.gameInfo.gameID;f||g(0,352);b("InstantGamesPassThroughAgent").sendRequest({data:c,gameID:f,request:d,sdkVersion:e}).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").CHANGE_CONTEXT_ASYNC]=function(a){var c=a.contextSourceID,d=a.contextType;a=a.promiseID;if(!a)return;if(!c||!d){this.props.messageSender.rejectGamePromise(a,new(b("GamesQuicksilverError"))("Missing required parameter").setCode(b("InstantGamesErrorCode").INVALID_PARAM));return}this.props.onSwitchContext({id:c,promiseID:a,type:d})}.bind(this);a[b("InstantGamesSDKMessages").MATCH_PLAYER_ASYNC]=function(a){var c=a.bannerSearchText,d=a.bannerRetryText,e=a.bannerMatchFoundText,f=a.bannerUserAlreadyInThreadText,g=a.dialogTitle,h=a.dialogTextLineOne,i=a.dialogTextLineTwo,j=a.dialogButtonText,k=a.matchTag,l=a.promiseID,m=a.switchContextWhenMatched,n=a.useV2;a=a.offlineMatch;if(!l)return;new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").SDK_MESSAGE_RECEIVED).log();n&&new(b("InstantGamesMatchPlayersQueueTypedLogger"))().setEvent(b("InstantGamesMatchPlayersEvent").MATCHING_V2_STARTED).log();this.setState({matchPlayerInfo:{bannerSearchText:c||null,bannerRetryText:d||null,bannerMatchFoundText:e||null,bannerUserAlreadyInThreadText:f||null,dialogTitle:g||null,dialogTextLineOne:h||null,dialogTextLineTwo:i||null,dialogButtonText:j||null,matchTag:k||null,promiseID:l,switchContextWhenMatched:m,useV2:n||!1,offlineMatch:a}})}.bind(this);this.props.gameInfo.paymentsInfo&&this.props.gameInfo.paymentsInfo.paymentsEnabled&&!k.messengerui&&(a[b("InstantGamesSDKMessages").PAYMENTS_FETCH_CATALOG_ASYNC]=function(a){if(!a.promiseID)return;var c=this.props.gameInfo.gameID;c||g(0,352);b("InstantGamesIAP").fetchCatalog(c).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this),a[b("InstantGamesSDKMessages").PAYMENTS_FETCH_PURCHASES_ASYNC]=function(a){if(!a.promiseID)return;var c=this.props.gameInfo.gameID;c||g(0,352);b("InstantGamesIAP").fetchPurchases(c).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this),a[b("InstantGamesSDKMessages").PAYMENTS_PURCHASE_ASYNC]=function(a){__p&&__p();if(!a.config||!a.promiseID||!a.config.productID)return;if(this.props.gameState!==b("InstantGamesGameState").PLAYING){this.props.messageSender.rejectGamePromise(a.promiseID,new(b("GamesQuicksilverError"))("Cannot call purchaseAsync before startGameAsync resolves").setCode(b("InstantGamesErrorCode").INVALID_OPERATION));return}var c=this.props.gameInfo.gameID;c||g(0,352);b("InstantGamesIAP").purchaseProduct(c,a.config.productID,a.config.developerPayload).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this),a[b("InstantGamesSDKMessages").PAYMENTS_CONSUME_PURCHASE_ASYNC]=function(a){if(!a.promiseID||!a.token)return;var c=this.props.gameInfo.gameID;c||g(0,352);b("InstantGamesIAP").consumePurchase(c,a.token).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this));if(this.props.gameInfo.supportedAPIs!==null)for(var c=this.props.gameInfo.supportedAPIs,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;switch(f){case b("InstantGamesSDKMessages").GAME_SWITCH:j()||(a[b("InstantGamesSDKMessages").GAME_SWITCH]=function(a){if(!a.promiseID||!a.app_id)return;this.setState({gameSwitchInfo:{entryPointData:a.payload,gameID:a.app_id,promiseID:a.promiseID}})}.bind(this));break;case b("InstantGamesSDKMessages").SUBSCRIBE_BOT_ASYNC:a[b("InstantGamesSDKMessages").SUBSCRIBE_BOT_ASYNC]=function(a){if(!a.promiseID)return;this.setState({subscribeBotInfo:{promiseID:a.promiseID}})}.bind(this);break}}this.props.gameInfo.interstitialAdsEnabled&&(a[b("InstantGamesSDKMessages").GET_INTERSTITIAL_AD_ASYNC]=function(a){if(!a.promiseID||!a.placementID)return;this.state.adsManager.createAdInstance(b("InstantGamesAdType").INTERSTITIAL,a.placementID).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,{adInstanceID:b})}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this));this.props.gameInfo.rewardedVideoEnabled&&(a[b("InstantGamesSDKMessages").GET_REWARDED_VIDEO_ASYNC]=function(a){if(!a.promiseID||!a.placementID)return;this.state.adsManager.createAdInstance(b("InstantGamesAdType").REWARDED_VIDEO,a.placementID).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,{adInstanceID:b})}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this));a[b("InstantGamesSDKMessages").LOAD_AD_ASYNC]=function(a){if(!a.promiseID||!a.adInstanceID)return;this.state.adsManager.loadAdInstance(a.adInstanceID).then(function(){this.props.messageSender.resolveGamePromise(a.promiseID)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);a[b("InstantGamesSDKMessages").SHOW_AD_ASYNC]=function(a){if(!a.promiseID||!a.adInstanceID)return;this.state.adsManager.showAdInstance(a.adInstanceID).then(function(){this.props.messageSender.resolveGamePromise(a.promiseID)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))}.bind(this);return a};a.prototype.$42=function(){return[b("InstantGamesSDKFeatures").FLEXIBLE]};a.prototype.$43=function(){return Object.keys(this.$30())};a.prototype.$15=function(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d.type;d=d.content;this.$29(e,d)}};a.prototype.$17=function(){var a=i.subscribe("instant_games_close_fb_ui",function(a,b){this.setState({unlockableItemInfo:null,contextChooseInfo:null,contextCreateInfo:null,contextSwitchInfo:null,gameSwitchInfo:null,matchPlayerInfo:null,subscribeBotInfo:null})}.bind(this));this.$9.addSubscriptions(a)};a.prototype.$32=function(a){if(!a||!a.promiseID)return;if(b("gkx")("676898")){this.props.messageSender.resolveGamePromise(a.promiseID,{appID:this.props.gameInfo.gameID,playerID:this.props.playerID,supportedFeatures:this.$42(),supportedMessages:this.$43()});return}this.props.messageSender.resolveGamePromise(a.promiseID,babelHelpers["extends"]({appID:this.props.gameInfo.gameID},this.state.contextKey.getSDKContextInfo(),{entryPoint:this.props.entryPoint,entryPointData:this.props.entryPointData,locale:b("CurrentLocale").get(),playerID:this.props.playerID,supportedFeatures:this.$42(),supportedMessages:this.$43()}))};a.prototype.$37=function(a){this.$2=a};a.prototype.$33=function(a){var c=window.performance;this.$3=c.now();this.$4=a;this.props.changeContainerState({gameState:b("InstantGamesGameState").LOADING,progress:0});b("FunnelLogger").appendAction(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelEvent").LOADING_STARTED)};a.prototype.$34=function(a){this.props.changeContainerState({progress:Math.round(a/this.$4*100)})};a.prototype.$35=function(){var a=window.performance;a=a.now()-this.$3;b("FunnelLogger").appendAction(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelEvent").GAME_READY);this.props.changeContainerState({progress:100,gameState:b("InstantGamesGameState").READY})};a.prototype.$36=function(a){if(this.state.contextKey.getType()===b("InstantGameContextType").MATCH)return;var c=this.props.gameInfo.scoreStrategy;this.$1=a;this.$7==null?this.$7=this.$1:this.$7=c===b("GamesInstantPlayScoreStrategy").LOWEST_BEST?Math.min(this.$7,this.$1):Math.max(this.$7,this.$1)};a.prototype.$38=function(a){if(!this.props.gameHasStarted){this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").RESTART,{error:{code:b("InstantGamesErrorCode").INVALID_OPERATION,message:"Cannot post an update before the game has even started."}});return}this.state.contextKey.getType()===b("InstantGameContextType").LINK&&b("gkx")("676899")&&this.setState({shareMessage:a.text,showShareBanner:!0});this.state.payloadHandler.handle(a).then(this.$47.bind(this))["catch"](this.$48.bind(this))};a.prototype.$49=function(a){a&&this.setState({sdkPayload:a})};a.prototype.$47=function(){this.props.playerState.savePlayerStateAsync(),b("GamesQuicksilverFunnelLogger").logGamePlayEnd(this.props.analyticsInfo.getFunnelName(),this.props.gameInfo.gameID||"",this.props.contextType,this.props.contextSourceID),this.$22()};a.prototype.$48=function(a){this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").RESTART,{error:{message:a.message||"Failure while processing end game payload"}})};a.prototype.$22=function(){this.$1=null,this.$2=null,this.props.toggleBlur(!1),this.props.messageSender.sendMessage(b("InstantGamesSDKMessages").RESTART,babelHelpers["extends"]({},this.state.contextKey.getSDKContextInfo(),{updatePayload:this.state.sdkPayload})),this.props.gameHasStarted&&this.props.changeContainerState({gameState:b("InstantGamesGameState").PLAYING}),this.props.focusIframe(),b("GamesQuicksilverFunnelLogger").logGamePlayStart(this.props.analyticsInfo.getFunnelName(),"replay",this.props.gameInfo.gameID||"",this.props.contextType,this.props.contextSourceID)};a.prototype.$45=function(){var a=k.messengerui?b("FacebookAppIDs").MESSENGERDOTCOM:b("FacebookAppIDs").WWW;a=b("InstantGamePlayedMutationWebGraphQLMutation").getURI({app_id:this.props.gameInfo.gameID,source_app_id:a});new(b("XAsyncRequest"))(a).setMethod("POST").send()};a.prototype.$24=function(a){a===void 0&&(a=!1),this.$50(a)["catch"](function(a){})};a.prototype.$50=function(a){__p&&__p();a===void 0&&(a=!1);var c=this;return new(b("Promise"))(function(d,e){__p&&__p();if(c.$1==null){e(new Error("no score available to save."));return}var f=c.state.contextKey.getSourceID(),g=c.$7==null?c.$1:c.$7;g=a?g:c.$1;g=b("AddScoreMutationWebGraphQLMutation").getURI({game_id:c.props.gameInfo.gameID,score:g,thread_id:c.state.contextKey.isThread()?f:null,story_id:c.state.contextKey.isStory()?f:null,group_id:c.state.contextKey.isGroup()?f:null,send_admin:a,session_id:c.props.contextSessionID});new(b("XAsyncRequest"))(g).setHandler(function(a){d(a&&a.payload&&a.payload.data&&a.payload.data.instant_game_add_score)}).setErrorHandler(function(){e(new Error("internal error while saving score."))}).send()})};a.prototype.$39=function(a){__p&&__p();if(!a.promiseID)return;var c=this.props.gameInfo.gameID;if(!c)return;b("InstantGamesConnectedPlayersFetcher").fetchAsync(c).then(function(c){c=c.map(function(a){var c;return{id:a.playerID,name:(c=a)!=null?(c=c.user)!=null?c.name:c:c,photo:b("gkx")("676892")?(c=a)!=null?(c=c.user)!=null?(c=c.redirectPhoto)!=null?c.uri:c:c:c:(c=a)!=null?(c=c.user)!=null?(c=c.photo)!=null?c.uri:c:c:c}});this.props.messageSender.resolveGamePromise(a.promiseID,c)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))};a.prototype.$40=function(a){if(!a.promiseID)return;var c=this.props.gameInfo.gameID;if(!c)return;b("InstantGamesSignedPlayerInfoFetcher").fetchAsync(c,a.requestPayload).then(function(b){this.props.messageSender.resolveGamePromise(a.promiseID,b)}.bind(this))["catch"](function(b){this.props.messageSender.rejectGamePromise(a.promiseID,b)}.bind(this))};a.prototype.$41=function(a){var c=a.promiseID;if(!c)return;a.gameID=this.props.gameInfo.gameID;b("InstantGamesCustomSharer").shareAsync(a).then(function(){this.props.messageSender.resolveGamePromise(c)}.bind(this))["catch"](function(a){this.props.messageSender.rejectGamePromise(c,a)}.bind(this))};a.prototype.$20=function(a){this.props.changeContainerState({gameState:b("InstantGamesGameState").PLAYING}),this.props.messageSender.resolveGamePromise(a,babelHelpers["extends"]({},this.state.contextKey.getSDKContextInfo())),this.props.changeContainerState({contextChangePromiseID:null})};a.prototype.$53=function(){var a;return!this.props.thread?!1:!((a=this.props.thread)!=null?(a=a.leaderboard)!=null?a.hasScores:a:a)};a.prototype.$21=function(){return this.props.gameHasStarted&&!this.$53()};a.prototype.$54=function(){return this.props.gameState!==b("InstantGamesGameState").LOADING&&this.props.gameState!==b("InstantGamesGameState").READY?!1:!0};a.prototype.$55=function(){return this.state.showShareBanner&&this.state.contextKey.getType()===b("InstantGameContextType").LINK&&b("gkx")("676899")};a.prototype.$56=function(){var a;if(this.$8)return!1;if(this.props.gameInfo.interactive360)return!1;if(!this.props.contextToken||((a=this.props.thread)!=null?(a=a.leaderboard)!=null?a.hasScores:a:a)||this.props.gameState!==b("InstantGamesGameState").PLAYING)return!1;this.$8=!0;return!0};a.prototype.$46=function(){b("GamesQuicksilverFunnelLogger").logHeartbeat(this.props.analyticsInfo.getFunnelName(),this.props.gameInfo.gameID||"",this.$11||0),this.$11>0&&(this.$12=setInterval(function(){b("Visibility").isHidden()||b("GamesQuicksilverFunnelLogger").logHeartbeat(this.props.analyticsInfo.getFunnelName(),this.props.gameInfo.gameID||"",this.$11||0)}.bind(this),this.$11*1e3))};a.prototype.$18=function(){var a=i.subscribe("iap_completion",function(a){this.setState({showIAPCompletionDialog:!0})}.bind(this));this.$9.addSubscriptions(a)};a.prototype.render=function(){__p&&__p();var a,c,d,e,f;f=(f=this.state.contextChooseInfo)!=null?f.promiseID:f;e=(e=this.state.contextChooseInfo)!=null?e.contextChooseFilters:e;var g=this.state.contextCreateInfo;d=(d=g)!=null?d.playerIDs:d;(c=g)!=null?c.shouldCreateGroup:c;c=this.state.contextSwitchInfo;var h=this.state.gameSwitchInfo,i=this.state.subscribeBotInfo,j=this.state.matchPlayerInfo,k=this.state.unlockableItemInfo,l=this.props.gameInfo.gameID||"";a=(b("gkx")("676892")?(a=this.props.playerInfo)!=null?(a=a.redirectPhoto)!=null?a.uri:a:a:(a=this.props.playerInfo)!=null?(a=a.photo)!=null?a.uri:a:a)||"";var m=this.state.showIAPCompletionDialog;return b("React").createElement("div",null,this.$54()?b("React").createElement(b("InstantGamesLoadingScreenContainer.react"),{contextKey:this.state.contextKey,funnelName:this.props.analyticsInfo.getFunnelName(),gameInfo:this.props.gameInfo,gameState:this.props.gameState,onStart:this.$44,onTos:this.props.onTos,privacyUrl:this.props.privacyUrl,progress:this.props.progress,userScope:this.props.playerInfo.userScope}):null,this.$55()?b("React").createElement(b("InstantGamesShareBanner.react"),{appID:this.props.gameInfo.gameID,appNamespace:this.props.gameInfo.appNamespace,contextSourceID:this.props.contextSourceID,onShareButtonClick:this.$59,onCloseButtonClick:this.$60,shareMessage:this.state.shareMessage}):null,this.$56()?b("React").createElement(b("InstantGamesChallengeToast.react"),{context:this.props.contextToken}):null,f?b("React").createElement(b("InstantGamesContextSelector.react"),{contextKey:this.state.contextKey,filters:e,gameID:l,messageSender:this.props.messageSender,promiseID:f,switchContext:this.props.onSwitchContext,entryPoint:this.props.entryPoint}):null,g&&d?b("React").createElement(b("InstantGamesContextCreator.react"),{contextKey:this.state.contextKey,gameID:l,messageSender:this.props.messageSender,playerIDs:d,playerPhotoURI:a,promiseID:g.promiseID,switchContext:this.props.onSwitchContext}):null,c?b("React").createElement(b("InstantGamesContextSwitcher.react"),{changeContext:this.props.onSwitchContext,gameID:l,messageSender:this.props.messageSender,newContext:c.contextToken,oldContext:this.state.contextKey.getID(),promiseID:c.promiseID}):null,j?b("React").createElement(b("InstantGamesMatchPlayerContainer.react"),{onCancel:this.$52,bannerSearchText:j.bannerSearchText,bannerRetryText:j.bannerRetryText,bannerMatchFoundText:j.bannerMatchFoundText,dialogTitle:j.dialogTitle,dialogTextLineOne:j.dialogTextLineOne,dialogTextLineTwo:j.dialogTextLineTwo,dialogButtonText:j.dialogButtonText,bannerUserAlreadyInThreadText:j.bannerUserAlreadyInThreadText,gameIcon:this.props.gameInfo.iconURI,gameID:l,isLandscape:!!this.props.gameInfo.orientation&&Object.prototype.hasOwnProperty.call(b("GamesInstantPlaySupportedOrientation"),this.props.gameInfo.orientation)&&b("GamesInstantPlaySupportedOrientation")[this.props.gameInfo.orientation]===b("GamesInstantPlaySupportedOrientation").LANDSCAPE,matchTag:j.matchTag,messageSender:this.props.messageSender,onSwitchContext:this.props.onSwitchContext,playerPhoto:a,promiseID:j.promiseID,switchContextWhenMatched:j.switchContextWhenMatched,useV2:j.useV2,offlineMatch:j.offlineMatch}):null,h?b("React").createElement(b("InstantGamesGameSwitchDialogContainer.react"),{context:this.state.contextKey.getType()===b("InstantGameContextType").STORY?null:this.props.contextToken,entryPointData:h.entryPointData,gameID:h.gameID,messageSender:this.props.messageSender,switchGame:this.$51,promiseID:h.promiseID}):null,i&&this.props.gameInfo.name?b("React").createElement(b("InstantGamesSubscribeBotAsyncDialog.react"),{gameID:l,gameName:this.props.gameInfo.name,messageSender:this.props.messageSender,promiseID:i.promiseID,gameIcon:this.props.gameInfo.iconURI,botInfo:this.props.gameInfo.botInfo}):null,m?b("React").createElement(b("InstantGamesIAPCompletionDialog.react"),{onContinue:this.$57,onRestart:this.$58}):null,k&&this.props.gameInfo.name?b("React").createElement(b("InstantGamesInventoryDialog.react"),{gameID:l,gameName:this.props.gameInfo.name,messageSender:this.props.messageSender,promiseID:k.promiseID,gameIcon:this.props.gameInfo.iconURI,unlockableItemID:k.unlockableItemID,playerID:this.props.playerID,stickerID:k.stickerID}):null,b("React").createElement(b("InstantGamesAdContainer.react"),{adInstances:this.state.adInstances,activeAdInstanceID:this.state.activeAdInstanceID}))};e.exports=c(a,{contextToken:function(){return b("InstantGamesContextualPlayerPresentation_contextToken.graphql")},thread:function(){return b("InstantGamesContextualPlayerPresentation_thread.graphql")},gameInfo:function(){return b("InstantGamesContextualPlayerPresentation_gameInfo.graphql")},playerInfo:function(){return b("InstantGamesContextualPlayerPresentation_playerInfo.graphql")}})}),null);
__d("InstantGamesFunnelTag",[],(function(a,b,c,d,e,f){"use strict";a={APP:"app",CONTEXT:"context",CONTEXT_ID:"context_id",GAME_PLATFORM_VERSION:"game_platform_version",INITIAL_THREAD_ID:"initial_thread_id",INVITATION_ID:"invitation_id",PREVIOUS_GAME_ID:"previous_game_id",SOURCE:"source",SOURCE_ID:"source_id",WEBGL_SUPPORTED:"webgl_supported",GAEM_TAB_INBOX_UNIT_LOGGING_DATA:"games_tab_inbox_unit_logging_data",ORIENTATION:"orientation"};e.exports=a}),null);
__d("InstantGamesPlayerIframe.react",["GamesQuicksilverIframe.react","InstantGamesGameState","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.setFocus=function(){this.$1&&this.$1.setFocus()};a.prototype.render=function(){return this.props.gameState===b("InstantGamesGameState").INITIAL?null:b("React").createElement(b("GamesQuicksilverIframe.react"),{className:this.props.className,messageSender:this.props.messageSender,ref:function(a){this.$1=a}.bind(this),source:this.props.source,src:this.props.src,sandbox:this.props.sandbox})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("InstantGamesSplashScreen.react",["cx","InstantGamesCrossSiteUtils","InstantGamesGameState","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("InstantGamesCrossSiteUtils").IsMobile;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props.gameState===b("InstantGamesGameState").INITIAL||this.props.gameState===b("InstantGamesGameState").LOADING||this.props.gameState===b("InstantGamesGameState").READY;return!a?null:b("React").createElement("div",{className:"_4x9n"},b("React").createElement("div",{className:"_4x9o"+(i()?" _3jqp":""),style:{backgroundImage:"url("+this.props.splashURI+")"}}),b("React").createElement("div",{className:"_4x9p"},b("React").createElement("div",{className:"_4x9q",style:{width:this.props.progress+"%"}})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LoadingOverlay.react",["cx","GamesSpinner.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",null,this.$1())};a.prototype.$1=function(){"use strict";return this.props.isLoading==null||this.props.isLoading===!1?null:b("React").createElement("div",{className:"_3wn7"},b("React").createElement(b("GamesSpinner.react"),null))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ThreadKeyQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1171468382980763"};c.getQueryID=function(){"use strict";return"789826464505693"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("InstantGamesContextualPlayer.react",["cx","CurrentUser","GamesQuicksilverFunnelLogger","GamesQuicksilverMessageSender","GamesQuicksilverPlayerState","InstantGameContextType","InstantGamesContextStorage","InstantGamesContextualPlayerPresentation.react","InstantGamesCrossSiteUtils","InstantGamesFunnelTag","InstantGamesGameState","InstantGamesMessageListener","InstantGamesPlayerIframe.react","InstantGamesSDKMessages","InstantGamesSplashScreen.react","LoadingOverlay.react","MercuryIDs","QuicksilverSources","React","RelayFBEnvironment","RelayModern","ThreadKeyQueryWebGraphQLQuery","URI","XAsyncRequest","gkx","uuid","InstantGamesContextualPlayerChatCommandSubscription.graphql","InstantGamesContextualPlayerQuery.graphql","InstantGamesContextualPlayer_gameInfo.graphql","InstantGamesContextualPlayer_playerInfo.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=b("InstantGamesCrossSiteUtils").FantaTabActions,l=b("InstantGamesCrossSiteUtils").IsMobile,m=b("InstantGamesCrossSiteUtils").MessengerEnvironment,n=b("RelayModern").QueryRenderer;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o=b("RelayModern").requestSubscription;function p(a){var c=a.other_user_id;a=a.thread_fbid;if(c)return b("MercuryIDs").getThreadIDFromUserID(c);else if(a)return b("MercuryIDs").getThreadIDFromThreadFBID(a);return null}d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.$12=function(){this.$4&&this.$4.setFocus()}.bind(this);this.$13=function(a){a=a!=null?a:!this.state.blurIframe;this.setState({blurIframe:a})}.bind(this);this.$14=function(a){a(this.$1),this.$1=[]}.bind(this);this.$15=function(a){a.gameState===b("InstantGamesGameState").PLAYING&&(this.$3=!0),this.setState(babelHelpers["extends"]({},a))}.bind(this);this.$16=function(a){b("GamesQuicksilverFunnelLogger").logGameContextUpdate(this.props.analyticsInfo.getFunnelName(),a&&a.source||null,this.props.gameInfo.gameID||"",a?a.type:b("InstantGameContextType").SOLO,a?a.id:null);if(!a){this.setState({contextSessionID:b("uuid")(),contextSourceID:null,contextType:b("InstantGameContextType").SOLO,gameState:b("InstantGamesGameState").READY});return}this.setState({contextChangePromiseID:a.promiseID,contextSessionID:b("uuid")(),contextSourceID:a.id,contextType:a.type,gameState:b("InstantGamesGameState").READY})}.bind(this);this.$17=function(a,c,d){this.$13(!1),this.$6.cleanup(),this.props.onSwitchGame({entryPointData:d,gameID:a,contextKey:c}),this.setState({contextSessionID:b("uuid")(),isTosed:!1})}.bind(this);this.$18=function(){this.setState({isTosed:!0})}.bind(this);var c=new(b("GamesQuicksilverMessageSender"))();this.state={blurIframe:!1,contextChangePromiseID:null,contextSessionID:b("uuid")(),contextSourceID:a.contextSourceID,contextType:a.contextType,gameState:b("InstantGamesGameState").LOADING,messageSender:c,progress:0,isTosed:!1};this.$6=new(b("GamesQuicksilverPlayerState"))(a.gameInfo.gameID||"",c);this.$2=new(b("InstantGamesContextStorage"))(a.gameInfo.gameID||"");this.$3=!1;this.$7="fbinstant-"+(this.props.gameInfo.gameID||"");this.$1=[];this.$5=new(b("InstantGamesMessageListener"))(this.$7,function(a,b){return this.$8(a,b)}.bind(this));this.$5.init();b("GamesQuicksilverFunnelLogger").addTag(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelTag").GAME_PLATFORM_VERSION,this.props.gameInfo.gamePlatformVersion||"");b("GamesQuicksilverFunnelLogger").addTag(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelTag").ORIENTATION,a.gameInfo.orientation||"");b("GamesQuicksilverFunnelLogger").addTag(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelTag").CONTEXT,this.state.contextType);c=this.state.contextSourceID;c&&b("GamesQuicksilverFunnelLogger").addTag(this.props.analyticsInfo.getFunnelName(),b("InstantGamesFunnelTag").CONTEXT_ID,c)}a.prototype.componentDidMount=function(){b("gkx")("791036")&&this.props.analyticsInfo.getSource()===b("QuicksilverSources").STREAMER_DASHBOARD&&this.$9()};a.prototype.componentWillUnmount=function(){this.$5.close(),this.$10()};a.prototype.$9=function(){var a=i||(i=function(){return b("InstantGamesContextualPlayerChatCommandSubscription.graphql")});o(b("RelayFBEnvironment"),{subscription:a,variables:{input:{creator_id:b("CurrentUser").getAccountID(),command_type:"PLAY"}},onNext:function(a){a=a==null?void 0:a.live_chat_command_subscribe.action;a!=null&&this.state.messageSender.sendMessage(b("InstantGamesSDKMessages").GESTURE_COMMAND,{gesture:a})}.bind(this)})};a.prototype.$11=function(){__p&&__p();var a={},c=this.props.gameInfo.gameID||"",d=this.state.contextSourceID,e=this.state.contextType;switch(e){case b("InstantGameContextType").THREAD:a.thread_id=d;break;case b("InstantGameContextType").STORY:a.story_token=d;break;case b("InstantGameContextType").GROUP:a.group_id=d;break;case b("InstantGameContextType").LINK:a.link_fragment=d;break;case b("InstantGameContextType").MATCH:a.match_id=d;break;default:break}return{contextSourceID:d,gameID:c,fetchThread:e===b("InstantGameContextType").THREAD,tokenInput:{app_id:c,key:a}}};a.prototype.$8=function(a,b){this.$1.push({type:a,content:b||null})};a.prototype.$10=function(){if(m.messengerui||this.state.contextType!==b("InstantGameContextType").THREAD||!this.state.contextSourceID)return;var a=b("ThreadKeyQueryWebGraphQLQuery").getURI({id:this.state.contextSourceID});new(b("XAsyncRequest"))(a).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?(a=a.data)!=null?(a=a.message_thread)!=null?a.thread_key:a:a:a:a;if(!a)return;a=p(a);a&&k.openTab(a)}).send()};a.prototype.render=function(){__p&&__p();var a,c=new(b("URI"))(this.props.overrideGameURL||this.props.gameInfo.gameURI);c.addQueryData({source:this.$7,IsMobileWeb:l()?1:0});return b("React").createElement("div",{className:"_1o3k"},b("React").createElement(b("InstantGamesSplashScreen.react"),{gameState:this.state.gameState,platformVersion:((a=this.props.gameInfo)!=null?a.gamePlatformVersion:a)||"LEGACY",progress:this.state.progress,splashURI:((a=this.props.gameInfo)!=null?a.splashURI:a)||""}),this.state.isTosed||!b("gkx")("676894")?b("React").createElement(b("InstantGamesPlayerIframe.react"),{gameState:this.state.gameState,messageSender:this.state.messageSender,ref:function(a){this.$4=a}.bind(this),source:this.$7,src:c.toString(),sandbox:b("gkx")("676895")}):null,b("React").createElement(n,{environment:b("RelayFBEnvironment"),query:j||(j=function(){return b("InstantGamesContextualPlayerQuery.graphql")}),render:function(a){a.error;a=a.props;if(a){this.$5.close();return b("React").createElement(b("InstantGamesContextualPlayerPresentation.react"),babelHelpers["extends"]({},this.props,{bufferedMessageDelegate:this.$14,changeContainerState:this.$15,contextChangePromiseID:this.state.contextChangePromiseID,contextSessionID:this.state.contextSessionID,contextSourceID:this.state.contextSourceID,contextStorage:this.$2,contextToken:a.token,contextType:this.state.contextType,focusIframe:this.$12,gameInfo:this.props.gameInfo,gameHasStarted:this.$3,gameState:this.state.gameState,messageSender:this.state.messageSender,onSwitchContext:this.$16,onSwitchGame:this.$17,onTos:this.$18,playerState:this.$6,privacyUrl:this.props.privacyUrl,progress:this.state.progress,source:this.$7,thread:a.messageThread,toggleBlur:this.$13}))}return b("React").createElement(b("LoadingOverlay.react"),{isLoading:!0})}.bind(this),variables:this.$11()}))};e.exports=c(a,{gameInfo:function(){return b("InstantGamesContextualPlayer_gameInfo.graphql")},playerInfo:function(){return b("InstantGamesContextualPlayer_playerInfo.graphql")}})}),null);
__d("MInstantGamesPaymentIFrameMessageSender",[],(function(a,b,c,d,e,f){"use strict";var g="*";a={ROOT_ID:"quicksilver_player",postMessage:function(a){window.top.postMessage(a,g)},postPaymentFailure:function(a,b){this.postMessage({error_code:a,error_message:b})}};e.exports=a}),null);
__d("InstantNativeGames",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOCCER:1858843294435923,BASKETBALL:1555255427859932})}),null);